import{S as bt,i as gt,s as vt,d as u,r as Ge,w as xe,x as be,b as ce,f as c,G as Fe,E as Je,c as B,e as o,l as z,g as f,h as b,m as D,k as x,j as W,F as Pe,o as p,t as N,q as y,J as mt,v as He,y as qe,z as ze,A as Re,K as it,a as Ye,n as Ve,B as kt,u as wt}from"../chunks/C5iOHsLH.js";import{e as Ze,u as xt,o as yt}from"../chunks/DfBDX2Lx.js";import"../chunks/IHki7fMi.js";import{g as $e}from"../chunks/C6DVl_C2.js";import{a as Be}from"../chunks/BzUZX5_t.js";import{R as Ct,L as Et,t as Tt}from"../chunks/CncNp5At.js";import{P as Vt}from"../chunks/D1Pdmkt6.js";import{V as It}from"../chunks/DNlyVAlp.js";function Dt(a){let e,t=a[0].script+"",l;return{c(){e=p("p"),l=N(t),this.h()},l(r){e=f(r,"P",{class:!0});var n=b(e);l=D(n,t),n.forEach(u),this.h()},h(){c(e,"class","text-gray-200 whitespace-pre-wrap")},m(r,n){B(r,e,n),o(e,l)},p(r,n){n[0]&1&&t!==(t=r[0].script+"")&&ce(l,t)},d(r){r&&u(e)}}}function Nt(a){let e,t,l;return{c(){e=p("textarea"),this.h()},l(r){e=f(r,"TEXTAREA",{class:!0,rows:!0}),b(e).forEach(u),this.h()},h(){c(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),c(e,"rows","4")},m(r,n){B(r,e,n),Ye(e,a[3]),t||(l=z(e,"input",a[19]),t=!0)},p(r,n){n[0]&8&&Ye(e,r[3])},d(r){r&&u(e),t=!1,l()}}}function Bt(a){let e,t="Not generated yet";return{c(){e=p("p"),e.textContent=t,this.h()},l(l){e=f(l,"P",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-10ts8hq"&&(e.textContent=t),this.h()},h(){c(e,"class","text-gray-500 italic")},m(l,r){B(l,e,r)},p:Ve,d(l){l&&u(e)}}}function Pt(a){let e,t;return{c(){e=p("p"),t=N(a[4]),this.h()},l(l){e=f(l,"P",{class:!0});var r=b(e);t=D(r,a[4]),r.forEach(u),this.h()},h(){c(e,"class","text-gray-200 whitespace-pre-wrap")},m(l,r){B(l,e,r),o(e,t)},p(l,r){r[0]&16&&ce(t,l[4])},d(l){l&&u(e)}}}function Ut(a){let e,t,l;return{c(){e=p("textarea"),this.h()},l(r){e=f(r,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),b(e).forEach(u),this.h()},h(){c(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),c(e,"rows","4"),c(e,"placeholder","Generate clean text for voiceover...")},m(r,n){B(r,e,n),Ye(e,a[4]),t||(l=z(e,"input",a[20]),t=!0)},p(r,n){n[0]&16&&Ye(e,r[4])},d(r){r&&u(e),t=!1,l()}}}function At(a){let e,t="‚úèÔ∏è Edit",l,r,n="üé¨ Create Video",d,i;return{c(){e=p("button"),e.textContent=t,l=y(),r=p("button"),r.textContent=n,this.h()},l(s){e=f(s,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-rtjn0e"&&(e.textContent=t),l=x(s),r=f(s,"BUTTON",{class:!0,"data-svelte-h":!0}),W(r)!=="svelte-1gipdk6"&&(r.textContent=n),this.h()},h(){c(e,"class","px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors"),c(r,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all")},m(s,h){B(s,e,h),B(s,l,h),B(s,r,h),d||(i=[z(e,"click",a[22]),z(r,"click",a[13])],d=!0)},p:Ve,d(s){s&&(u(e),u(l),u(r)),d=!1,Ge(i)}}}function St(a){let e,t="üíæ Save",l,r,n="Cancel",d,i;return{c(){e=p("button"),e.textContent=t,l=y(),r=p("button"),r.textContent=n,this.h()},l(s){e=f(s,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-kcz9eg"&&(e.textContent=t),l=x(s),r=f(s,"BUTTON",{class:!0,"data-svelte-h":!0}),W(r)!=="svelte-13v2dgx"&&(r.textContent=n),this.h()},h(){c(e,"class","flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors"),c(r,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors")},m(s,h){B(s,e,h),B(s,l,h),B(s,r,h),d||(i=[z(e,"click",a[11]),z(r,"click",a[21])],d=!0)},p:Ve,d(s){s&&(u(e),u(l),u(r)),d=!1,Ge(i)}}}function ct(a){let e,t,l,r="üé¨ Video Settings",n,d,i,s,h="üìê Text Position",C,g,k,S,E,ue,V,$,j,L,I,se,O,R,F,ee,ge="üñºÔ∏è Custom Background (Optional)",te,P,le,ne,ye="JPG, PNG, GIF, WebP (max 10MB)",H,Q,G,we="üé¨ Generate Video",m,U,re="Cancel",q,J;return{c(){e=p("div"),t=p("div"),l=p("h3"),l.textContent=r,n=y(),d=p("div"),i=p("div"),s=p("label"),s.textContent=h,C=y(),g=p("div"),k=p("button"),S=N("‚¨ÜÔ∏è Top"),ue=y(),V=p("button"),$=N("‚è∫Ô∏è Center"),L=y(),I=p("button"),se=N("‚¨áÔ∏è Bottom"),R=y(),F=p("div"),ee=p("label"),ee.textContent=ge,te=y(),P=p("input"),le=y(),ne=p("p"),ne.textContent=ye,H=y(),Q=p("div"),G=p("button"),G.textContent=we,m=y(),U=p("button"),U.textContent=re,this.h()},l(Y){e=f(Y,"DIV",{class:!0});var M=b(e);t=f(M,"DIV",{class:!0});var pe=b(t);l=f(pe,"H3",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-192819n"&&(l.textContent=r),n=x(pe),d=f(pe,"DIV",{class:!0});var Ce=b(d);i=f(Ce,"DIV",{});var ve=b(i);s=f(ve,"LABEL",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-1p0zjbe"&&(s.textContent=h),C=x(ve),g=f(ve,"DIV",{class:!0});var de=b(g);k=f(de,"BUTTON",{class:!0});var oe=b(k);S=D(oe,"‚¨ÜÔ∏è Top"),oe.forEach(u),ue=x(de),V=f(de,"BUTTON",{class:!0});var Ie=b(V);$=D(Ie,"‚è∫Ô∏è Center"),Ie.forEach(u),L=x(de),I=f(de,"BUTTON",{class:!0});var Ee=b(I);se=D(Ee,"‚¨áÔ∏è Bottom"),Ee.forEach(u),de.forEach(u),ve.forEach(u),R=x(Ce),F=f(Ce,"DIV",{});var T=b(F);ee=f(T,"LABEL",{class:!0,"data-svelte-h":!0}),W(ee)!=="svelte-cj4s01"&&(ee.textContent=ge),te=x(T),P=f(T,"INPUT",{type:!0,accept:!0,class:!0}),le=x(T),ne=f(T,"P",{class:!0,"data-svelte-h":!0}),W(ne)!=="svelte-18xcy9y"&&(ne.textContent=ye),T.forEach(u),Ce.forEach(u),H=x(pe),Q=f(pe,"DIV",{class:!0});var Te=b(Q);G=f(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),W(G)!=="svelte-1r9r3yw"&&(G.textContent=we),m=x(Te),U=f(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),W(U)!=="svelte-smpvns"&&(U.textContent=re),Te.forEach(u),pe.forEach(u),M.forEach(u),this.h()},h(){c(l,"class","text-xl font-bold text-white mb-4"),c(s,"class","block text-sm font-semibold text-gray-300 mb-2"),c(k,"class",E="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(a[9]==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),c(V,"class",j="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(a[9]==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),c(I,"class",O="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(a[9]==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),c(g,"class","flex gap-2"),c(ee,"class","block text-sm font-semibold text-gray-300 mb-2"),c(P,"type","file"),c(P,"accept","image/*"),c(P,"class","w-full px-4 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700"),c(ne,"class","text-xs text-gray-400 mt-1"),c(d,"class","space-y-4 mb-6"),c(G,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all"),c(U,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),c(Q,"class","flex gap-3"),c(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-md mx-4 p-6"),c(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-40")},m(Y,M){B(Y,e,M),o(e,t),o(t,l),o(t,n),o(t,d),o(d,i),o(i,s),o(i,C),o(i,g),o(g,k),o(k,S),o(g,ue),o(g,V),o(V,$),o(g,L),o(g,I),o(I,se),o(d,R),o(d,F),o(F,ee),o(F,te),o(F,P),o(F,le),o(F,ne),o(t,H),o(t,Q),o(Q,G),o(Q,m),o(Q,U),q||(J=[z(k,"click",a[23]),z(V,"click",a[24]),z(I,"click",a[25]),z(P,"change",a[26]),z(G,"click",a[14]),z(U,"click",a[27]),z(t,"click",mt(a[18])),z(e,"click",a[28])],q=!0)},p(Y,M){M[0]&512&&E!==(E="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(Y[9]==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&c(k,"class",E),M[0]&512&&j!==(j="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(Y[9]==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&c(V,"class",j),M[0]&512&&O!==(O="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(Y[9]==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&c(I,"class",O)},d(Y){Y&&u(e),q=!1,Ge(J)}}}function ut(a){let e,t;return e=new Vt({props:{taskId:a[8],title:"Creating Video",onStop:a[15],onClose:a[29]}}),{c(){Re(e.$$.fragment)},l(l){ze(e.$$.fragment,l)},m(l,r){qe(e,l,r),t=!0},p(l,r){const n={};r[0]&256&&(n.taskId=l[8]),r[0]&130&&(n.onClose=l[29]),e.$set(n)},i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){xe(e.$$.fragment,l),t=!1},d(l){He(e,l)}}}function dt(a){let e,t,l,r="‚ú® Generated Post Text",n,d,i,s,h,C,g,k="Edit",S,E,ue="Close",V,$;return{c(){e=p("div"),t=p("div"),l=p("h3"),l.textContent=r,n=y(),d=p("div"),i=p("p"),s=N(a[4]),h=y(),C=p("div"),g=p("button"),g.textContent=k,S=y(),E=p("button"),E.textContent=ue,this.h()},l(j){e=f(j,"DIV",{class:!0});var L=b(e);t=f(L,"DIV",{class:!0});var I=b(t);l=f(I,"H3",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-1lbyrrb"&&(l.textContent=r),n=x(I),d=f(I,"DIV",{class:!0});var se=b(d);i=f(se,"P",{class:!0});var O=b(i);s=D(O,a[4]),O.forEach(u),se.forEach(u),h=x(I),C=f(I,"DIV",{class:!0});var R=b(C);g=f(R,"BUTTON",{class:!0,"data-svelte-h":!0}),W(g)!=="svelte-s50vdr"&&(g.textContent=k),S=x(R),E=f(R,"BUTTON",{class:!0,"data-svelte-h":!0}),W(E)!=="svelte-11cd5q2"&&(E.textContent=ue),R.forEach(u),I.forEach(u),L.forEach(u),this.h()},h(){c(l,"class","text-xl font-bold text-white mb-4"),c(i,"class","text-gray-200 whitespace-pre-wrap"),c(d,"class","bg-gray-900 p-4 rounded-lg mb-4"),c(g,"class","px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors"),c(E,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),c(C,"class","flex justify-end gap-3"),c(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl mx-4 p-6"),c(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-40")},m(j,L){B(j,e,L),o(e,t),o(t,l),o(t,n),o(t,d),o(d,i),o(i,s),o(t,h),o(t,C),o(C,g),o(C,S),o(C,E),V||($=[z(g,"click",a[30]),z(E,"click",a[31]),z(t,"click",mt(a[17])),z(e,"click",a[32])],V=!0)},p(j,L){L[0]&16&&ce(s,j[4])},d(j){j&&u(e),V=!1,Ge($)}}}function Lt(a){let e,t,l,r,n,d=(a[0].theme||"No theme")+"",i,s,h,C=a[0].status+"",g,k,S,E,ue,V=a[0].id+"",$,j,L,I='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',se,O,R,F="üìù –°—Ü–µ–Ω–∞—Ä–∏–π / –ö–æ–Ω—Ç–µ–∫—Å—Ç",ee,ge,te,P,le,ne="üé§ –¢–µ–∫—Å—Ç –¥–ª—è –æ–∑–≤—É—á–∫–∏",ye,H,Q=a[6]?"Generating...":"‚ú® Generate",G,we,m,U,re,q,J,Y,M,pe,Ce;function ve(_,v){return _[2]?Nt:Dt}let de=ve(a),oe=de(a);function Ie(_,v){return _[2]?Ut:_[4]?Pt:Bt}let Ee=Ie(a),T=Ee(a);function Te(_,v){return _[2]?St:At}let De=Te(a),fe=De(a),Z=a[10]&&ct(a),A=a[7]&&ut(a),X=a[5]&&dt(a);return{c(){e=p("div"),t=p("div"),l=p("div"),r=p("div"),n=p("span"),i=N(d),s=y(),h=p("span"),g=N(C),S=y(),E=p("p"),ue=N("ID: "),$=N(V),j=y(),L=p("button"),L.innerHTML=I,se=y(),O=p("div"),R=p("label"),R.textContent=F,ee=y(),oe.c(),ge=y(),te=p("div"),P=p("div"),le=p("label"),le.textContent=ne,ye=y(),H=p("button"),G=N(Q),we=y(),T.c(),m=y(),U=p("div"),fe.c(),re=y(),Z&&Z.c(),q=y(),A&&A.c(),J=y(),X&&X.c(),Y=Pe(),this.h()},l(_){e=f(_,"DIV",{class:!0});var v=b(e);t=f(v,"DIV",{class:!0});var Ne=b(t);l=f(Ne,"DIV",{class:!0});var ke=b(l);r=f(ke,"DIV",{class:!0});var ie=b(r);n=f(ie,"SPAN",{class:!0});var he=b(n);i=D(he,d),he.forEach(u),s=x(ie),h=f(ie,"SPAN",{class:!0});var ae=b(h);g=D(ae,C),ae.forEach(u),ie.forEach(u),S=x(ke),E=f(ke,"P",{class:!0});var Ue=b(E);ue=D(Ue,"ID: "),$=D(Ue,V),Ue.forEach(u),ke.forEach(u),j=x(Ne),L=f(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),W(L)!=="svelte-1pdyl8k"&&(L.innerHTML=I),Ne.forEach(u),se=x(v),O=f(v,"DIV",{class:!0});var Ae=b(O);R=f(Ae,"LABEL",{class:!0,"data-svelte-h":!0}),W(R)!=="svelte-1n7rap0"&&(R.textContent=F),ee=x(Ae),oe.l(Ae),Ae.forEach(u),ge=x(v),te=f(v,"DIV",{class:!0});var Se=b(te);P=f(Se,"DIV",{class:!0});var me=b(P);le=f(me,"LABEL",{class:!0,"data-svelte-h":!0}),W(le)!=="svelte-1oeihmp"&&(le.textContent=ne),ye=x(me),H=f(me,"BUTTON",{class:!0});var je=b(H);G=D(je,Q),je.forEach(u),me.forEach(u),we=x(Se),T.l(Se),Se.forEach(u),m=x(v),U=f(v,"DIV",{class:!0});var w=b(U);fe.l(w),w.forEach(u),v.forEach(u),re=x(_),Z&&Z.l(_),q=x(_),A&&A.l(_),J=x(_),X&&X.l(_),Y=Pe(),this.h()},h(){c(n,"class","text-xs px-2 py-1 bg-purple-500/20 text-purple-300 rounded"),c(h,"class",k="text-xs px-2 py-1 rounded "+(a[0].status==="approved"?"bg-green-500/20 text-green-300":a[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")),c(r,"class","flex items-center gap-2 mb-2"),c(E,"class","text-sm text-gray-400"),c(l,"class","flex-1"),c(L,"class","text-red-400 hover:text-red-300 transition-colors"),c(t,"class","flex items-start justify-between mb-4"),c(R,"class","block text-sm font-semibold text-gray-300"),c(O,"class","space-y-3"),c(le,"class","block text-sm font-semibold text-gray-300"),H.disabled=a[6],c(H,"class","text-xs px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded transition-colors"),c(P,"class","flex items-center justify-between"),c(te,"class","mt-4 space-y-3"),c(U,"class","flex gap-3 mt-6"),c(e,"class","bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-700 hover:border-purple-500/50 transition-all")},m(_,v){B(_,e,v),o(e,t),o(t,l),o(l,r),o(r,n),o(n,i),o(r,s),o(r,h),o(h,g),o(l,S),o(l,E),o(E,ue),o(E,$),o(t,j),o(t,L),o(e,se),o(e,O),o(O,R),o(O,ee),oe.m(O,null),o(e,ge),o(e,te),o(te,P),o(P,le),o(P,ye),o(P,H),o(H,G),o(te,we),T.m(te,null),o(e,m),o(e,U),fe.m(U,null),B(_,re,v),Z&&Z.m(_,v),B(_,q,v),A&&A.m(_,v),B(_,J,v),X&&X.m(_,v),B(_,Y,v),M=!0,pe||(Ce=[z(L,"click",a[16]),z(H,"click",a[12])],pe=!0)},p(_,v){(!M||v[0]&1)&&d!==(d=(_[0].theme||"No theme")+"")&&ce(i,d),(!M||v[0]&1)&&C!==(C=_[0].status+"")&&ce(g,C),(!M||v[0]&1&&k!==(k="text-xs px-2 py-1 rounded "+(_[0].status==="approved"?"bg-green-500/20 text-green-300":_[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")))&&c(h,"class",k),(!M||v[0]&1)&&V!==(V=_[0].id+"")&&ce($,V),de===(de=ve(_))&&oe?oe.p(_,v):(oe.d(1),oe=de(_),oe&&(oe.c(),oe.m(O,null))),(!M||v[0]&64)&&Q!==(Q=_[6]?"Generating...":"‚ú® Generate")&&ce(G,Q),(!M||v[0]&64)&&(H.disabled=_[6]),Ee===(Ee=Ie(_))&&T?T.p(_,v):(T.d(1),T=Ee(_),T&&(T.c(),T.m(te,null))),De===(De=Te(_))&&fe?fe.p(_,v):(fe.d(1),fe=De(_),fe&&(fe.c(),fe.m(U,null))),_[10]?Z?Z.p(_,v):(Z=ct(_),Z.c(),Z.m(q.parentNode,q)):Z&&(Z.d(1),Z=null),_[7]?A?(A.p(_,v),v[0]&128&&be(A,1)):(A=ut(_),A.c(),be(A,1),A.m(J.parentNode,J)):A&&(Fe(),xe(A,1,1,()=>{A=null}),Je()),_[5]?X?X.p(_,v):(X=dt(_),X.c(),X.m(Y.parentNode,Y)):X&&(X.d(1),X=null)},i(_){M||(be(A),M=!0)},o(_){xe(A),M=!1},d(_){_&&(u(e),u(re),u(q),u(J),u(Y)),oe.d(),T.d(),fe.d(),Z&&Z.d(_),A&&A.d(_),X&&X.d(_),pe=!1,Ge(Ce)}}}function Mt(a,e,t){let{script:l}=e,{onUpdate:r}=e,n=!1,d=l.script,i=l.post_text||"",s=!1,h=!1,C=!1,g="",k="center",S=!1;async function E(){try{await Be.updateScript(l.id,{script:d,post_text:i}),t(2,n=!1),r()}catch(m){alert(`Error saving script: ${m}`)}}async function ue(){t(6,h=!0);try{const m=await Be.generatePostText(l.id);t(4,i=m.post_text),t(0,l.post_text=m.post_text,l),t(5,s=!0)}catch(m){alert(`Error generating post text: ${m}`)}finally{t(6,h=!1)}}async function V(){!i&&!window.confirm("Post text is empty. Generate it first or use the scenario text?")||t(10,S=!0)}async function $(){t(10,S=!1),await E();try{const m=await Be.generateVideo(l.id,k);t(8,g=m.task_id),t(7,C=!0)}catch(m){alert(`Error creating video: ${m}`)}}async function j(){if(g)try{await Be.cancelTask(g),t(7,C=!1),alert("Video generation stopped")}catch(m){alert(`Error stopping video: ${m}`)}}async function L(){if(confirm("Delete this script?"))try{await Be.deleteScript(l.id),r()}catch(m){alert(`Error deleting script: ${m}`)}}function I(m){it.call(this,a,m)}function se(m){it.call(this,a,m)}function O(){d=this.value,t(3,d)}function R(){i=this.value,t(4,i)}const F=()=>{t(2,n=!1),t(3,d=l.script),t(4,i=l.post_text||"")},ee=()=>t(2,n=!0),ge=()=>t(9,k="top"),te=()=>t(9,k="center"),P=()=>t(9,k="bottom"),le=async m=>{var re;const U=(re=m.currentTarget.files)==null?void 0:re[0];if(U)try{const q=await Be.uploadBackground(U);alert(`Background uploaded: ${q.filename}`)}catch(q){alert(`Upload error: ${q}`)}},ne=()=>t(10,S=!1),ye=()=>t(10,S=!1),H=()=>{t(7,C=!1),r()},Q=()=>{t(2,n=!0),t(5,s=!1)},G=()=>t(5,s=!1),we=()=>t(5,s=!1);return a.$$set=m=>{"script"in m&&t(0,l=m.script),"onUpdate"in m&&t(1,r=m.onUpdate)},[l,r,n,d,i,s,h,C,g,k,S,E,ue,V,$,j,L,I,se,O,R,F,ee,ge,te,P,le,ne,ye,H,Q,G,we]}class Ot extends bt{constructor(e){super(),gt(this,e,Mt,Lt,vt,{script:0,onUpdate:1},null,[-1,-1])}}function ft(a,e,t){const l=a.slice();return l[12]=e[t],l}function pt(a,e,t){const l=a.slice();return l[9]=e[t],l}function Gt(a){let e,t=[],l=new Map,r,n=Ze(a[1]);const d=i=>i[12].id;for(let i=0;i<n.length;i+=1){let s=ft(a,n,i),h=d(s);l.set(h,t[i]=ht(h,s))}return{c(){e=p("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=f(i,"DIV",{class:!0});var s=b(e);for(let h=0;h<t.length;h+=1)t[h].l(s);s.forEach(u),this.h()},h(){c(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(i,s){B(i,e,s);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);r=!0},p(i,s){s&34&&(n=Ze(i[1]),Fe(),t=xt(t,s,d,1,i,n,l,e,yt,ht,null,ft),Je())},i(i){if(!r){for(let s=0;s<n.length;s+=1)be(t[s]);r=!0}},o(i){for(let s=0;s<t.length;s+=1)xe(t[s]);r=!1},d(i){i&&u(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function jt(a){let e,t='<div class="text-6xl mb-4">üé•</div> <p class="text-gray-300 text-lg">No videos yet</p> <p class="text-gray-400 text-sm mt-2">Create videos from your scripts first</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-qv289k"&&(e.innerHTML=t),this.h()},h(){c(e,"class","text-center py-12")},m(l,r){B(l,e,r)},p:Ve,i:Ve,o:Ve,d(l){l&&u(e)}}}function Ht(a){let e,t,l,r;const n=[Rt,zt],d=[];function i(s,h){return s[0].length===0?0:1}return e=i(a),t=d[e]=n[e](a),{c(){t.c(),l=Pe()},l(s){t.l(s),l=Pe()},m(s,h){d[e].m(s,h),B(s,l,h),r=!0},p(s,h){let C=e;e=i(s),e===C?d[e].p(s,h):(Fe(),xe(d[C],1,1,()=>{d[C]=null}),Je(),t=d[e],t?t.p(s,h):(t=d[e]=n[e](s),t.c()),be(t,1),t.m(l.parentNode,l))},i(s){r||(be(t),r=!0)},o(s){xe(t),r=!1},d(s){s&&u(l),d[e].d(s)}}}function qt(a){let e,t,l,r,n=a[4]("common.loading")+"",d;return{c(){e=p("div"),t=p("div"),l=y(),r=p("p"),d=N(n),this.h()},l(i){e=f(i,"DIV",{class:!0});var s=b(e);t=f(s,"DIV",{class:!0}),b(t).forEach(u),l=x(s),r=f(s,"P",{class:!0});var h=b(r);d=D(h,n),h.forEach(u),s.forEach(u),this.h()},h(){c(t,"class","animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"),c(r,"class","text-gray-300 mt-4"),c(e,"class","text-center py-12")},m(i,s){B(i,e,s),o(e,t),o(e,l),o(e,r),o(r,d)},p(i,s){s&16&&n!==(n=i[4]("common.loading")+"")&&ce(d,n)},i:Ve,o:Ve,d(i){i&&u(e)}}}function ht(a,e){let t,l,r;return l=new It({props:{video:e[12],onUpdate:e[5]}}),{key:a,first:null,c(){t=Pe(),Re(l.$$.fragment),this.h()},l(n){t=Pe(),ze(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,d){B(n,t,d),qe(l,n,d),r=!0},p(n,d){e=n;const i={};d&2&&(i.video=e[12]),l.$set(i)},i(n){r||(be(l.$$.fragment,n),r=!0)},o(n){xe(l.$$.fragment,n),r=!1},d(n){n&&u(t),He(l,n)}}}function zt(a){let e,t=[],l=new Map,r,n=Ze(a[0]);const d=i=>i[9].id;for(let i=0;i<n.length;i+=1){let s=pt(a,n,i),h=d(s);l.set(h,t[i]=_t(h,s))}return{c(){e=p("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=f(i,"DIV",{class:!0});var s=b(e);for(let h=0;h<t.length;h+=1)t[h].l(s);s.forEach(u),this.h()},h(){c(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(i,s){B(i,e,s);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);r=!0},p(i,s){s&33&&(n=Ze(i[0]),Fe(),t=xt(t,s,d,1,i,n,l,e,yt,_t,null,pt),Je())},i(i){if(!r){for(let s=0;s<n.length;s+=1)be(t[s]);r=!0}},o(i){for(let s=0;s<t.length;s+=1)xe(t[s]);r=!1},d(i){i&&u(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function Rt(a){let e,t='<div class="text-6xl mb-4">üìù</div> <p class="text-gray-300 text-lg">No scripts yet</p> <p class="text-gray-400 text-sm mt-2">Go to Dashboard to generate new scripts</p>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1t1kq1f"&&(e.innerHTML=t),this.h()},h(){c(e,"class","text-center py-12")},m(l,r){B(l,e,r)},p:Ve,i:Ve,o:Ve,d(l){l&&u(e)}}}function _t(a,e){let t,l,r;return l=new Ot({props:{script:e[9],onUpdate:e[5]}}),{key:a,first:null,c(){t=Pe(),Re(l.$$.fragment),this.h()},l(n){t=Pe(),ze(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,d){B(n,t,d),qe(l,n,d),r=!0},p(n,d){e=n;const i={};d&1&&(i.script=e[9]),l.$set(i)},i(n){r||(be(l.$$.fragment,n),r=!0)},o(n){xe(l.$$.fragment,n),r=!1},d(n){n&&u(t),He(l,n)}}}function Ft(a){let e,t,l,r,n,d,i,s,h="AllAboutMe",C,g,k,S=a[4]("nav.dashboard")+"",E,ue,V,$=a[4]("nav.drafts")+"",j,L,I,se=a[4]("nav.publish")+"",O,R,F,ee=a[4]("nav.automation")+"",ge,te,P,le=a[4]("nav.settings")+"",ne,ye,H,Q,G,we="Logout",m,U,re,q,J,Y,M=a[4]("common.loading").includes("...")?"Scripts":"–°–∫—Ä–∏–ø—Ç—ã",pe,Ce,ve=a[0].length+"",de,oe,Ie,Ee,T,Te,De=a[4]("common.loading").includes("...")?"Videos":"–í–∏–¥–µ–æ",fe,Z,A=a[1].length+"",X,_,v,Ne,ke,ie,he,ae,Ue,Ae;d=new Ct({}),H=new Et({});const Se=[qt,Ht,jt,Gt],me=[];function je(w,K){return w[3]?0:w[2]==="scripts"?1:w[1].length===0?2:3}return ie=je(a),he=me[ie]=Se[ie](a),{c(){e=p("div"),t=p("header"),l=p("div"),r=p("div"),n=p("div"),Re(d.$$.fragment),i=y(),s=p("h1"),s.textContent=h,C=y(),g=p("nav"),k=p("a"),E=N(S),ue=y(),V=p("a"),j=N($),L=y(),I=p("a"),O=N(se),R=y(),F=p("a"),ge=N(ee),te=y(),P=p("a"),ne=N(le),ye=y(),Re(H.$$.fragment),Q=y(),G=p("button"),G.textContent=we,m=y(),U=p("main"),re=p("div"),q=p("div"),J=p("button"),Y=N("üìù "),pe=N(M),Ce=N(" ("),de=N(ve),oe=N(")"),Ee=y(),T=p("button"),Te=N("üé• "),fe=N(De),Z=N(" ("),X=N(A),_=N(")"),Ne=y(),ke=p("div"),he.c(),this.h()},l(w){e=f(w,"DIV",{class:!0});var K=b(e);t=f(K,"HEADER",{class:!0});var Le=b(t);l=f(Le,"DIV",{class:!0});var et=b(l);r=f(et,"DIV",{class:!0});var Xe=b(r);n=f(Xe,"DIV",{class:!0});var Ke=b(n);ze(d.$$.fragment,Ke),i=x(Ke),s=f(Ke,"H1",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-16dyx6r"&&(s.textContent=h),Ke.forEach(u),C=x(Xe),g=f(Xe,"NAV",{class:!0});var _e=b(g);k=f(_e,"A",{href:!0,class:!0});var tt=b(k);E=D(tt,S),tt.forEach(u),ue=x(_e),V=f(_e,"A",{href:!0,class:!0});var lt=b(V);j=D(lt,$),lt.forEach(u),L=x(_e),I=f(_e,"A",{href:!0,class:!0});var rt=b(I);O=D(rt,se),rt.forEach(u),R=x(_e),F=f(_e,"A",{href:!0,class:!0});var st=b(F);ge=D(st,ee),st.forEach(u),te=x(_e),P=f(_e,"A",{href:!0,class:!0});var ot=b(P);ne=D(ot,le),ot.forEach(u),ye=x(_e),ze(H.$$.fragment,_e),Q=x(_e),G=f(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),W(G)!=="svelte-1mey7yq"&&(G.textContent=we),_e.forEach(u),Xe.forEach(u),et.forEach(u),Le.forEach(u),m=x(K),U=f(K,"MAIN",{class:!0});var at=b(U);re=f(at,"DIV",{class:!0});var We=b(re);q=f(We,"DIV",{class:!0});var Qe=b(q);J=f(Qe,"BUTTON",{class:!0});var Me=b(J);Y=D(Me,"üìù "),pe=D(Me,M),Ce=D(Me," ("),de=D(Me,ve),oe=D(Me,")"),Me.forEach(u),Ee=x(Qe),T=f(Qe,"BUTTON",{class:!0});var Oe=b(T);Te=D(Oe,"üé• "),fe=D(Oe,De),Z=D(Oe," ("),X=D(Oe,A),_=D(Oe,")"),Oe.forEach(u),Qe.forEach(u),Ne=x(We),ke=f(We,"DIV",{class:!0});var nt=b(ke);he.l(nt),nt.forEach(u),We.forEach(u),at.forEach(u),K.forEach(u),this.h()},h(){c(s,"class","text-2xl font-bold text-white"),c(n,"class","flex items-center gap-4"),c(k,"href","/dashboard"),c(k,"class","text-gray-300 hover:text-white transition-colors"),c(V,"href","/drafts"),c(V,"class","text-white font-semibold"),c(I,"href","/publish"),c(I,"class","text-gray-300 hover:text-white transition-colors"),c(F,"href","/automation"),c(F,"class","text-gray-300 hover:text-white transition-colors"),c(P,"href","/settings"),c(P,"class","text-gray-300 hover:text-white transition-colors"),c(G,"class","text-red-300 hover:text-red-200 transition-colors text-sm"),c(g,"class","flex items-center gap-6"),c(r,"class","flex items-center justify-between"),c(l,"class","container mx-auto px-6 py-4"),c(t,"class","bg-black/30 backdrop-blur-md border-b border-white/10"),c(J,"class",Ie=(a[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),c(T,"class",v=(a[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),c(q,"class","flex border-b border-white/10"),c(ke,"class","p-6"),c(re,"class","bg-white/10 backdrop-blur-md rounded-lg border border-white/20 overflow-hidden"),c(U,"class","container mx-auto px-6 py-8"),c(e,"class","min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900")},m(w,K){B(w,e,K),o(e,t),o(t,l),o(l,r),o(r,n),qe(d,n,null),o(n,i),o(n,s),o(r,C),o(r,g),o(g,k),o(k,E),o(g,ue),o(g,V),o(V,j),o(g,L),o(g,I),o(I,O),o(g,R),o(g,F),o(F,ge),o(g,te),o(g,P),o(P,ne),o(g,ye),qe(H,g,null),o(g,Q),o(g,G),o(e,m),o(e,U),o(U,re),o(re,q),o(q,J),o(J,Y),o(J,pe),o(J,Ce),o(J,de),o(J,oe),o(q,Ee),o(q,T),o(T,Te),o(T,fe),o(T,Z),o(T,X),o(T,_),o(re,Ne),o(re,ke),me[ie].m(ke,null),ae=!0,Ue||(Ae=[z(G,"click",a[6]),z(J,"click",a[7]),z(T,"click",a[8])],Ue=!0)},p(w,[K]){(!ae||K&16)&&S!==(S=w[4]("nav.dashboard")+"")&&ce(E,S),(!ae||K&16)&&$!==($=w[4]("nav.drafts")+"")&&ce(j,$),(!ae||K&16)&&se!==(se=w[4]("nav.publish")+"")&&ce(O,se),(!ae||K&16)&&ee!==(ee=w[4]("nav.automation")+"")&&ce(ge,ee),(!ae||K&16)&&le!==(le=w[4]("nav.settings")+"")&&ce(ne,le),(!ae||K&16)&&M!==(M=w[4]("common.loading").includes("...")?"Scripts":"–°–∫—Ä–∏–ø—Ç—ã")&&ce(pe,M),(!ae||K&1)&&ve!==(ve=w[0].length+"")&&ce(de,ve),(!ae||K&4&&Ie!==(Ie=(w[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&c(J,"class",Ie),(!ae||K&16)&&De!==(De=w[4]("common.loading").includes("...")?"Videos":"–í–∏–¥–µ–æ")&&ce(fe,De),(!ae||K&2)&&A!==(A=w[1].length+"")&&ce(X,A),(!ae||K&4&&v!==(v=(w[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&c(T,"class",v);let Le=ie;ie=je(w),ie===Le?me[ie].p(w,K):(Fe(),xe(me[Le],1,1,()=>{me[Le]=null}),Je(),he=me[ie],he?he.p(w,K):(he=me[ie]=Se[ie](w),he.c()),be(he,1),he.m(ke,null))},i(w){ae||(be(d.$$.fragment,w),be(H.$$.fragment,w),be(he),ae=!0)},o(w){xe(d.$$.fragment,w),xe(H.$$.fragment,w),xe(he),ae=!1},d(w){w&&u(e),He(d),He(H),me[ie].d(),Ue=!1,Ge(Ae)}}}function Jt(a,e,t){let l;kt(a,Tt,k=>t(4,l=k));let r=[],n=[],d="scripts",i=!0;wt(async()=>{if(!localStorage.getItem("auth_token")){$e("/");return}await s()});async function s(){t(3,i=!0);try{if(!localStorage.getItem("auth_token")){$e("/");return}const[S,E]=await Promise.all([Be.getScripts("draft"),Be.getVideos()]);t(0,r=S),t(1,n=E)}catch(k){console.error("Error loading data:",k)}finally{t(3,i=!1)}}function h(){localStorage.removeItem("auth_token"),$e("/")}return[r,n,d,i,l,s,h,()=>t(2,d="scripts"),()=>t(2,d="videos")]}class tl extends bt{constructor(e){super(),gt(this,e,Jt,Ft,vt,{})}}export{tl as component};
