import{S as $t,i as el,s as tl,d as f,r as ot,w as Fe,x as Le,b as Ee,f as n,G as yt,E as kt,c as G,e as r,l as Q,g as c,h as b,m as A,k as m,j as T,F as rt,o as u,t as L,q as x,B as ll,u as rl,D as nl,Q as Ft,J as ol,a as Me,v as bt,y as _t,z as mt,A as xt,K as Ht,n as He,H as jt}from"../chunks/DDZ0vrLm.js";import{e as ft,u as sl,o as al}from"../chunks/DsHVYrMn.js";import"../chunks/IHki7fMi.js";import{w as il,g as Pt}from"../chunks/Bqk9KsJL.js";import{a as Ze}from"../chunks/Qzne32_b.js";import{R as cl,L as ul,t as dl}from"../chunks/DGoMkW4V.js";import{P as fl}from"../chunks/C2drXAA4.js";import{V as pl}from"../chunks/3Va0Y2xI.js";const St={textPosition:"center",voiceId:"pNInz6obpgDQGcFmaJgB",backgroundUrl:null,backgroundTheme:"cosmic"};function hl(){if(typeof window>"u")return St;const o=localStorage.getItem("video_settings");if(o)try{return{...St,...JSON.parse(o)}}catch(e){console.error("Failed to load video settings:",e)}return St}const Xe=il(hl());typeof window<"u"&&Xe.subscribe(o=>{var t;const e={...o,backgroundUrl:(t=o.backgroundUrl)!=null&&t.startsWith("blob:")?null:o.backgroundUrl};localStorage.setItem("video_settings",JSON.stringify(e)),console.log("[VideoSettings] Settings saved:",e)});function qt(o,e,t){const l=o.slice();return l[43]=e[t],l}function gl(o){let e,t=o[0].script+"",l;return{c(){e=u("p"),l=L(t),this.h()},l(s){e=c(s,"P",{class:!0});var i=b(e);l=A(i,t),i.forEach(f),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(s,i){G(s,e,i),r(e,l)},p(s,i){i[0]&1&&t!==(t=s[0].script+"")&&Ee(l,t)},d(s){s&&f(e)}}}function vl(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0}),b(e).forEach(f),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4")},m(s,i){G(s,e,i),Me(e,o[3]),t||(l=Q(e,"input",o[24]),t=!0)},p(s,i){i[0]&8&&Me(e,s[3])},d(s){s&&f(e),t=!1,l()}}}function bl(o){let e,t="Not generated yet";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-10ts8hq"&&(e.textContent=t),this.h()},h(){n(e,"class","text-gray-500 italic")},m(l,s){G(l,e,s)},p:He,d(l){l&&f(e)}}}function _l(o){let e,t;return{c(){e=u("p"),t=L(o[4]),this.h()},l(l){e=c(l,"P",{class:!0});var s=b(e);t=A(s,o[4]),s.forEach(f),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(l,s){G(l,e,s),r(e,t)},p(l,s){s[0]&16&&Ee(t,l[4])},d(l){l&&f(e)}}}function ml(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),b(e).forEach(f),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4"),n(e,"placeholder","Generate clean text for voiceover...")},m(s,i){G(s,e,i),Me(e,o[4]),t||(l=Q(e,"input",o[25]),t=!0)},p(s,i){i[0]&16&&Me(e,s[4])},d(s){s&&f(e),t=!1,l()}}}function xl(o){let e,t="✏️ Edit",l,s,i="🎬 Create Video",p,d;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-rtjn0e"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-1gipdk6"&&(s.textContent=i),this.h()},h(){n(e,"class","px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors"),n(s,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all")},m(a,h){G(a,e,h),G(a,l,h),G(a,s,h),p||(d=[Q(e,"click",o[27]),Q(s,"click",o[17])],p=!0)},p:He,d(a){a&&(f(e),f(l),f(s)),p=!1,ot(d)}}}function yl(o){let e,t="💾 Save",l,s,i="Cancel",p,d;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-kcz9eg"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-13v2dgx"&&(s.textContent=i),this.h()},h(){n(e,"class","flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors"),n(s,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors")},m(a,h){G(a,e,h),G(a,l,h),G(a,s,h),p||(d=[Q(e,"click",o[15]),Q(s,"click",o[26])],p=!0)},p:He,d(a){a&&(f(e),f(l),f(s)),p=!1,ot(d)}}}function zt(o){let e,t,l,s="🎬 Video Settings",i,p,d='<p class="text-xs text-purple-200">🌐 <strong>Global Settings</strong> - These settings apply to all videos and are saved automatically</p>',a,h,w,_,I="📐 Text Position",V,y,B,H,O,Y,S,U,ae,J,j,be,_e,ye,z,D,ve="🎤 Voice Selection",ne,M,te,oe,de="Click ▶️ to preview voice before generating",ke,K,Z,fe="🖼️ Custom Background (Optional)",pe,R,Pe="⚠️ If empty, background will be auto-detected from script content. Generate custom to override.",ce,he,Te,Ge="✨ Generate AI Background:",g,k,N,$,F="🌌 Cosmic",ge,Ie="🔮 Astrology",W,ie="🔢 Numerology",P,se="💎 Destiny Matrix",v,E="🎨 Human Design",me,Se="✨ Motivation",ee,xe="🌙 Moon",X,je="🃏 Tarot",Ce,qe="⚡ Chakras",Ve,Qe,C,re,Be,pt="Free AI generation via Pollinations.ai",$e,Oe,ue,ht="📁 Or Upload Your Own:",st,ze,at,Re,gt="JPG, PNG, GIF, WebP (max 10MB)",et,tt,Ue,Ne,vt="🎬 Generate Video",It,lt,Ut="Cancel",Vt,Nt,nt=ft(o[13]),we=[];for(let q=0;q<nt.length;q+=1)we[q]=Rt(qt(o,nt,q));function Bt(q,Ae){return q[10]?El:wl}let Ct=Bt(o),Ye=Ct(o),De=o[12].backgroundUrl&&Jt(o);return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),p.innerHTML=d,a=x(),h=u("div"),w=u("div"),_=u("label"),_.textContent=I,V=x(),y=u("div"),B=u("button"),H=L("⬆️ Top"),Y=x(),S=u("button"),U=L("⏺️ Center"),J=x(),j=u("button"),be=L("⬇️ Bottom"),ye=x(),z=u("div"),D=u("label"),D.textContent=ve,ne=x(),M=u("div");for(let q=0;q<we.length;q+=1)we[q].c();te=x(),oe=u("p"),oe.textContent=de,ke=x(),K=u("div"),Z=u("label"),Z.textContent=fe,pe=x(),R=u("p"),R.textContent=Pe,ce=x(),he=u("div"),Te=u("label"),Te.textContent=Ge,g=x(),k=u("div"),N=u("select"),$=u("option"),$.textContent=F,ge=u("option"),ge.textContent=Ie,W=u("option"),W.textContent=ie,P=u("option"),P.textContent=se,v=u("option"),v.textContent=E,me=u("option"),me.textContent=Se,ee=u("option"),ee.textContent=xe,X=u("option"),X.textContent=je,Ce=u("option"),Ce.textContent=qe,Qe=x(),C=u("button"),Ye.c(),re=x(),Be=u("p"),Be.textContent=pt,$e=x(),Oe=u("div"),ue=u("label"),ue.textContent=ht,st=x(),ze=u("input"),at=x(),Re=u("p"),Re.textContent=gt,et=x(),De&&De.c(),tt=x(),Ue=u("div"),Ne=u("button"),Ne.textContent=vt,It=x(),lt=u("button"),lt.textContent=Ut,this.h()},l(q){e=c(q,"DIV",{class:!0});var Ae=b(e);t=c(Ae,"DIV",{class:!0});var le=b(t);l=c(le,"H3",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-192819n"&&(l.textContent=s),i=m(le),p=c(le,"DIV",{class:!0,"data-svelte-h":!0}),T(p)!=="svelte-1m3nfc4"&&(p.innerHTML=d),a=m(le),h=c(le,"DIV",{class:!0});var Ke=b(h);w=c(Ke,"DIV",{});var wt=b(w);_=c(wt,"LABEL",{class:!0,"data-svelte-h":!0}),T(_)!=="svelte-1p0zjbe"&&(_.textContent=I),V=m(wt),y=c(wt,"DIV",{class:!0});var it=b(y);B=c(it,"BUTTON",{class:!0});var Ot=b(B);H=A(Ot,"⬆️ Top"),Ot.forEach(f),Y=m(it),S=c(it,"BUTTON",{class:!0});var At=b(S);U=A(At,"⏺️ Center"),At.forEach(f),J=m(it),j=c(it,"BUTTON",{class:!0});var Lt=b(j);be=A(Lt,"⬇️ Bottom"),Lt.forEach(f),it.forEach(f),wt.forEach(f),ye=m(Ke),z=c(Ke,"DIV",{});var ct=b(z);D=c(ct,"LABEL",{class:!0,"data-svelte-h":!0}),T(D)!=="svelte-1vi0gmv"&&(D.textContent=ve),ne=m(ct),M=c(ct,"DIV",{class:!0});var Gt=b(M);for(let Dt=0;Dt<we.length;Dt+=1)we[Dt].l(Gt);Gt.forEach(f),te=m(ct),oe=c(ct,"P",{class:!0,"data-svelte-h":!0}),T(oe)!=="svelte-162ccjb"&&(oe.textContent=de),ct.forEach(f),ke=m(Ke),K=c(Ke,"DIV",{});var Je=b(K);Z=c(Je,"LABEL",{class:!0,"data-svelte-h":!0}),T(Z)!=="svelte-12zcyql"&&(Z.textContent=fe),pe=m(Je),R=c(Je,"P",{class:!0,"data-svelte-h":!0}),T(R)!=="svelte-1p71e8n"&&(R.textContent=Pe),ce=m(Je),he=c(Je,"DIV",{class:!0});var ut=b(he);Te=c(ut,"LABEL",{class:!0,"data-svelte-h":!0}),T(Te)!=="svelte-1kittw0"&&(Te.textContent=Ge),g=m(ut),k=c(ut,"DIV",{class:!0});var Et=b(k);N=c(Et,"SELECT",{class:!0});var We=b(N);$=c(We,"OPTION",{"data-svelte-h":!0}),T($)!=="svelte-1dkw48c"&&($.textContent=F),ge=c(We,"OPTION",{"data-svelte-h":!0}),T(ge)!=="svelte-1oxvz1f"&&(ge.textContent=Ie),W=c(We,"OPTION",{"data-svelte-h":!0}),T(W)!=="svelte-nc889j"&&(W.textContent=ie),P=c(We,"OPTION",{"data-svelte-h":!0}),T(P)!=="svelte-jymkbt"&&(P.textContent=se),v=c(We,"OPTION",{"data-svelte-h":!0}),T(v)!=="svelte-15rxc6h"&&(v.textContent=E),me=c(We,"OPTION",{"data-svelte-h":!0}),T(me)!=="svelte-1u1ghwe"&&(me.textContent=Se),ee=c(We,"OPTION",{"data-svelte-h":!0}),T(ee)!=="svelte-du7yyv"&&(ee.textContent=xe),X=c(We,"OPTION",{"data-svelte-h":!0}),T(X)!=="svelte-v0gk19"&&(X.textContent=je),Ce=c(We,"OPTION",{"data-svelte-h":!0}),T(Ce)!=="svelte-1p72mw9"&&(Ce.textContent=qe),We.forEach(f),Qe=m(Et),C=c(Et,"BUTTON",{class:!0});var Mt=b(C);Ye.l(Mt),Mt.forEach(f),Et.forEach(f),re=m(ut),Be=c(ut,"P",{class:!0,"data-svelte-h":!0}),T(Be)!=="svelte-1bcuxmt"&&(Be.textContent=pt),ut.forEach(f),$e=m(Je),Oe=c(Je,"DIV",{});var dt=b(Oe);ue=c(dt,"LABEL",{class:!0,"data-svelte-h":!0}),T(ue)!=="svelte-19u7y30"&&(ue.textContent=ht),st=m(dt),ze=c(dt,"INPUT",{type:!0,accept:!0,class:!0}),at=m(dt),Re=c(dt,"P",{class:!0,"data-svelte-h":!0}),T(Re)!=="svelte-18xcy9y"&&(Re.textContent=gt),dt.forEach(f),et=m(Je),De&&De.l(Je),Je.forEach(f),Ke.forEach(f),tt=m(le),Ue=c(le,"DIV",{class:!0});var Tt=b(Ue);Ne=c(Tt,"BUTTON",{class:!0,"data-svelte-h":!0}),T(Ne)!=="svelte-1r9r3yw"&&(Ne.textContent=vt),It=m(Tt),lt=c(Tt,"BUTTON",{class:!0,"data-svelte-h":!0}),T(lt)!=="svelte-smpvns"&&(lt.textContent=Ut),Tt.forEach(f),le.forEach(f),Ae.forEach(f),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(p,"class","bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-lg p-3 mb-4"),n(_,"class","block text-sm font-semibold text-gray-300 mb-2"),n(B,"class",O="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(S,"class",ae="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(j,"class",_e="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(y,"class","flex gap-2"),n(D,"class","block text-sm font-semibold text-gray-300 mb-2"),n(M,"class","space-y-2"),n(oe,"class","text-xs text-gray-400 mt-2"),n(Z,"class","block text-sm font-semibold text-gray-300 mb-2"),n(R,"class","text-xs text-gray-400 mb-3"),n(Te,"class","block text-xs text-gray-400 mb-2"),$.__value="cosmic",Me($,$.__value),ge.__value="astrology",Me(ge,ge.__value),W.__value="numerology",Me(W,W.__value),P.__value="matrix",Me(P,P.__value),v.__value="human_design",Me(v,v.__value),me.__value="motivation",Me(me,me.__value),ee.__value="moon",Me(ee,ee.__value),X.__value="tarot",Me(X,X.__value),Ce.__value="chakras",Me(Ce,Ce.__value),n(N,"class","flex-1 px-3 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm"),C.disabled=o[10],n(C,"class","px-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 disabled:from-gray-600 disabled:to-gray-700 text-white font-semibold rounded-lg transition-all text-sm"),n(k,"class","flex gap-2"),n(Be,"class","text-xs text-gray-400 mt-1"),n(he,"class","mb-3"),n(ue,"class","block text-xs text-gray-400 mb-2"),n(ze,"type","file"),n(ze,"accept","image/*"),n(ze,"class","w-full px-4 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700"),n(Re,"class","text-xs text-gray-400 mt-1"),n(h,"class","space-y-4 mb-6"),n(Ne,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all"),n(lt,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(Ue,"class","flex gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-md mx-4 p-6 my-4"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-start justify-center z-40 pt-20 overflow-y-auto")},m(q,Ae){G(q,e,Ae),r(e,t),r(t,l),r(t,i),r(t,p),r(t,a),r(t,h),r(h,w),r(w,_),r(w,V),r(w,y),r(y,B),r(B,H),r(y,Y),r(y,S),r(S,U),r(y,J),r(y,j),r(j,be),r(h,ye),r(h,z),r(z,D),r(z,ne),r(z,M);for(let le=0;le<we.length;le+=1)we[le]&&we[le].m(M,null);r(z,te),r(z,oe),r(h,ke),r(h,K),r(K,Z),r(K,pe),r(K,R),r(K,ce),r(K,he),r(he,Te),r(he,g),r(he,k),r(k,N),r(N,$),r(N,ge),r(N,W),r(N,P),r(N,v),r(N,me),r(N,ee),r(N,X),r(N,Ce),Ft(N,o[12].backgroundTheme),r(k,Qe),r(k,C),Ye.m(C,null),r(he,re),r(he,Be),r(K,$e),r(K,Oe),r(Oe,ue),r(Oe,st),r(Oe,ze),r(Oe,at),r(Oe,Re),r(K,et),De&&De.m(K,null),r(t,tt),r(t,Ue),r(Ue,Ne),r(Ue,It),r(Ue,lt),Vt||(Nt=[Q(B,"click",o[28]),Q(S,"click",o[29]),Q(j,"click",o[30]),Q(N,"change",o[33]),Q(C,"click",o[20]),Q(ze,"change",o[34]),Q(Ne,"click",o[18]),Q(lt,"click",o[36]),Q(t,"click",ol(o[23])),Q(e,"click",o[37])],Vt=!0)},p(q,Ae){if(Ae[0]&4096&&O!==(O="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(q[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(B,"class",O),Ae[0]&4096&&ae!==(ae="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(q[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(S,"class",ae),Ae[0]&4096&&_e!==(_e="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(q[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(j,"class",_e),Ae[0]&30720){nt=ft(q[13]);let le;for(le=0;le<nt.length;le+=1){const Ke=qt(q,nt,le);we[le]?we[le].p(Ke,Ae):(we[le]=Rt(Ke),we[le].c(),we[le].m(M,null))}for(;le<we.length;le+=1)we[le].d(1);we.length=nt.length}Ae[0]&4096&&Ve!==(Ve=q[12].backgroundTheme)&&Ft(N,q[12].backgroundTheme),Ct!==(Ct=Bt(q))&&(Ye.d(1),Ye=Ct(q),Ye&&(Ye.c(),Ye.m(C,null))),Ae[0]&1024&&(C.disabled=q[10]),q[12].backgroundUrl?De?De.p(q,Ae):(De=Jt(q),De.c(),De.m(K,null)):De&&(De.d(1),De=null)},d(q){q&&f(e),nl(we,q),Ye.d(),De&&De.d(),Vt=!1,ot(Nt)}}}function kl(o){let e;return{c(){e=L("▶️")},l(t){e=A(t,"▶️")},m(t,l){G(t,e,l)},d(t){t&&f(e)}}}function Cl(o){let e;return{c(){e=L("⏸️")},l(t){e=A(t,"⏸️")},m(t,l){G(t,e,l)},d(t){t&&f(e)}}}function Rt(o){let e,t,l,s,i,p,d,a=o[43].icon+"",h,w,_,I,V=o[43].name+"",y,B,H,O=o[43].description+"",Y,S,U,ae,J,j,be;function _e(){return o[31](o[43])}function ye(ne,M){return ne[11]?Cl:kl}let z=ye(o),D=z(o);function ve(){return o[32](o[43])}return{c(){e=u("div"),t=u("input"),s=x(),i=u("label"),p=u("div"),d=u("span"),h=L(a),w=x(),_=u("div"),I=u("div"),y=L(V),B=x(),H=u("div"),Y=L(O),S=x(),U=u("button"),D.c(),ae=x(),this.h()},l(ne){e=c(ne,"DIV",{class:!0});var M=b(e);t=c(M,"INPUT",{type:!0,id:!0,name:!0,class:!0}),s=m(M),i=c(M,"LABEL",{for:!0,class:!0});var te=b(i);p=c(te,"DIV",{class:!0});var oe=b(p);d=c(oe,"SPAN",{class:!0});var de=b(d);h=A(de,a),de.forEach(f),w=m(oe),_=c(oe,"DIV",{class:!0});var ke=b(_);I=c(ke,"DIV",{class:!0});var K=b(I);y=A(K,V),K.forEach(f),B=m(ke),H=c(ke,"DIV",{class:!0});var Z=b(H);Y=A(Z,O),Z.forEach(f),ke.forEach(f),oe.forEach(f),te.forEach(f),S=m(M),U=c(M,"BUTTON",{class:!0,title:!0});var fe=b(U);D.l(fe),fe.forEach(f),ae=m(M),M.forEach(f),this.h()},h(){n(t,"type","radio"),n(t,"id","voice-"+o[43].id),n(t,"name","voice"),t.value=o[43].id,t.checked=l=o[12].voiceId===o[43].id,n(t,"class","w-4 h-4 text-purple-600"),n(d,"class","text-lg"),n(I,"class","text-sm font-semibold text-white"),n(H,"class","text-xs text-gray-400"),n(_,"class","flex-1"),n(p,"class","flex items-center gap-2"),n(i,"for","voice-"+o[43].id),n(i,"class","flex-1 cursor-pointer"),U.disabled=o[11],n(U,"class","px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white text-xs font-semibold rounded transition-colors"),n(U,"title","Play sample"),n(e,"class",J="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[43].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))},m(ne,M){G(ne,e,M),r(e,t),r(e,s),r(e,i),r(i,p),r(p,d),r(d,h),r(p,w),r(p,_),r(_,I),r(I,y),r(_,B),r(_,H),r(H,Y),r(e,S),r(e,U),D.m(U,null),r(e,ae),j||(be=[Q(t,"change",_e),Q(U,"click",ve)],j=!0)},p(ne,M){o=ne,M[0]&4096&&l!==(l=o[12].voiceId===o[43].id)&&(t.checked=l),z!==(z=ye(o))&&(D.d(1),D=z(o),D&&(D.c(),D.m(U,null))),M[0]&2048&&(U.disabled=o[11]),M[0]&4096&&J!==(J="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[43].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))&&n(e,"class",J)},d(ne){ne&&f(e),D.d(),j=!1,ot(be)}}}function wl(o){let e;return{c(){e=L("🎨 Generate")},l(t){e=A(t,"🎨 Generate")},m(t,l){G(t,e,l)},d(t){t&&f(e)}}}function El(o){let e,t=`<div class="animate-spin rounded-full h-3 w-3 border-2 border-white/30 border-t-white"></div>
									Generating...`;return{c(){e=u("span"),e.innerHTML=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-11bmtej"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex items-center gap-2")},m(l,s){G(l,e,s)},d(l){l&&f(e)}}}function Jt(o){let e,t,l,s,i,p,d="✕",a,h,w="✅ Background ready (global)",_,I;return{c(){e=u("div"),t=u("div"),l=u("img"),i=x(),p=u("button"),p.textContent=d,a=x(),h=u("p"),h.textContent=w,this.h()},l(V){e=c(V,"DIV",{class:!0});var y=b(e);t=c(y,"DIV",{class:!0});var B=b(t);l=c(B,"IMG",{src:!0,alt:!0,class:!0}),i=m(B),p=c(B,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),T(p)!=="svelte-1yft92g"&&(p.textContent=d),B.forEach(f),a=m(y),h=c(y,"P",{class:!0,"data-svelte-h":!0}),T(h)!=="svelte-4l9tbx"&&(h.textContent=w),y.forEach(f),this.h()},h(){jt(l.src,s=o[12].backgroundUrl)||n(l,"src",s),n(l,"alt","Generated background"),n(l,"class","w-full h-32 object-cover rounded-lg border-2 border-green-500"),n(p,"class","absolute top-2 right-2 px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs font-semibold rounded shadow-lg transition-colors"),n(p,"title","Clear background"),n(t,"class","relative"),n(h,"class","text-xs text-green-400 mt-1"),n(e,"class","mt-3")},m(V,y){G(V,e,y),r(e,t),r(t,l),r(t,i),r(t,p),r(e,a),r(e,h),_||(I=Q(p,"click",o[35]),_=!0)},p(V,y){y[0]&4096&&!jt(l.src,s=V[12].backgroundUrl)&&n(l,"src",s)},d(V){V&&f(e),_=!1,I()}}}function Wt(o){let e,t;return e=new fl({props:{taskId:o[8],title:"Creating Video",onStop:o[19],onClose:o[38]}}),{c(){xt(e.$$.fragment)},l(l){mt(e.$$.fragment,l)},m(l,s){_t(e,l,s),t=!0},p(l,s){const i={};s[0]&256&&(i.taskId=l[8]),s[0]&130&&(i.onClose=l[38]),e.$set(i)},i(l){t||(Le(e.$$.fragment,l),t=!0)},o(l){Fe(e.$$.fragment,l),t=!1},d(l){bt(e,l)}}}function Xt(o){let e,t,l,s="✨ Generated Post Text",i,p,d,a,h,w,_,I="Edit",V,y,B="Close",H,O;return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),d=u("p"),a=L(o[4]),h=x(),w=u("div"),_=u("button"),_.textContent=I,V=x(),y=u("button"),y.textContent=B,this.h()},l(Y){e=c(Y,"DIV",{class:!0});var S=b(e);t=c(S,"DIV",{class:!0});var U=b(t);l=c(U,"H3",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-1lbyrrb"&&(l.textContent=s),i=m(U),p=c(U,"DIV",{class:!0});var ae=b(p);d=c(ae,"P",{class:!0});var J=b(d);a=A(J,o[4]),J.forEach(f),ae.forEach(f),h=m(U),w=c(U,"DIV",{class:!0});var j=b(w);_=c(j,"BUTTON",{class:!0,"data-svelte-h":!0}),T(_)!=="svelte-s50vdr"&&(_.textContent=I),V=m(j),y=c(j,"BUTTON",{class:!0,"data-svelte-h":!0}),T(y)!=="svelte-11cd5q2"&&(y.textContent=B),j.forEach(f),U.forEach(f),S.forEach(f),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(d,"class","text-gray-200 whitespace-pre-wrap"),n(p,"class","bg-gray-900 p-4 rounded-lg mb-4"),n(_,"class","px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors"),n(y,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(w,"class","flex justify-end gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl mx-4 p-6"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-40")},m(Y,S){G(Y,e,S),r(e,t),r(t,l),r(t,i),r(t,p),r(p,d),r(d,a),r(t,h),r(t,w),r(w,_),r(w,V),r(w,y),H||(O=[Q(_,"click",o[39]),Q(y,"click",o[40]),Q(t,"click",ol(o[22])),Q(e,"click",o[41])],H=!0)},p(Y,S){S[0]&16&&Ee(a,Y[4])},d(Y){Y&&f(e),H=!1,ot(O)}}}function Tl(o){let e,t,l,s,i,p=(o[0].theme||"No theme")+"",d,a,h,w=o[0].status+"",_,I,V,y,B,H=o[0].id+"",O,Y,S,U='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',ae,J,j,be="📝 Сценарий / Контекст",_e,ye,z,D,ve,ne="🎤 Текст для озвучки",M,te,oe=o[6]?"Generating...":"✨ Generate",de,ke,K,Z,fe,pe,R,Pe,ce,he,Te;function Ge(v,E){return v[2]?vl:gl}let g=Ge(o),k=g(o);function N(v,E){return v[2]?ml:v[4]?_l:bl}let $=N(o),F=$(o);function ge(v,E){return v[2]?yl:xl}let Ie=ge(o),W=Ie(o),ie=o[9]&&zt(o),P=o[7]&&Wt(o),se=o[5]&&Xt(o);return{c(){e=u("div"),t=u("div"),l=u("div"),s=u("div"),i=u("span"),d=L(p),a=x(),h=u("span"),_=L(w),V=x(),y=u("p"),B=L("ID: "),O=L(H),Y=x(),S=u("button"),S.innerHTML=U,ae=x(),J=u("div"),j=u("label"),j.textContent=be,_e=x(),k.c(),ye=x(),z=u("div"),D=u("div"),ve=u("label"),ve.textContent=ne,M=x(),te=u("button"),de=L(oe),ke=x(),F.c(),K=x(),Z=u("div"),W.c(),fe=x(),ie&&ie.c(),pe=x(),P&&P.c(),R=x(),se&&se.c(),Pe=rt(),this.h()},l(v){e=c(v,"DIV",{class:!0});var E=b(e);t=c(E,"DIV",{class:!0});var me=b(t);l=c(me,"DIV",{class:!0});var Se=b(l);s=c(Se,"DIV",{class:!0});var ee=b(s);i=c(ee,"SPAN",{class:!0});var xe=b(i);d=A(xe,p),xe.forEach(f),a=m(ee),h=c(ee,"SPAN",{class:!0});var X=b(h);_=A(X,w),X.forEach(f),ee.forEach(f),V=m(Se),y=c(Se,"P",{class:!0});var je=b(y);B=A(je,"ID: "),O=A(je,H),je.forEach(f),Se.forEach(f),Y=m(me),S=c(me,"BUTTON",{class:!0,"data-svelte-h":!0}),T(S)!=="svelte-1pdyl8k"&&(S.innerHTML=U),me.forEach(f),ae=m(E),J=c(E,"DIV",{class:!0});var Ce=b(J);j=c(Ce,"LABEL",{class:!0,"data-svelte-h":!0}),T(j)!=="svelte-1n7rap0"&&(j.textContent=be),_e=m(Ce),k.l(Ce),Ce.forEach(f),ye=m(E),z=c(E,"DIV",{class:!0});var qe=b(z);D=c(qe,"DIV",{class:!0});var Ve=b(D);ve=c(Ve,"LABEL",{class:!0,"data-svelte-h":!0}),T(ve)!=="svelte-1oeihmp"&&(ve.textContent=ne),M=m(Ve),te=c(Ve,"BUTTON",{class:!0});var Qe=b(te);de=A(Qe,oe),Qe.forEach(f),Ve.forEach(f),ke=m(qe),F.l(qe),qe.forEach(f),K=m(E),Z=c(E,"DIV",{class:!0});var C=b(Z);W.l(C),C.forEach(f),E.forEach(f),fe=m(v),ie&&ie.l(v),pe=m(v),P&&P.l(v),R=m(v),se&&se.l(v),Pe=rt(),this.h()},h(){n(i,"class","text-xs px-2 py-1 bg-purple-500/20 text-purple-300 rounded"),n(h,"class",I="text-xs px-2 py-1 rounded "+(o[0].status==="approved"?"bg-green-500/20 text-green-300":o[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")),n(s,"class","flex items-center gap-2 mb-2"),n(y,"class","text-sm text-gray-400"),n(l,"class","flex-1"),n(S,"class","text-red-400 hover:text-red-300 transition-colors"),n(t,"class","flex items-start justify-between mb-4"),n(j,"class","block text-sm font-semibold text-gray-300"),n(J,"class","space-y-3"),n(ve,"class","block text-sm font-semibold text-gray-300"),te.disabled=o[6],n(te,"class","text-xs px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded transition-colors"),n(D,"class","flex items-center justify-between"),n(z,"class","mt-4 space-y-3"),n(Z,"class","flex gap-3 mt-6"),n(e,"class","bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-700 hover:border-purple-500/50 transition-all")},m(v,E){G(v,e,E),r(e,t),r(t,l),r(l,s),r(s,i),r(i,d),r(s,a),r(s,h),r(h,_),r(l,V),r(l,y),r(y,B),r(y,O),r(t,Y),r(t,S),r(e,ae),r(e,J),r(J,j),r(J,_e),k.m(J,null),r(e,ye),r(e,z),r(z,D),r(D,ve),r(D,M),r(D,te),r(te,de),r(z,ke),F.m(z,null),r(e,K),r(e,Z),W.m(Z,null),G(v,fe,E),ie&&ie.m(v,E),G(v,pe,E),P&&P.m(v,E),G(v,R,E),se&&se.m(v,E),G(v,Pe,E),ce=!0,he||(Te=[Q(S,"click",o[21]),Q(te,"click",o[16])],he=!0)},p(v,E){(!ce||E[0]&1)&&p!==(p=(v[0].theme||"No theme")+"")&&Ee(d,p),(!ce||E[0]&1)&&w!==(w=v[0].status+"")&&Ee(_,w),(!ce||E[0]&1&&I!==(I="text-xs px-2 py-1 rounded "+(v[0].status==="approved"?"bg-green-500/20 text-green-300":v[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")))&&n(h,"class",I),(!ce||E[0]&1)&&H!==(H=v[0].id+"")&&Ee(O,H),g===(g=Ge(v))&&k?k.p(v,E):(k.d(1),k=g(v),k&&(k.c(),k.m(J,null))),(!ce||E[0]&64)&&oe!==(oe=v[6]?"Generating...":"✨ Generate")&&Ee(de,oe),(!ce||E[0]&64)&&(te.disabled=v[6]),$===($=N(v))&&F?F.p(v,E):(F.d(1),F=$(v),F&&(F.c(),F.m(z,null))),Ie===(Ie=ge(v))&&W?W.p(v,E):(W.d(1),W=Ie(v),W&&(W.c(),W.m(Z,null))),v[9]?ie?ie.p(v,E):(ie=zt(v),ie.c(),ie.m(pe.parentNode,pe)):ie&&(ie.d(1),ie=null),v[7]?P?(P.p(v,E),E[0]&128&&Le(P,1)):(P=Wt(v),P.c(),Le(P,1),P.m(R.parentNode,R)):P&&(yt(),Fe(P,1,1,()=>{P=null}),kt()),v[5]?se?se.p(v,E):(se=Xt(v),se.c(),se.m(Pe.parentNode,Pe)):se&&(se.d(1),se=null)},i(v){ce||(Le(P),ce=!0)},o(v){Fe(P),ce=!1},d(v){v&&(f(e),f(fe),f(pe),f(R),f(Pe)),k.d(),F.d(),W.d(),ie&&ie.d(v),P&&P.d(v),se&&se.d(v),he=!1,ot(Te)}}}function Il(o){const e={cosmic:"Deep space cosmos, nebula colors, spiritual universe, infinite energy, celestial beauty, mystical stars, high quality",astrology:"Mystical zodiac wheel with all 12 signs, cosmic background, stars, planets, ethereal glow, spiritual art, high quality",numerology:"Sacred numerology symbols, golden numbers 1-9 in mystical circle, divine geometry, spiritual energy, cosmic background",matrix:"Destiny matrix energy map, sacred geometry, chakra colors, spiritual pathways, mystical symbols, glowing mandala",human_design:"Human Design body graph, energy centers, spiritual diagram, colorful chakras, cosmic consciousness, mystical blueprint",motivation:"Inspiring cosmic energy, spiritual awakening, golden light, universe connection, meditation vibes, peaceful atmosphere",moon:"Mystical moon phases, intuitive wisdom, celestial magic, spiritual feminine energy, night sky, stars, ethereal glow",tarot:"Mystical tarot cards spread, divine symbols, spiritual guidance, cosmic wisdom, ethereal art, magical atmosphere",chakras:"Seven colorful chakras energy centers, spiritual alignment, cosmic healing, rainbow aura, divine light"};return e[o]||e.cosmic}function Vl(o,e,t){let l;ll(o,Xe,g=>t(12,l=g));let{script:s}=e,{onUpdate:i}=e,p=!1,d=s.script,a=s.post_text||"",h=!1,w=!1,_=!1,I="",V=!1,y=!1,B=!1;rl(()=>{console.log("[ScriptCard] Current global settings:",l)});const H=[{id:"pNInz6obpgDQGcFmaJgB",name:"Adam",description:"Deep male - Warm, narrative",sampleFile:"/voice-samples/adam.mp3",icon:"🎙️"},{id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",description:"Female - Soft, friendly",sampleFile:"/voice-samples/bella.mp3",icon:"🎤"},{id:"TxGEqnHWrfWFTfGW9XjX",name:"Josh",description:"Young male - Energetic",sampleFile:"/voice-samples/josh.mp3",icon:"🔊"}];let O=null;async function Y(g){try{O&&(O.pause(),O.currentTime=0,O=null);const k=H.find(N=>N.id===g);if(!k)return;t(11,B=!0),O=new Audio(k.sampleFile),O.volume=.9,O.onended=()=>{t(11,B=!1),O=null},O.onerror=N=>{console.error("Error playing sample:",N),t(11,B=!1),O=null,alert(`Failed to load ${k.name} sample. Try regenerating voice samples.`)},await O.play()}catch(k){console.error("Error playing sample:",k),t(11,B=!1),O=null}}async function S(){try{await Ze.updateScript(s.id,{script:d,post_text:a}),t(2,p=!1),i()}catch(g){alert(`Error saving script: ${g}`)}}async function U(){t(6,w=!0);try{const g=await Ze.generatePostText(s.id);t(4,a=g.post_text),t(0,s.post_text=g.post_text,s),t(5,h=!0)}catch(g){alert(`Error generating post text: ${g}`)}finally{t(6,w=!1)}}async function ae(){!a&&!window.confirm("Post text is empty. Generate it first or use the scenario text?")||t(9,V=!0)}async function J(){await S();const g=l;try{const k=await Ze.generateVideo(s.id,g.textPosition,g.backgroundUrl||void 0,g.voiceId);t(8,I=k.task_id),console.log("[ScriptCard] Video generation started with GLOBAL settings:",{textPosition:g.textPosition,background:g.backgroundUrl?"custom":"default",voiceId:g.voiceId,taskId:k.task_id}),t(9,V=!1),t(7,_=!0)}catch(k){alert(`Error creating video: ${k}`),t(9,V=!1)}}async function j(){if(I)try{await Ze.cancelTask(I),t(7,_=!1),alert("Video generation stopped")}catch(g){alert(`Error stopping video: ${g}`)}}async function be(){t(10,y=!0);try{const g=l.backgroundTheme,k=`https://image.pollinations.ai/prompt/${encodeURIComponent(Il(g))}?width=1920&height=1080&nologo=true`;console.log("[ScriptCard] Generating background:",g);const N=await fetch(k,{method:"GET"});if(!N.ok)throw new Error("Failed to generate image");const $=await N.blob(),F=new File([$],`${g}_background.png`,{type:"image/png"});console.log("[ScriptCard] Uploading to backend...");const ge=await Ze.uploadBackground(F);console.log("[ScriptCard] Background uploaded:",ge.filename);const Ie=`/storage/backgrounds/${ge.filename}`;Xe.update(W=>({...W,backgroundUrl:Ie})),console.log("[ScriptCard] Background URL saved to store:",Ie),alert(`✅ Background generated and saved globally: ${g}`)}catch(g){console.error("[ScriptCard] Background generation error:",g),alert(`Error generating background: ${g}`)}finally{t(10,y=!1)}}async function _e(){if(confirm("Delete this script?"))try{await Ze.deleteScript(s.id),i()}catch(g){alert(`Error deleting script: ${g}`)}}function ye(g){Ht.call(this,o,g)}function z(g){Ht.call(this,o,g)}function D(){d=this.value,t(3,d)}function ve(){a=this.value,t(4,a)}const ne=()=>{t(2,p=!1),t(3,d=s.script),t(4,a=s.post_text||"")},M=()=>t(2,p=!0),te=()=>Xe.update(g=>({...g,textPosition:"top"})),oe=()=>Xe.update(g=>({...g,textPosition:"center"})),de=()=>Xe.update(g=>({...g,textPosition:"bottom"})),ke=g=>Xe.update(k=>({...k,voiceId:g.id})),K=g=>Y(g.id),Z=g=>Xe.update(k=>({...k,backgroundTheme:g.currentTarget.value})),fe=async g=>{var N;const k=(N=g.currentTarget.files)==null?void 0:N[0];if(k){t(10,y=!0);try{console.log("[ScriptCard] Uploading custom background...");const $=await Ze.uploadBackground(k);console.log("[ScriptCard] Upload result:",$);const F=`/storage/backgrounds/${$.filename}`;Xe.update(ge=>({...ge,backgroundUrl:F})),console.log("[ScriptCard] Background URL saved to store:",F),alert(`✅ Background uploaded: ${$.filename}`)}catch($){console.error("[ScriptCard] Upload error:",$),alert(`Upload error: ${$}`)}finally{t(10,y=!1)}}},pe=()=>{var g;(g=l.backgroundUrl)!=null&&g.startsWith("blob:")&&URL.revokeObjectURL(l.backgroundUrl),Xe.update(k=>({...k,backgroundUrl:null}))},R=()=>t(9,V=!1),Pe=()=>t(9,V=!1),ce=()=>{t(7,_=!1),i()},he=()=>{t(2,p=!0),t(5,h=!1)},Te=()=>t(5,h=!1),Ge=()=>t(5,h=!1);return o.$$set=g=>{"script"in g&&t(0,s=g.script),"onUpdate"in g&&t(1,i=g.onUpdate)},[s,i,p,d,a,h,w,_,I,V,y,B,l,H,Y,S,U,ae,J,j,be,_e,ye,z,D,ve,ne,M,te,oe,de,ke,K,Z,fe,pe,R,Pe,ce,he,Te,Ge]}class Dl extends $t{constructor(e){super(),el(this,e,Vl,Tl,tl,{script:0,onUpdate:1},null,[-1,-1])}}function Qt(o,e,t){const l=o.slice();return l[12]=e[t],l}function Yt(o,e,t){const l=o.slice();return l[9]=e[t],l}function Pl(o){let e,t=[],l=new Map,s,i=ft(o[1]);const p=d=>d[12].id;for(let d=0;d<i.length;d+=1){let a=Qt(o,i,d),h=p(a);l.set(h,t[d]=Kt(h,a))}return{c(){e=u("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=c(d,"DIV",{class:!0});var a=b(e);for(let h=0;h<t.length;h+=1)t[h].l(a);a.forEach(f),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(d,a){G(d,e,a);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(d,a){a&34&&(i=ft(d[1]),yt(),t=sl(t,a,p,1,d,i,l,e,al,Kt,null,Qt),kt())},i(d){if(!s){for(let a=0;a<i.length;a+=1)Le(t[a]);s=!0}},o(d){for(let a=0;a<t.length;a+=1)Fe(t[a]);s=!1},d(d){d&&f(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Sl(o){let e,t='<div class="text-6xl mb-4">🎥</div> <p class="text-gray-300 text-lg">No videos yet</p> <p class="text-gray-400 text-sm mt-2">Create videos from your scripts first</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-qv289k"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){G(l,e,s)},p:He,i:He,o:He,d(l){l&&f(e)}}}function Ul(o){let e,t,l,s;const i=[Ol,Bl],p=[];function d(a,h){return a[0].length===0?0:1}return e=d(o),t=p[e]=i[e](o),{c(){t.c(),l=rt()},l(a){t.l(a),l=rt()},m(a,h){p[e].m(a,h),G(a,l,h),s=!0},p(a,h){let w=e;e=d(a),e===w?p[e].p(a,h):(yt(),Fe(p[w],1,1,()=>{p[w]=null}),kt(),t=p[e],t?t.p(a,h):(t=p[e]=i[e](a),t.c()),Le(t,1),t.m(l.parentNode,l))},i(a){s||(Le(t),s=!0)},o(a){Fe(t),s=!1},d(a){a&&f(l),p[e].d(a)}}}function Nl(o){let e,t,l,s,i=o[4]("common.loading")+"",p;return{c(){e=u("div"),t=u("div"),l=x(),s=u("p"),p=L(i),this.h()},l(d){e=c(d,"DIV",{class:!0});var a=b(e);t=c(a,"DIV",{class:!0}),b(t).forEach(f),l=m(a),s=c(a,"P",{class:!0});var h=b(s);p=A(h,i),h.forEach(f),a.forEach(f),this.h()},h(){n(t,"class","animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"),n(s,"class","text-gray-300 mt-4"),n(e,"class","text-center py-12")},m(d,a){G(d,e,a),r(e,t),r(e,l),r(e,s),r(s,p)},p(d,a){a&16&&i!==(i=d[4]("common.loading")+"")&&Ee(p,i)},i:He,o:He,d(d){d&&f(e)}}}function Kt(o,e){let t,l,s;return l=new pl({props:{video:e[12],onUpdate:e[5]}}),{key:o,first:null,c(){t=rt(),xt(l.$$.fragment),this.h()},l(i){t=rt(),mt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){G(i,t,p),_t(l,i,p),s=!0},p(i,p){e=i;const d={};p&2&&(d.video=e[12]),l.$set(d)},i(i){s||(Le(l.$$.fragment,i),s=!0)},o(i){Fe(l.$$.fragment,i),s=!1},d(i){i&&f(t),bt(l,i)}}}function Bl(o){let e,t=[],l=new Map,s,i=ft(o[0]);const p=d=>d[9].id;for(let d=0;d<i.length;d+=1){let a=Yt(o,i,d),h=p(a);l.set(h,t[d]=Zt(h,a))}return{c(){e=u("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=c(d,"DIV",{class:!0});var a=b(e);for(let h=0;h<t.length;h+=1)t[h].l(a);a.forEach(f),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(d,a){G(d,e,a);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(d,a){a&33&&(i=ft(d[0]),yt(),t=sl(t,a,p,1,d,i,l,e,al,Zt,null,Yt),kt())},i(d){if(!s){for(let a=0;a<i.length;a+=1)Le(t[a]);s=!0}},o(d){for(let a=0;a<t.length;a+=1)Fe(t[a]);s=!1},d(d){d&&f(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Ol(o){let e,t='<div class="text-6xl mb-4">📝</div> <p class="text-gray-300 text-lg">No scripts yet</p> <p class="text-gray-400 text-sm mt-2">Go to Dashboard to generate new scripts</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1t1kq1f"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){G(l,e,s)},p:He,i:He,o:He,d(l){l&&f(e)}}}function Zt(o,e){let t,l,s;return l=new Dl({props:{script:e[9],onUpdate:e[5]}}),{key:o,first:null,c(){t=rt(),xt(l.$$.fragment),this.h()},l(i){t=rt(),mt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){G(i,t,p),_t(l,i,p),s=!0},p(i,p){e=i;const d={};p&1&&(d.script=e[9]),l.$set(d)},i(i){s||(Le(l.$$.fragment,i),s=!0)},o(i){Fe(l.$$.fragment,i),s=!1},d(i){i&&f(t),bt(l,i)}}}function Al(o){let e,t,l,s,i,p,d,a,h="AllAboutMe",w,_,I,V=o[4]("nav.dashboard")+"",y,B,H,O=o[4]("nav.drafts")+"",Y,S,U,ae=o[4]("nav.publish")+"",J,j,be,_e=o[4]("nav.automation")+"",ye,z,D,ve=o[4]("nav.settings")+"",ne,M,te,oe,de,ke="Logout",K,Z,fe,pe,R,Pe,ce=o[4]("common.loading").includes("...")?"Scripts":"Скрипты",he,Te,Ge=o[0].length+"",g,k,N,$,F,ge,Ie=o[4]("common.loading").includes("...")?"Videos":"Видео",W,ie,P=o[1].length+"",se,v,E,me,Se,ee,xe,X,je,Ce;p=new cl({}),te=new ul({});const qe=[Nl,Ul,Sl,Pl],Ve=[];function Qe(C,re){return C[3]?0:C[2]==="scripts"?1:C[1].length===0?2:3}return ee=Qe(o),xe=Ve[ee]=qe[ee](o),{c(){e=u("div"),t=u("header"),l=u("div"),s=u("div"),i=u("div"),xt(p.$$.fragment),d=x(),a=u("h1"),a.textContent=h,w=x(),_=u("nav"),I=u("a"),y=L(V),B=x(),H=u("a"),Y=L(O),S=x(),U=u("a"),J=L(ae),j=x(),be=u("a"),ye=L(_e),z=x(),D=u("a"),ne=L(ve),M=x(),xt(te.$$.fragment),oe=x(),de=u("button"),de.textContent=ke,K=x(),Z=u("main"),fe=u("div"),pe=u("div"),R=u("button"),Pe=L("📝 "),he=L(ce),Te=L(" ("),g=L(Ge),k=L(")"),$=x(),F=u("button"),ge=L("🎥 "),W=L(Ie),ie=L(" ("),se=L(P),v=L(")"),me=x(),Se=u("div"),xe.c(),this.h()},l(C){e=c(C,"DIV",{class:!0});var re=b(e);t=c(re,"HEADER",{class:!0});var Be=b(t);l=c(Be,"DIV",{class:!0});var pt=b(l);s=c(pt,"DIV",{class:!0});var $e=b(s);i=c($e,"DIV",{class:!0});var Oe=b(i);mt(p.$$.fragment,Oe),d=m(Oe),a=c(Oe,"H1",{class:!0,"data-svelte-h":!0}),T(a)!=="svelte-16dyx6r"&&(a.textContent=h),Oe.forEach(f),w=m($e),_=c($e,"NAV",{class:!0});var ue=b(_);I=c(ue,"A",{href:!0,class:!0});var ht=b(I);y=A(ht,V),ht.forEach(f),B=m(ue),H=c(ue,"A",{href:!0,class:!0});var st=b(H);Y=A(st,O),st.forEach(f),S=m(ue),U=c(ue,"A",{href:!0,class:!0});var ze=b(U);J=A(ze,ae),ze.forEach(f),j=m(ue),be=c(ue,"A",{href:!0,class:!0});var at=b(be);ye=A(at,_e),at.forEach(f),z=m(ue),D=c(ue,"A",{href:!0,class:!0});var Re=b(D);ne=A(Re,ve),Re.forEach(f),M=m(ue),mt(te.$$.fragment,ue),oe=m(ue),de=c(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),T(de)!=="svelte-1mey7yq"&&(de.textContent=ke),ue.forEach(f),$e.forEach(f),pt.forEach(f),Be.forEach(f),K=m(re),Z=c(re,"MAIN",{class:!0});var gt=b(Z);fe=c(gt,"DIV",{class:!0});var et=b(fe);pe=c(et,"DIV",{class:!0});var tt=b(pe);R=c(tt,"BUTTON",{class:!0});var Ue=b(R);Pe=A(Ue,"📝 "),he=A(Ue,ce),Te=A(Ue," ("),g=A(Ue,Ge),k=A(Ue,")"),Ue.forEach(f),$=m(tt),F=c(tt,"BUTTON",{class:!0});var Ne=b(F);ge=A(Ne,"🎥 "),W=A(Ne,Ie),ie=A(Ne," ("),se=A(Ne,P),v=A(Ne,")"),Ne.forEach(f),tt.forEach(f),me=m(et),Se=c(et,"DIV",{class:!0});var vt=b(Se);xe.l(vt),vt.forEach(f),et.forEach(f),gt.forEach(f),re.forEach(f),this.h()},h(){n(a,"class","text-2xl font-bold text-white"),n(i,"class","flex items-center gap-4"),n(I,"href","/dashboard"),n(I,"class","text-gray-300 hover:text-white transition-colors"),n(H,"href","/drafts"),n(H,"class","text-white font-semibold"),n(U,"href","/publish"),n(U,"class","text-gray-300 hover:text-white transition-colors"),n(be,"href","/automation"),n(be,"class","text-gray-300 hover:text-white transition-colors"),n(D,"href","/settings"),n(D,"class","text-gray-300 hover:text-white transition-colors"),n(de,"class","text-red-300 hover:text-red-200 transition-colors text-sm"),n(_,"class","flex items-center gap-6"),n(s,"class","flex items-center justify-between"),n(l,"class","container mx-auto px-6 py-4"),n(t,"class","bg-black/30 backdrop-blur-md border-b border-white/10"),n(R,"class",N=(o[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(F,"class",E=(o[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(pe,"class","flex border-b border-white/10"),n(Se,"class","p-6"),n(fe,"class","bg-white/10 backdrop-blur-md rounded-lg border border-white/20 overflow-hidden"),n(Z,"class","container mx-auto px-6 py-8"),n(e,"class","min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900")},m(C,re){G(C,e,re),r(e,t),r(t,l),r(l,s),r(s,i),_t(p,i,null),r(i,d),r(i,a),r(s,w),r(s,_),r(_,I),r(I,y),r(_,B),r(_,H),r(H,Y),r(_,S),r(_,U),r(U,J),r(_,j),r(_,be),r(be,ye),r(_,z),r(_,D),r(D,ne),r(_,M),_t(te,_,null),r(_,oe),r(_,de),r(e,K),r(e,Z),r(Z,fe),r(fe,pe),r(pe,R),r(R,Pe),r(R,he),r(R,Te),r(R,g),r(R,k),r(pe,$),r(pe,F),r(F,ge),r(F,W),r(F,ie),r(F,se),r(F,v),r(fe,me),r(fe,Se),Ve[ee].m(Se,null),X=!0,je||(Ce=[Q(de,"click",o[6]),Q(R,"click",o[7]),Q(F,"click",o[8])],je=!0)},p(C,[re]){(!X||re&16)&&V!==(V=C[4]("nav.dashboard")+"")&&Ee(y,V),(!X||re&16)&&O!==(O=C[4]("nav.drafts")+"")&&Ee(Y,O),(!X||re&16)&&ae!==(ae=C[4]("nav.publish")+"")&&Ee(J,ae),(!X||re&16)&&_e!==(_e=C[4]("nav.automation")+"")&&Ee(ye,_e),(!X||re&16)&&ve!==(ve=C[4]("nav.settings")+"")&&Ee(ne,ve),(!X||re&16)&&ce!==(ce=C[4]("common.loading").includes("...")?"Scripts":"Скрипты")&&Ee(he,ce),(!X||re&1)&&Ge!==(Ge=C[0].length+"")&&Ee(g,Ge),(!X||re&4&&N!==(N=(C[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(R,"class",N),(!X||re&16)&&Ie!==(Ie=C[4]("common.loading").includes("...")?"Videos":"Видео")&&Ee(W,Ie),(!X||re&2)&&P!==(P=C[1].length+"")&&Ee(se,P),(!X||re&4&&E!==(E=(C[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(F,"class",E);let Be=ee;ee=Qe(C),ee===Be?Ve[ee].p(C,re):(yt(),Fe(Ve[Be],1,1,()=>{Ve[Be]=null}),kt(),xe=Ve[ee],xe?xe.p(C,re):(xe=Ve[ee]=qe[ee](C),xe.c()),Le(xe,1),xe.m(Se,null))},i(C){X||(Le(p.$$.fragment,C),Le(te.$$.fragment,C),Le(xe),X=!0)},o(C){Fe(p.$$.fragment,C),Fe(te.$$.fragment,C),Fe(xe),X=!1},d(C){C&&f(e),bt(p),bt(te),Ve[ee].d(),je=!1,ot(Ce)}}}function Ll(o,e,t){let l;ll(o,dl,I=>t(4,l=I));let s=[],i=[],p="scripts",d=!0;rl(async()=>{if(!localStorage.getItem("auth_token")){Pt("/");return}await a()});async function a(){t(3,d=!0);try{if(!localStorage.getItem("auth_token")){Pt("/");return}const[V,y]=await Promise.all([Ze.getScripts("draft"),Ze.getVideos()]);t(0,s=V),t(1,i=y)}catch(I){console.error("Error loading data:",I)}finally{t(3,d=!1)}}function h(){localStorage.removeItem("auth_token"),Pt("/")}return[s,i,p,d,l,a,h,()=>t(2,p="scripts"),()=>t(2,p="videos")]}class Jl extends $t{constructor(e){super(),el(this,e,Ll,Al,tl,{})}}export{Jl as component};
