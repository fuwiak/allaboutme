import{S as il,i as cl,s as ul,d,r as nt,w as Ge,x as Oe,b as ye,f as n,G as Ct,E as wt,c as M,e as r,l as R,g as c,h as v,m as B,k as m,j as E,F as at,o as u,t as O,q as x,B as dl,u as fl,D as vl,Q as Yt,J as pl,a as Ae,v as mt,y as xt,z as yt,A as kt,K as Kt,n as Fe,H as Zt}from"../chunks/DDZ0vrLm.js";import{e as ht,u as gl,o as hl}from"../chunks/DsHVYrMn.js";import"../chunks/IHki7fMi.js";import{w as bl,g as At}from"../chunks/CJKli1MZ.js";import{a as $e}from"../chunks/Qzne32_b.js";import{R as _l,L as ml,t as xl}from"../chunks/6w1pQ1iP.js";import{P as yl}from"../chunks/49Nm7P_B.js";import{V as kl}from"../chunks/CE3X3uHF.js";const Gt={textPosition:"center",voiceId:"pNInz6obpgDQGcFmaJgB",backgroundUrl:null,backgroundTheme:"cosmic"};function Cl(){if(typeof window>"u")return Gt;const o=localStorage.getItem("video_settings");if(o)try{return{...Gt,...JSON.parse(o)}}catch(e){console.error("Failed to load video settings:",e)}return Gt}const Qe=bl(Cl());typeof window<"u"&&Qe.subscribe(o=>{var t;const e={...o,backgroundUrl:(t=o.backgroundUrl)!=null&&t.startsWith("blob:")?null:o.backgroundUrl};localStorage.setItem("video_settings",JSON.stringify(e)),console.log("[VideoSettings] Settings saved:",e)});function $t(o,e,t){const l=o.slice();return l[45]=e[t],l}function wl(o){let e,t=o[0].script+"",l;return{c(){e=u("p"),l=O(t),this.h()},l(s){e=c(s,"P",{class:!0});var i=v(e);l=B(i,t),i.forEach(d),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(s,i){M(s,e,i),r(e,l)},p(s,i){i[0]&1&&t!==(t=s[0].script+"")&&ye(l,t)},d(s){s&&d(e)}}}function El(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0}),v(e).forEach(d),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4")},m(s,i){M(s,e,i),Ae(e,o[3]),t||(l=R(e,"input",o[24]),t=!0)},p(s,i){i[0]&8&&Ae(e,s[3])},d(s){s&&d(e),t=!1,l()}}}function Tl(o){let e,t="Not generated yet";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-10ts8hq"&&(e.textContent=t),this.h()},h(){n(e,"class","text-gray-500 italic")},m(l,s){M(l,e,s)},p:Fe,d(l){l&&d(e)}}}function Il(o){let e,t;return{c(){e=u("p"),t=O(o[4]),this.h()},l(l){e=c(l,"P",{class:!0});var s=v(e);t=B(s,o[4]),s.forEach(d),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(l,s){M(l,e,s),r(e,t)},p(l,s){s[0]&16&&ye(t,l[4])},d(l){l&&d(e)}}}function Vl(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(e).forEach(d),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4"),n(e,"placeholder","Generate clean text for voiceover...")},m(s,i){M(s,e,i),Ae(e,o[4]),t||(l=R(e,"input",o[25]),t=!0)},p(s,i){i[0]&16&&Ae(e,s[4])},d(s){s&&d(e),t=!1,l()}}}function Dl(o){let e,t="✏️ Edit",l,s,i="🎬 Create Video",p,f;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-rtjn0e"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-1gipdk6"&&(s.textContent=i),this.h()},h(){n(e,"class","px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors"),n(s,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all")},m(a,g){M(a,e,g),M(a,l,g),M(a,s,g),p||(f=[R(e,"click",o[27]),R(s,"click",o[17])],p=!0)},p:Fe,d(a){a&&(d(e),d(l),d(s)),p=!1,nt(f)}}}function Pl(o){let e,t="💾 Save",l,s,i="Cancel",p,f;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-kcz9eg"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-13v2dgx"&&(s.textContent=i),this.h()},h(){n(e,"class","flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors"),n(s,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors")},m(a,g){M(a,e,g),M(a,l,g),M(a,s,g),p||(f=[R(e,"click",o[15]),R(s,"click",o[26])],p=!0)},p:Fe,d(a){a&&(d(e),d(l),d(s)),p=!1,nt(f)}}}function el(o){let e,t,l,s="🎬 Video Settings",i,p,f='<p class="text-xs text-purple-200">🌐 <strong>Global Settings</strong> - These settings apply to all videos and are saved automatically</p>',a,g,C,_,I="📐 Text Position",D,y,L,H,A,Y,S,N,ne,X,j,ve,be,ke,z,U,he="🎤 Voice Selection",ie,F,$,se,de="Click ▶️ to preview voice before generating",Ce,J,K,fe="🖼️ Custom Background (Optional)",pe,W,De="⚠️ If empty, background will be auto-detected from script content. Generate custom to override.",ce,ge,Te,Le="✨ Generate AI Background:",Pe,ee,h,T,P="🌌 Cosmic",re,_e="🔮 Astrology",q,te="🔢 Numerology",V,ae="💎 Destiny Matrix",b,w="🎨 Human Design",me,Ue="✨ Motivation",Z,xe="🌙 Moon",Q,qe="🃏 Tarot",we,ze="⚡ Chakras",Ie,Ye,k,oe,Se,vt="Free AI generation via Pollinations.ai",et,Ne,ue,bt="📁 Or Upload Your Own:",it,Re,ct,Je,_t="JPG, PNG, GIF, WebP (max 10MB)",tt,He,Be,We,lt=(o[12].backgroundUrl||"null")+"",Et,Ut,St,rt,ot,Mt="🎬 Generate Video",Nt,st,Ft="Cancel",Bt,Ht,ut=ht(o[13]),Ee=[];for(let G=0;G<ut.length;G+=1)Ee[G]=tl($t(o,ut,G));function jt(G,Ve){return G[10]?Bl:Nl}let Tt=jt(o),Ke=Tt(o);function qt(G,Ve){return G[12].backgroundUrl?Ll:Ol}let It=qt(o),je=It(o);return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),p.innerHTML=f,a=x(),g=u("div"),C=u("div"),_=u("label"),_.textContent=I,D=x(),y=u("div"),L=u("button"),H=O("⬆️ Top"),Y=x(),S=u("button"),N=O("⏺️ Center"),X=x(),j=u("button"),ve=O("⬇️ Bottom"),ke=x(),z=u("div"),U=u("label"),U.textContent=he,ie=x(),F=u("div");for(let G=0;G<Ee.length;G+=1)Ee[G].c();$=x(),se=u("p"),se.textContent=de,Ce=x(),J=u("div"),K=u("label"),K.textContent=fe,pe=x(),W=u("p"),W.textContent=De,ce=x(),ge=u("div"),Te=u("label"),Te.textContent=Le,Pe=x(),ee=u("div"),h=u("select"),T=u("option"),T.textContent=P,re=u("option"),re.textContent=_e,q=u("option"),q.textContent=te,V=u("option"),V.textContent=ae,b=u("option"),b.textContent=w,me=u("option"),me.textContent=Ue,Z=u("option"),Z.textContent=xe,Q=u("option"),Q.textContent=qe,we=u("option"),we.textContent=ze,Ye=x(),k=u("button"),Ke.c(),oe=x(),Se=u("p"),Se.textContent=vt,et=x(),Ne=u("div"),ue=u("label"),ue.textContent=bt,it=x(),Re=u("input"),ct=x(),Je=u("p"),Je.textContent=_t,tt=x(),He=u("div"),Be=u("p"),We=O("Debug: backgroundUrl = "),Et=O(lt),Ut=x(),je.c(),St=x(),rt=u("div"),ot=u("button"),ot.textContent=Mt,Nt=x(),st=u("button"),st.textContent=Ft,this.h()},l(G){e=c(G,"DIV",{class:!0});var Ve=v(e);t=c(Ve,"DIV",{class:!0});var le=v(t);l=c(le,"H3",{class:!0,"data-svelte-h":!0}),E(l)!=="svelte-192819n"&&(l.textContent=s),i=m(le),p=c(le,"DIV",{class:!0,"data-svelte-h":!0}),E(p)!=="svelte-1m3nfc4"&&(p.innerHTML=f),a=m(le),g=c(le,"DIV",{class:!0});var Ze=v(g);C=c(Ze,"DIV",{});var Vt=v(C);_=c(Vt,"LABEL",{class:!0,"data-svelte-h":!0}),E(_)!=="svelte-1p0zjbe"&&(_.textContent=I),D=m(Vt),y=c(Vt,"DIV",{class:!0});var dt=v(y);L=c(dt,"BUTTON",{class:!0});var zt=v(L);H=B(zt,"⬆️ Top"),zt.forEach(d),Y=m(dt),S=c(dt,"BUTTON",{class:!0});var Rt=v(S);N=B(Rt,"⏺️ Center"),Rt.forEach(d),X=m(dt),j=c(dt,"BUTTON",{class:!0});var Jt=v(j);ve=B(Jt,"⬇️ Bottom"),Jt.forEach(d),dt.forEach(d),Vt.forEach(d),ke=m(Ze),z=c(Ze,"DIV",{});var ft=v(z);U=c(ft,"LABEL",{class:!0,"data-svelte-h":!0}),E(U)!=="svelte-1vi0gmv"&&(U.textContent=he),ie=m(ft),F=c(ft,"DIV",{class:!0});var Wt=v(F);for(let Lt=0;Lt<Ee.length;Lt+=1)Ee[Lt].l(Wt);Wt.forEach(d),$=m(ft),se=c(ft,"P",{class:!0,"data-svelte-h":!0}),E(se)!=="svelte-162ccjb"&&(se.textContent=de),ft.forEach(d),Ce=m(Ze),J=c(Ze,"DIV",{});var Me=v(J);K=c(Me,"LABEL",{class:!0,"data-svelte-h":!0}),E(K)!=="svelte-12zcyql"&&(K.textContent=fe),pe=m(Me),W=c(Me,"P",{class:!0,"data-svelte-h":!0}),E(W)!=="svelte-1p71e8n"&&(W.textContent=De),ce=m(Me),ge=c(Me,"DIV",{class:!0});var pt=v(ge);Te=c(pt,"LABEL",{class:!0,"data-svelte-h":!0}),E(Te)!=="svelte-1kittw0"&&(Te.textContent=Le),Pe=m(pt),ee=c(pt,"DIV",{class:!0});var Dt=v(ee);h=c(Dt,"SELECT",{class:!0});var Xe=v(h);T=c(Xe,"OPTION",{"data-svelte-h":!0}),E(T)!=="svelte-1dkw48c"&&(T.textContent=P),re=c(Xe,"OPTION",{"data-svelte-h":!0}),E(re)!=="svelte-1oxvz1f"&&(re.textContent=_e),q=c(Xe,"OPTION",{"data-svelte-h":!0}),E(q)!=="svelte-nc889j"&&(q.textContent=te),V=c(Xe,"OPTION",{"data-svelte-h":!0}),E(V)!=="svelte-jymkbt"&&(V.textContent=ae),b=c(Xe,"OPTION",{"data-svelte-h":!0}),E(b)!=="svelte-15rxc6h"&&(b.textContent=w),me=c(Xe,"OPTION",{"data-svelte-h":!0}),E(me)!=="svelte-1u1ghwe"&&(me.textContent=Ue),Z=c(Xe,"OPTION",{"data-svelte-h":!0}),E(Z)!=="svelte-du7yyv"&&(Z.textContent=xe),Q=c(Xe,"OPTION",{"data-svelte-h":!0}),E(Q)!=="svelte-v0gk19"&&(Q.textContent=qe),we=c(Xe,"OPTION",{"data-svelte-h":!0}),E(we)!=="svelte-1p72mw9"&&(we.textContent=ze),Xe.forEach(d),Ye=m(Dt),k=c(Dt,"BUTTON",{class:!0});var Xt=v(k);Ke.l(Xt),Xt.forEach(d),Dt.forEach(d),oe=m(pt),Se=c(pt,"P",{class:!0,"data-svelte-h":!0}),E(Se)!=="svelte-1bcuxmt"&&(Se.textContent=vt),pt.forEach(d),et=m(Me),Ne=c(Me,"DIV",{});var gt=v(Ne);ue=c(gt,"LABEL",{class:!0,"data-svelte-h":!0}),E(ue)!=="svelte-19u7y30"&&(ue.textContent=bt),it=m(gt),Re=c(gt,"INPUT",{type:!0,accept:!0,class:!0}),ct=m(gt),Je=c(gt,"P",{class:!0,"data-svelte-h":!0}),E(Je)!=="svelte-18xcy9y"&&(Je.textContent=_t),gt.forEach(d),tt=m(Me),He=c(Me,"DIV",{class:!0});var Qt=v(He);Be=c(Qt,"P",{class:!0});var Ot=v(Be);We=B(Ot,"Debug: backgroundUrl = "),Et=B(Ot,lt),Ot.forEach(d),Qt.forEach(d),Ut=m(Me),je.l(Me),Me.forEach(d),Ze.forEach(d),St=m(le),rt=c(le,"DIV",{class:!0});var Pt=v(rt);ot=c(Pt,"BUTTON",{class:!0,"data-svelte-h":!0}),E(ot)!=="svelte-1r9r3yw"&&(ot.textContent=Mt),Nt=m(Pt),st=c(Pt,"BUTTON",{class:!0,"data-svelte-h":!0}),E(st)!=="svelte-smpvns"&&(st.textContent=Ft),Pt.forEach(d),le.forEach(d),Ve.forEach(d),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(p,"class","bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-lg p-3 mb-4"),n(_,"class","block text-sm font-semibold text-gray-300 mb-2"),n(L,"class",A="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(S,"class",ne="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(j,"class",be="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(y,"class","flex gap-2"),n(U,"class","block text-sm font-semibold text-gray-300 mb-2"),n(F,"class","space-y-2"),n(se,"class","text-xs text-gray-400 mt-2"),n(K,"class","block text-sm font-semibold text-gray-300 mb-2"),n(W,"class","text-xs text-gray-400 mb-3"),n(Te,"class","block text-xs text-gray-400 mb-2"),T.__value="cosmic",Ae(T,T.__value),re.__value="astrology",Ae(re,re.__value),q.__value="numerology",Ae(q,q.__value),V.__value="matrix",Ae(V,V.__value),b.__value="human_design",Ae(b,b.__value),me.__value="motivation",Ae(me,me.__value),Z.__value="moon",Ae(Z,Z.__value),Q.__value="tarot",Ae(Q,Q.__value),we.__value="chakras",Ae(we,we.__value),n(h,"class","flex-1 px-3 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm"),k.disabled=o[10],n(k,"class","px-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 disabled:from-gray-600 disabled:to-gray-700 text-white font-semibold rounded-lg transition-all text-sm"),n(ee,"class","flex gap-2"),n(Se,"class","text-xs text-gray-400 mt-1"),n(ge,"class","mb-3"),n(ue,"class","block text-xs text-gray-400 mb-2"),n(Re,"type","file"),n(Re,"accept","image/*"),n(Re,"class","w-full px-4 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700"),n(Je,"class","text-xs text-gray-400 mt-1"),n(Be,"class","text-gray-400"),n(He,"class","mt-2 p-2 bg-gray-900 rounded text-xs"),n(g,"class","space-y-4 mb-6"),n(ot,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all"),n(st,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(rt,"class","flex gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-md mx-4 p-6 my-4"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-start justify-center z-40 pt-20 overflow-y-auto")},m(G,Ve){M(G,e,Ve),r(e,t),r(t,l),r(t,i),r(t,p),r(t,a),r(t,g),r(g,C),r(C,_),r(C,D),r(C,y),r(y,L),r(L,H),r(y,Y),r(y,S),r(S,N),r(y,X),r(y,j),r(j,ve),r(g,ke),r(g,z),r(z,U),r(z,ie),r(z,F);for(let le=0;le<Ee.length;le+=1)Ee[le]&&Ee[le].m(F,null);r(z,$),r(z,se),r(g,Ce),r(g,J),r(J,K),r(J,pe),r(J,W),r(J,ce),r(J,ge),r(ge,Te),r(ge,Pe),r(ge,ee),r(ee,h),r(h,T),r(h,re),r(h,q),r(h,V),r(h,b),r(h,me),r(h,Z),r(h,Q),r(h,we),Yt(h,o[12].backgroundTheme),r(ee,Ye),r(ee,k),Ke.m(k,null),r(ge,oe),r(ge,Se),r(J,et),r(J,Ne),r(Ne,ue),r(Ne,it),r(Ne,Re),r(Ne,ct),r(Ne,Je),r(J,tt),r(J,He),r(He,Be),r(Be,We),r(Be,Et),r(J,Ut),je.m(J,null),r(t,St),r(t,rt),r(rt,ot),r(rt,Nt),r(rt,st),Bt||(Ht=[R(L,"click",o[28]),R(S,"click",o[29]),R(j,"click",o[30]),R(h,"change",o[33]),R(k,"click",o[20]),R(Re,"change",o[34]),R(ot,"click",o[18]),R(st,"click",o[38]),R(t,"click",pl(o[23])),R(e,"click",o[39])],Bt=!0)},p(G,Ve){if(Ve[0]&4096&&A!==(A="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(G[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(L,"class",A),Ve[0]&4096&&ne!==(ne="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(G[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(S,"class",ne),Ve[0]&4096&&be!==(be="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(G[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(j,"class",be),Ve[0]&30720){ut=ht(G[13]);let le;for(le=0;le<ut.length;le+=1){const Ze=$t(G,ut,le);Ee[le]?Ee[le].p(Ze,Ve):(Ee[le]=tl(Ze),Ee[le].c(),Ee[le].m(F,null))}for(;le<Ee.length;le+=1)Ee[le].d(1);Ee.length=ut.length}Ve[0]&4096&&Ie!==(Ie=G[12].backgroundTheme)&&Yt(h,G[12].backgroundTheme),Tt!==(Tt=jt(G))&&(Ke.d(1),Ke=Tt(G),Ke&&(Ke.c(),Ke.m(k,null))),Ve[0]&1024&&(k.disabled=G[10]),Ve[0]&4096&&lt!==(lt=(G[12].backgroundUrl||"null")+"")&&ye(Et,lt),It===(It=qt(G))&&je?je.p(G,Ve):(je.d(1),je=It(G),je&&(je.c(),je.m(J,null)))},d(G){G&&d(e),vl(Ee,G),Ke.d(),je.d(),Bt=!1,nt(Ht)}}}function Ul(o){let e;return{c(){e=O("▶️")},l(t){e=B(t,"▶️")},m(t,l){M(t,e,l)},d(t){t&&d(e)}}}function Sl(o){let e;return{c(){e=O("⏸️")},l(t){e=B(t,"⏸️")},m(t,l){M(t,e,l)},d(t){t&&d(e)}}}function tl(o){let e,t,l,s,i,p,f,a=o[45].icon+"",g,C,_,I,D=o[45].name+"",y,L,H,A=o[45].description+"",Y,S,N,ne,X,j,ve;function be(){return o[31](o[45])}function ke(ie,F){return ie[11]?Sl:Ul}let z=ke(o),U=z(o);function he(){return o[32](o[45])}return{c(){e=u("div"),t=u("input"),s=x(),i=u("label"),p=u("div"),f=u("span"),g=O(a),C=x(),_=u("div"),I=u("div"),y=O(D),L=x(),H=u("div"),Y=O(A),S=x(),N=u("button"),U.c(),ne=x(),this.h()},l(ie){e=c(ie,"DIV",{class:!0});var F=v(e);t=c(F,"INPUT",{type:!0,id:!0,name:!0,class:!0}),s=m(F),i=c(F,"LABEL",{for:!0,class:!0});var $=v(i);p=c($,"DIV",{class:!0});var se=v(p);f=c(se,"SPAN",{class:!0});var de=v(f);g=B(de,a),de.forEach(d),C=m(se),_=c(se,"DIV",{class:!0});var Ce=v(_);I=c(Ce,"DIV",{class:!0});var J=v(I);y=B(J,D),J.forEach(d),L=m(Ce),H=c(Ce,"DIV",{class:!0});var K=v(H);Y=B(K,A),K.forEach(d),Ce.forEach(d),se.forEach(d),$.forEach(d),S=m(F),N=c(F,"BUTTON",{class:!0,title:!0});var fe=v(N);U.l(fe),fe.forEach(d),ne=m(F),F.forEach(d),this.h()},h(){n(t,"type","radio"),n(t,"id","voice-"+o[45].id),n(t,"name","voice"),t.value=o[45].id,t.checked=l=o[12].voiceId===o[45].id,n(t,"class","w-4 h-4 text-purple-600"),n(f,"class","text-lg"),n(I,"class","text-sm font-semibold text-white"),n(H,"class","text-xs text-gray-400"),n(_,"class","flex-1"),n(p,"class","flex items-center gap-2"),n(i,"for","voice-"+o[45].id),n(i,"class","flex-1 cursor-pointer"),N.disabled=o[11],n(N,"class","px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white text-xs font-semibold rounded transition-colors"),n(N,"title","Play sample"),n(e,"class",X="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[45].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))},m(ie,F){M(ie,e,F),r(e,t),r(e,s),r(e,i),r(i,p),r(p,f),r(f,g),r(p,C),r(p,_),r(_,I),r(I,y),r(_,L),r(_,H),r(H,Y),r(e,S),r(e,N),U.m(N,null),r(e,ne),j||(ve=[R(t,"change",be),R(N,"click",he)],j=!0)},p(ie,F){o=ie,F[0]&4096&&l!==(l=o[12].voiceId===o[45].id)&&(t.checked=l),z!==(z=ke(o))&&(U.d(1),U=z(o),U&&(U.c(),U.m(N,null))),F[0]&2048&&(N.disabled=o[11]),F[0]&4096&&X!==(X="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[45].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))&&n(e,"class",X)},d(ie){ie&&d(e),U.d(),j=!1,nt(ve)}}}function Nl(o){let e;return{c(){e=O("🎨 Generate")},l(t){e=B(t,"🎨 Generate")},m(t,l){M(t,e,l)},d(t){t&&d(e)}}}function Bl(o){let e,t=`<div class="animate-spin rounded-full h-3 w-3 border-2 border-white/30 border-t-white"></div>
									Generating...`;return{c(){e=u("span"),e.innerHTML=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-11bmtej"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex items-center gap-2")},m(l,s){M(l,e,s)},d(l){l&&d(e)}}}function Ol(o){let e,t="ℹ️ No background selected. Generate or upload to preview.";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-1cmqdhk"&&(e.textContent=t),this.h()},h(){n(e,"class","mt-2 p-2 bg-yellow-900/20 border border-yellow-600 rounded text-xs text-yellow-300")},m(l,s){M(l,e,s)},p:Fe,d(l){l&&d(e)}}}function Ll(o){let e,t,l,s,i,p,f="✕",a,g,C="✅ Background ready (global)",_,I;return{c(){e=u("div"),t=u("div"),l=u("img"),i=x(),p=u("button"),p.textContent=f,a=x(),g=u("p"),g.textContent=C,this.h()},l(D){e=c(D,"DIV",{class:!0});var y=v(e);t=c(y,"DIV",{class:!0});var L=v(t);l=c(L,"IMG",{src:!0,alt:!0,class:!0}),i=m(L),p=c(L,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),E(p)!=="svelte-l2cth2"&&(p.textContent=f),L.forEach(d),a=m(y),g=c(y,"P",{class:!0,"data-svelte-h":!0}),E(g)!=="svelte-4l9tbx"&&(g.textContent=C),y.forEach(d),this.h()},h(){Zt(l.src,s=o[12].backgroundUrl)||n(l,"src",s),n(l,"alt","Generated background"),n(l,"class","w-full h-32 object-cover rounded-lg border-2 border-green-500"),n(p,"class","absolute top-2 right-2 px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs font-semibold rounded shadow-lg transition-colors"),n(p,"title","Clear background"),n(t,"class","relative"),n(g,"class","text-xs text-green-400 mt-1"),n(e,"class","mt-3")},m(D,y){M(D,e,y),r(e,t),r(t,l),r(t,i),r(t,p),r(e,a),r(e,g),_||(I=[R(l,"error",o[35]),R(l,"load",o[36]),R(p,"click",o[37])],_=!0)},p(D,y){y[0]&4096&&!Zt(l.src,s=D[12].backgroundUrl)&&n(l,"src",s)},d(D){D&&d(e),_=!1,nt(I)}}}function ll(o){let e,t;return e=new yl({props:{taskId:o[8],title:"Creating Video",onStop:o[19],onClose:o[40]}}),{c(){kt(e.$$.fragment)},l(l){yt(e.$$.fragment,l)},m(l,s){xt(e,l,s),t=!0},p(l,s){const i={};s[0]&256&&(i.taskId=l[8]),s[0]&130&&(i.onClose=l[40]),e.$set(i)},i(l){t||(Oe(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){mt(e,l)}}}function rl(o){let e,t,l,s="✨ Generated Post Text",i,p,f,a,g,C,_,I="Edit",D,y,L="Close",H,A;return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),f=u("p"),a=O(o[4]),g=x(),C=u("div"),_=u("button"),_.textContent=I,D=x(),y=u("button"),y.textContent=L,this.h()},l(Y){e=c(Y,"DIV",{class:!0});var S=v(e);t=c(S,"DIV",{class:!0});var N=v(t);l=c(N,"H3",{class:!0,"data-svelte-h":!0}),E(l)!=="svelte-1lbyrrb"&&(l.textContent=s),i=m(N),p=c(N,"DIV",{class:!0});var ne=v(p);f=c(ne,"P",{class:!0});var X=v(f);a=B(X,o[4]),X.forEach(d),ne.forEach(d),g=m(N),C=c(N,"DIV",{class:!0});var j=v(C);_=c(j,"BUTTON",{class:!0,"data-svelte-h":!0}),E(_)!=="svelte-s50vdr"&&(_.textContent=I),D=m(j),y=c(j,"BUTTON",{class:!0,"data-svelte-h":!0}),E(y)!=="svelte-11cd5q2"&&(y.textContent=L),j.forEach(d),N.forEach(d),S.forEach(d),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(f,"class","text-gray-200 whitespace-pre-wrap"),n(p,"class","bg-gray-900 p-4 rounded-lg mb-4"),n(_,"class","px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors"),n(y,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(C,"class","flex justify-end gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl mx-4 p-6"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-40")},m(Y,S){M(Y,e,S),r(e,t),r(t,l),r(t,i),r(t,p),r(p,f),r(f,a),r(t,g),r(t,C),r(C,_),r(C,D),r(C,y),H||(A=[R(_,"click",o[41]),R(y,"click",o[42]),R(t,"click",pl(o[22])),R(e,"click",o[43])],H=!0)},p(Y,S){S[0]&16&&ye(a,Y[4])},d(Y){Y&&d(e),H=!1,nt(A)}}}function Al(o){let e,t,l,s,i,p=(o[0].theme||"No theme")+"",f,a,g,C=o[0].status+"",_,I,D,y,L,H=o[0].id+"",A,Y,S,N='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',ne,X,j,ve="📝 Сценарий / Контекст",be,ke,z,U,he,ie="🎤 Текст для озвучки",F,$,se=o[6]?"Generating...":"✨ Generate",de,Ce,J,K,fe,pe,W,De,ce,ge,Te;function Le(b,w){return b[2]?El:wl}let Pe=Le(o),ee=Pe(o);function h(b,w){return b[2]?Vl:b[4]?Il:Tl}let T=h(o),P=T(o);function re(b,w){return b[2]?Pl:Dl}let _e=re(o),q=_e(o),te=o[9]&&el(o),V=o[7]&&ll(o),ae=o[5]&&rl(o);return{c(){e=u("div"),t=u("div"),l=u("div"),s=u("div"),i=u("span"),f=O(p),a=x(),g=u("span"),_=O(C),D=x(),y=u("p"),L=O("ID: "),A=O(H),Y=x(),S=u("button"),S.innerHTML=N,ne=x(),X=u("div"),j=u("label"),j.textContent=ve,be=x(),ee.c(),ke=x(),z=u("div"),U=u("div"),he=u("label"),he.textContent=ie,F=x(),$=u("button"),de=O(se),Ce=x(),P.c(),J=x(),K=u("div"),q.c(),fe=x(),te&&te.c(),pe=x(),V&&V.c(),W=x(),ae&&ae.c(),De=at(),this.h()},l(b){e=c(b,"DIV",{class:!0});var w=v(e);t=c(w,"DIV",{class:!0});var me=v(t);l=c(me,"DIV",{class:!0});var Ue=v(l);s=c(Ue,"DIV",{class:!0});var Z=v(s);i=c(Z,"SPAN",{class:!0});var xe=v(i);f=B(xe,p),xe.forEach(d),a=m(Z),g=c(Z,"SPAN",{class:!0});var Q=v(g);_=B(Q,C),Q.forEach(d),Z.forEach(d),D=m(Ue),y=c(Ue,"P",{class:!0});var qe=v(y);L=B(qe,"ID: "),A=B(qe,H),qe.forEach(d),Ue.forEach(d),Y=m(me),S=c(me,"BUTTON",{class:!0,"data-svelte-h":!0}),E(S)!=="svelte-1pdyl8k"&&(S.innerHTML=N),me.forEach(d),ne=m(w),X=c(w,"DIV",{class:!0});var we=v(X);j=c(we,"LABEL",{class:!0,"data-svelte-h":!0}),E(j)!=="svelte-1n7rap0"&&(j.textContent=ve),be=m(we),ee.l(we),we.forEach(d),ke=m(w),z=c(w,"DIV",{class:!0});var ze=v(z);U=c(ze,"DIV",{class:!0});var Ie=v(U);he=c(Ie,"LABEL",{class:!0,"data-svelte-h":!0}),E(he)!=="svelte-1oeihmp"&&(he.textContent=ie),F=m(Ie),$=c(Ie,"BUTTON",{class:!0});var Ye=v($);de=B(Ye,se),Ye.forEach(d),Ie.forEach(d),Ce=m(ze),P.l(ze),ze.forEach(d),J=m(w),K=c(w,"DIV",{class:!0});var k=v(K);q.l(k),k.forEach(d),w.forEach(d),fe=m(b),te&&te.l(b),pe=m(b),V&&V.l(b),W=m(b),ae&&ae.l(b),De=at(),this.h()},h(){n(i,"class","text-xs px-2 py-1 bg-purple-500/20 text-purple-300 rounded"),n(g,"class",I="text-xs px-2 py-1 rounded "+(o[0].status==="approved"?"bg-green-500/20 text-green-300":o[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")),n(s,"class","flex items-center gap-2 mb-2"),n(y,"class","text-sm text-gray-400"),n(l,"class","flex-1"),n(S,"class","text-red-400 hover:text-red-300 transition-colors"),n(t,"class","flex items-start justify-between mb-4"),n(j,"class","block text-sm font-semibold text-gray-300"),n(X,"class","space-y-3"),n(he,"class","block text-sm font-semibold text-gray-300"),$.disabled=o[6],n($,"class","text-xs px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded transition-colors"),n(U,"class","flex items-center justify-between"),n(z,"class","mt-4 space-y-3"),n(K,"class","flex gap-3 mt-6"),n(e,"class","bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-700 hover:border-purple-500/50 transition-all")},m(b,w){M(b,e,w),r(e,t),r(t,l),r(l,s),r(s,i),r(i,f),r(s,a),r(s,g),r(g,_),r(l,D),r(l,y),r(y,L),r(y,A),r(t,Y),r(t,S),r(e,ne),r(e,X),r(X,j),r(X,be),ee.m(X,null),r(e,ke),r(e,z),r(z,U),r(U,he),r(U,F),r(U,$),r($,de),r(z,Ce),P.m(z,null),r(e,J),r(e,K),q.m(K,null),M(b,fe,w),te&&te.m(b,w),M(b,pe,w),V&&V.m(b,w),M(b,W,w),ae&&ae.m(b,w),M(b,De,w),ce=!0,ge||(Te=[R(S,"click",o[21]),R($,"click",o[16])],ge=!0)},p(b,w){(!ce||w[0]&1)&&p!==(p=(b[0].theme||"No theme")+"")&&ye(f,p),(!ce||w[0]&1)&&C!==(C=b[0].status+"")&&ye(_,C),(!ce||w[0]&1&&I!==(I="text-xs px-2 py-1 rounded "+(b[0].status==="approved"?"bg-green-500/20 text-green-300":b[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")))&&n(g,"class",I),(!ce||w[0]&1)&&H!==(H=b[0].id+"")&&ye(A,H),Pe===(Pe=Le(b))&&ee?ee.p(b,w):(ee.d(1),ee=Pe(b),ee&&(ee.c(),ee.m(X,null))),(!ce||w[0]&64)&&se!==(se=b[6]?"Generating...":"✨ Generate")&&ye(de,se),(!ce||w[0]&64)&&($.disabled=b[6]),T===(T=h(b))&&P?P.p(b,w):(P.d(1),P=T(b),P&&(P.c(),P.m(z,null))),_e===(_e=re(b))&&q?q.p(b,w):(q.d(1),q=_e(b),q&&(q.c(),q.m(K,null))),b[9]?te?te.p(b,w):(te=el(b),te.c(),te.m(pe.parentNode,pe)):te&&(te.d(1),te=null),b[7]?V?(V.p(b,w),w[0]&128&&Oe(V,1)):(V=ll(b),V.c(),Oe(V,1),V.m(W.parentNode,W)):V&&(Ct(),Ge(V,1,1,()=>{V=null}),wt()),b[5]?ae?ae.p(b,w):(ae=rl(b),ae.c(),ae.m(De.parentNode,De)):ae&&(ae.d(1),ae=null)},i(b){ce||(Oe(V),ce=!0)},o(b){Ge(V),ce=!1},d(b){b&&(d(e),d(fe),d(pe),d(W),d(De)),ee.d(),P.d(),q.d(),te&&te.d(b),V&&V.d(b),ae&&ae.d(b),ge=!1,nt(Te)}}}function Gl(o){const e={cosmic:"Deep space cosmos, nebula colors, spiritual universe, infinite energy, celestial beauty, mystical stars, high quality",astrology:"Mystical zodiac wheel with all 12 signs, cosmic background, stars, planets, ethereal glow, spiritual art, high quality",numerology:"Sacred numerology symbols, golden numbers 1-9 in mystical circle, divine geometry, spiritual energy, cosmic background",matrix:"Destiny matrix energy map, sacred geometry, chakra colors, spiritual pathways, mystical symbols, glowing mandala",human_design:"Human Design body graph, energy centers, spiritual diagram, colorful chakras, cosmic consciousness, mystical blueprint",motivation:"Inspiring cosmic energy, spiritual awakening, golden light, universe connection, meditation vibes, peaceful atmosphere",moon:"Mystical moon phases, intuitive wisdom, celestial magic, spiritual feminine energy, night sky, stars, ethereal glow",tarot:"Mystical tarot cards spread, divine symbols, spiritual guidance, cosmic wisdom, ethereal art, magical atmosphere",chakras:"Seven colorful chakras energy centers, spiritual alignment, cosmic healing, rainbow aura, divine light"};return e[o]||e.cosmic}function Ml(o,e,t){let l;dl(o,Qe,h=>t(12,l=h));let{script:s}=e,{onUpdate:i}=e,p=!1,f=s.script,a=s.post_text||"",g=!1,C=!1,_=!1,I="",D=!1,y=!1,L=!1;fl(()=>{console.log("[ScriptCard] Current global settings:",l)});const H=[{id:"pNInz6obpgDQGcFmaJgB",name:"Adam",description:"Deep male - Warm, narrative",sampleFile:"/voice-samples/adam.mp3",icon:"🎙️"},{id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",description:"Female - Soft, friendly",sampleFile:"/voice-samples/bella.mp3",icon:"🎤"},{id:"TxGEqnHWrfWFTfGW9XjX",name:"Josh",description:"Young male - Energetic",sampleFile:"/voice-samples/josh.mp3",icon:"🔊"}];let A=null;async function Y(h){try{A&&(A.pause(),A.currentTime=0,A=null);const T=H.find(P=>P.id===h);if(!T)return;t(11,L=!0),A=new Audio(T.sampleFile),A.volume=.9,A.onended=()=>{t(11,L=!1),A=null},A.onerror=P=>{console.error("Error playing sample:",P),t(11,L=!1),A=null,alert(`Failed to load ${T.name} sample. Try regenerating voice samples.`)},await A.play()}catch(T){console.error("Error playing sample:",T),t(11,L=!1),A=null}}async function S(){try{await $e.updateScript(s.id,{script:f,post_text:a}),t(2,p=!1),i()}catch(h){alert(`Error saving script: ${h}`)}}async function N(){t(6,C=!0);try{const h=await $e.generatePostText(s.id);t(4,a=h.post_text),t(0,s.post_text=h.post_text,s),t(5,g=!0)}catch(h){alert(`Error generating post text: ${h}`)}finally{t(6,C=!1)}}async function ne(){!a&&!window.confirm("Post text is empty. Generate it first or use the scenario text?")||t(9,D=!0)}async function X(){await S();const h=l;try{const T=await $e.generateVideo(s.id,h.textPosition,h.backgroundUrl||void 0,h.voiceId);t(8,I=T.task_id),console.log("[ScriptCard] Video generation started with GLOBAL settings:",{textPosition:h.textPosition,background:h.backgroundUrl?"custom":"default",voiceId:h.voiceId,taskId:T.task_id}),t(9,D=!1),t(7,_=!0)}catch(T){alert(`Error creating video: ${T}`),t(9,D=!1)}}async function j(){if(I)try{await $e.cancelTask(I),t(7,_=!1),alert("Video generation stopped")}catch(h){alert(`Error stopping video: ${h}`)}}async function ve(){t(10,y=!0);try{const h=l.backgroundTheme,T=`https://image.pollinations.ai/prompt/${encodeURIComponent(Gl(h))}?width=1920&height=1080&nologo=true`;console.log("[ScriptCard] Generating background:",h);const P=await fetch(T,{method:"GET"});if(!P.ok)throw new Error("Failed to generate image");const re=await P.blob(),_e=new File([re],`${h}_background.png`,{type:"image/png"});console.log("[ScriptCard] Uploading to backend...");const q=await $e.uploadBackground(_e);console.log("[ScriptCard] Background uploaded:",q.filename);const te=`/storage/backgrounds/${q.filename}`;Qe.update(V=>({...V,backgroundUrl:te})),console.log("[ScriptCard] Background URL saved to store:",te),alert(`✅ Background generated and saved globally: ${h}`)}catch(h){console.error("[ScriptCard] Background generation error:",h),alert(`Error generating background: ${h}`)}finally{t(10,y=!1)}}async function be(){if(confirm("Delete this script?"))try{await $e.deleteScript(s.id),i()}catch(h){alert(`Error deleting script: ${h}`)}}function ke(h){Kt.call(this,o,h)}function z(h){Kt.call(this,o,h)}function U(){f=this.value,t(3,f)}function he(){a=this.value,t(4,a)}const ie=()=>{t(2,p=!1),t(3,f=s.script),t(4,a=s.post_text||"")},F=()=>t(2,p=!0),$=()=>Qe.update(h=>({...h,textPosition:"top"})),se=()=>Qe.update(h=>({...h,textPosition:"center"})),de=()=>Qe.update(h=>({...h,textPosition:"bottom"})),Ce=h=>Qe.update(T=>({...T,voiceId:h.id})),J=h=>Y(h.id),K=h=>Qe.update(T=>({...T,backgroundTheme:h.currentTarget.value})),fe=async h=>{var P;const T=(P=h.currentTarget.files)==null?void 0:P[0];if(T){t(10,y=!0);try{console.log("[ScriptCard] Uploading custom background...");const re=await $e.uploadBackground(T);console.log("[ScriptCard] Upload result:",re);const _e=`/storage/backgrounds/${re.filename}`;Qe.update(q=>({...q,backgroundUrl:_e})),console.log("[ScriptCard] Background URL saved to store:",_e),alert(`✅ Background uploaded: ${re.filename}`)}catch(re){console.error("[ScriptCard] Upload error:",re),alert(`Upload error: ${re}`)}finally{t(10,y=!1)}}},pe=h=>{console.error("[ScriptCard] Image load error:",h),console.error("[ScriptCard] Failed URL:",l.backgroundUrl)},W=()=>{console.log("[ScriptCard] Image loaded successfully:",l.backgroundUrl)},De=()=>{var h;console.log("[ScriptCard] Clearing background:",l.backgroundUrl),(h=l.backgroundUrl)!=null&&h.startsWith("blob:")&&URL.revokeObjectURL(l.backgroundUrl),Qe.update(T=>({...T,backgroundUrl:null}))},ce=()=>t(9,D=!1),ge=()=>t(9,D=!1),Te=()=>{t(7,_=!1),i()},Le=()=>{t(2,p=!0),t(5,g=!1)},Pe=()=>t(5,g=!1),ee=()=>t(5,g=!1);return o.$$set=h=>{"script"in h&&t(0,s=h.script),"onUpdate"in h&&t(1,i=h.onUpdate)},[s,i,p,f,a,g,C,_,I,D,y,L,l,H,Y,S,N,ne,X,j,ve,be,ke,z,U,he,ie,F,$,se,de,Ce,J,K,fe,pe,W,De,ce,ge,Te,Le,Pe,ee]}class Fl extends il{constructor(e){super(),cl(this,e,Ml,Al,ul,{script:0,onUpdate:1},null,[-1,-1])}}function ol(o,e,t){const l=o.slice();return l[12]=e[t],l}function sl(o,e,t){const l=o.slice();return l[9]=e[t],l}function Hl(o){let e,t=[],l=new Map,s,i=ht(o[1]);const p=f=>f[12].id;for(let f=0;f<i.length;f+=1){let a=ol(o,i,f),g=p(a);l.set(g,t[f]=al(g,a))}return{c(){e=u("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=c(f,"DIV",{class:!0});var a=v(e);for(let g=0;g<t.length;g+=1)t[g].l(a);a.forEach(d),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(f,a){M(f,e,a);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);s=!0},p(f,a){a&34&&(i=ht(f[1]),Ct(),t=gl(t,a,p,1,f,i,l,e,hl,al,null,ol),wt())},i(f){if(!s){for(let a=0;a<i.length;a+=1)Oe(t[a]);s=!0}},o(f){for(let a=0;a<t.length;a+=1)Ge(t[a]);s=!1},d(f){f&&d(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function jl(o){let e,t='<div class="text-6xl mb-4">🎥</div> <p class="text-gray-300 text-lg">No videos yet</p> <p class="text-gray-400 text-sm mt-2">Create videos from your scripts first</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-qv289k"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){M(l,e,s)},p:Fe,i:Fe,o:Fe,d(l){l&&d(e)}}}function ql(o){let e,t,l,s;const i=[Jl,Rl],p=[];function f(a,g){return a[0].length===0?0:1}return e=f(o),t=p[e]=i[e](o),{c(){t.c(),l=at()},l(a){t.l(a),l=at()},m(a,g){p[e].m(a,g),M(a,l,g),s=!0},p(a,g){let C=e;e=f(a),e===C?p[e].p(a,g):(Ct(),Ge(p[C],1,1,()=>{p[C]=null}),wt(),t=p[e],t?t.p(a,g):(t=p[e]=i[e](a),t.c()),Oe(t,1),t.m(l.parentNode,l))},i(a){s||(Oe(t),s=!0)},o(a){Ge(t),s=!1},d(a){a&&d(l),p[e].d(a)}}}function zl(o){let e,t,l,s,i=o[4]("common.loading")+"",p;return{c(){e=u("div"),t=u("div"),l=x(),s=u("p"),p=O(i),this.h()},l(f){e=c(f,"DIV",{class:!0});var a=v(e);t=c(a,"DIV",{class:!0}),v(t).forEach(d),l=m(a),s=c(a,"P",{class:!0});var g=v(s);p=B(g,i),g.forEach(d),a.forEach(d),this.h()},h(){n(t,"class","animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"),n(s,"class","text-gray-300 mt-4"),n(e,"class","text-center py-12")},m(f,a){M(f,e,a),r(e,t),r(e,l),r(e,s),r(s,p)},p(f,a){a&16&&i!==(i=f[4]("common.loading")+"")&&ye(p,i)},i:Fe,o:Fe,d(f){f&&d(e)}}}function al(o,e){let t,l,s;return l=new kl({props:{video:e[12],onUpdate:e[5]}}),{key:o,first:null,c(){t=at(),kt(l.$$.fragment),this.h()},l(i){t=at(),yt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){M(i,t,p),xt(l,i,p),s=!0},p(i,p){e=i;const f={};p&2&&(f.video=e[12]),l.$set(f)},i(i){s||(Oe(l.$$.fragment,i),s=!0)},o(i){Ge(l.$$.fragment,i),s=!1},d(i){i&&d(t),mt(l,i)}}}function Rl(o){let e,t=[],l=new Map,s,i=ht(o[0]);const p=f=>f[9].id;for(let f=0;f<i.length;f+=1){let a=sl(o,i,f),g=p(a);l.set(g,t[f]=nl(g,a))}return{c(){e=u("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=c(f,"DIV",{class:!0});var a=v(e);for(let g=0;g<t.length;g+=1)t[g].l(a);a.forEach(d),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(f,a){M(f,e,a);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);s=!0},p(f,a){a&33&&(i=ht(f[0]),Ct(),t=gl(t,a,p,1,f,i,l,e,hl,nl,null,sl),wt())},i(f){if(!s){for(let a=0;a<i.length;a+=1)Oe(t[a]);s=!0}},o(f){for(let a=0;a<t.length;a+=1)Ge(t[a]);s=!1},d(f){f&&d(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Jl(o){let e,t='<div class="text-6xl mb-4">📝</div> <p class="text-gray-300 text-lg">No scripts yet</p> <p class="text-gray-400 text-sm mt-2">Go to Dashboard to generate new scripts</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-1t1kq1f"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){M(l,e,s)},p:Fe,i:Fe,o:Fe,d(l){l&&d(e)}}}function nl(o,e){let t,l,s;return l=new Fl({props:{script:e[9],onUpdate:e[5]}}),{key:o,first:null,c(){t=at(),kt(l.$$.fragment),this.h()},l(i){t=at(),yt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){M(i,t,p),xt(l,i,p),s=!0},p(i,p){e=i;const f={};p&1&&(f.script=e[9]),l.$set(f)},i(i){s||(Oe(l.$$.fragment,i),s=!0)},o(i){Ge(l.$$.fragment,i),s=!1},d(i){i&&d(t),mt(l,i)}}}function Wl(o){let e,t,l,s,i,p,f,a,g="AllAboutMe",C,_,I,D=o[4]("nav.dashboard")+"",y,L,H,A=o[4]("nav.drafts")+"",Y,S,N,ne=o[4]("nav.publish")+"",X,j,ve,be=o[4]("nav.automation")+"",ke,z,U,he=o[4]("nav.settings")+"",ie,F,$,se,de,Ce="Logout",J,K,fe,pe,W,De,ce=o[4]("common.loading").includes("...")?"Scripts":"Скрипты",ge,Te,Le=o[0].length+"",Pe,ee,h,T,P,re,_e=o[4]("common.loading").includes("...")?"Videos":"Видео",q,te,V=o[1].length+"",ae,b,w,me,Ue,Z,xe,Q,qe,we;p=new _l({}),$=new ml({});const ze=[zl,ql,jl,Hl],Ie=[];function Ye(k,oe){return k[3]?0:k[2]==="scripts"?1:k[1].length===0?2:3}return Z=Ye(o),xe=Ie[Z]=ze[Z](o),{c(){e=u("div"),t=u("header"),l=u("div"),s=u("div"),i=u("div"),kt(p.$$.fragment),f=x(),a=u("h1"),a.textContent=g,C=x(),_=u("nav"),I=u("a"),y=O(D),L=x(),H=u("a"),Y=O(A),S=x(),N=u("a"),X=O(ne),j=x(),ve=u("a"),ke=O(be),z=x(),U=u("a"),ie=O(he),F=x(),kt($.$$.fragment),se=x(),de=u("button"),de.textContent=Ce,J=x(),K=u("main"),fe=u("div"),pe=u("div"),W=u("button"),De=O("📝 "),ge=O(ce),Te=O(" ("),Pe=O(Le),ee=O(")"),T=x(),P=u("button"),re=O("🎥 "),q=O(_e),te=O(" ("),ae=O(V),b=O(")"),me=x(),Ue=u("div"),xe.c(),this.h()},l(k){e=c(k,"DIV",{class:!0});var oe=v(e);t=c(oe,"HEADER",{class:!0});var Se=v(t);l=c(Se,"DIV",{class:!0});var vt=v(l);s=c(vt,"DIV",{class:!0});var et=v(s);i=c(et,"DIV",{class:!0});var Ne=v(i);yt(p.$$.fragment,Ne),f=m(Ne),a=c(Ne,"H1",{class:!0,"data-svelte-h":!0}),E(a)!=="svelte-16dyx6r"&&(a.textContent=g),Ne.forEach(d),C=m(et),_=c(et,"NAV",{class:!0});var ue=v(_);I=c(ue,"A",{href:!0,class:!0});var bt=v(I);y=B(bt,D),bt.forEach(d),L=m(ue),H=c(ue,"A",{href:!0,class:!0});var it=v(H);Y=B(it,A),it.forEach(d),S=m(ue),N=c(ue,"A",{href:!0,class:!0});var Re=v(N);X=B(Re,ne),Re.forEach(d),j=m(ue),ve=c(ue,"A",{href:!0,class:!0});var ct=v(ve);ke=B(ct,be),ct.forEach(d),z=m(ue),U=c(ue,"A",{href:!0,class:!0});var Je=v(U);ie=B(Je,he),Je.forEach(d),F=m(ue),yt($.$$.fragment,ue),se=m(ue),de=c(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),E(de)!=="svelte-1mey7yq"&&(de.textContent=Ce),ue.forEach(d),et.forEach(d),vt.forEach(d),Se.forEach(d),J=m(oe),K=c(oe,"MAIN",{class:!0});var _t=v(K);fe=c(_t,"DIV",{class:!0});var tt=v(fe);pe=c(tt,"DIV",{class:!0});var He=v(pe);W=c(He,"BUTTON",{class:!0});var Be=v(W);De=B(Be,"📝 "),ge=B(Be,ce),Te=B(Be," ("),Pe=B(Be,Le),ee=B(Be,")"),Be.forEach(d),T=m(He),P=c(He,"BUTTON",{class:!0});var We=v(P);re=B(We,"🎥 "),q=B(We,_e),te=B(We," ("),ae=B(We,V),b=B(We,")"),We.forEach(d),He.forEach(d),me=m(tt),Ue=c(tt,"DIV",{class:!0});var lt=v(Ue);xe.l(lt),lt.forEach(d),tt.forEach(d),_t.forEach(d),oe.forEach(d),this.h()},h(){n(a,"class","text-2xl font-bold text-white"),n(i,"class","flex items-center gap-4"),n(I,"href","/dashboard"),n(I,"class","text-gray-300 hover:text-white transition-colors"),n(H,"href","/drafts"),n(H,"class","text-white font-semibold"),n(N,"href","/publish"),n(N,"class","text-gray-300 hover:text-white transition-colors"),n(ve,"href","/automation"),n(ve,"class","text-gray-300 hover:text-white transition-colors"),n(U,"href","/settings"),n(U,"class","text-gray-300 hover:text-white transition-colors"),n(de,"class","text-red-300 hover:text-red-200 transition-colors text-sm"),n(_,"class","flex items-center gap-6"),n(s,"class","flex items-center justify-between"),n(l,"class","container mx-auto px-6 py-4"),n(t,"class","bg-black/30 backdrop-blur-md border-b border-white/10"),n(W,"class",h=(o[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(P,"class",w=(o[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(pe,"class","flex border-b border-white/10"),n(Ue,"class","p-6"),n(fe,"class","bg-white/10 backdrop-blur-md rounded-lg border border-white/20 overflow-hidden"),n(K,"class","container mx-auto px-6 py-8"),n(e,"class","min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900")},m(k,oe){M(k,e,oe),r(e,t),r(t,l),r(l,s),r(s,i),xt(p,i,null),r(i,f),r(i,a),r(s,C),r(s,_),r(_,I),r(I,y),r(_,L),r(_,H),r(H,Y),r(_,S),r(_,N),r(N,X),r(_,j),r(_,ve),r(ve,ke),r(_,z),r(_,U),r(U,ie),r(_,F),xt($,_,null),r(_,se),r(_,de),r(e,J),r(e,K),r(K,fe),r(fe,pe),r(pe,W),r(W,De),r(W,ge),r(W,Te),r(W,Pe),r(W,ee),r(pe,T),r(pe,P),r(P,re),r(P,q),r(P,te),r(P,ae),r(P,b),r(fe,me),r(fe,Ue),Ie[Z].m(Ue,null),Q=!0,qe||(we=[R(de,"click",o[6]),R(W,"click",o[7]),R(P,"click",o[8])],qe=!0)},p(k,[oe]){(!Q||oe&16)&&D!==(D=k[4]("nav.dashboard")+"")&&ye(y,D),(!Q||oe&16)&&A!==(A=k[4]("nav.drafts")+"")&&ye(Y,A),(!Q||oe&16)&&ne!==(ne=k[4]("nav.publish")+"")&&ye(X,ne),(!Q||oe&16)&&be!==(be=k[4]("nav.automation")+"")&&ye(ke,be),(!Q||oe&16)&&he!==(he=k[4]("nav.settings")+"")&&ye(ie,he),(!Q||oe&16)&&ce!==(ce=k[4]("common.loading").includes("...")?"Scripts":"Скрипты")&&ye(ge,ce),(!Q||oe&1)&&Le!==(Le=k[0].length+"")&&ye(Pe,Le),(!Q||oe&4&&h!==(h=(k[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(W,"class",h),(!Q||oe&16)&&_e!==(_e=k[4]("common.loading").includes("...")?"Videos":"Видео")&&ye(q,_e),(!Q||oe&2)&&V!==(V=k[1].length+"")&&ye(ae,V),(!Q||oe&4&&w!==(w=(k[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(P,"class",w);let Se=Z;Z=Ye(k),Z===Se?Ie[Z].p(k,oe):(Ct(),Ge(Ie[Se],1,1,()=>{Ie[Se]=null}),wt(),xe=Ie[Z],xe?xe.p(k,oe):(xe=Ie[Z]=ze[Z](k),xe.c()),Oe(xe,1),xe.m(Ue,null))},i(k){Q||(Oe(p.$$.fragment,k),Oe($.$$.fragment,k),Oe(xe),Q=!0)},o(k){Ge(p.$$.fragment,k),Ge($.$$.fragment,k),Ge(xe),Q=!1},d(k){k&&d(e),mt(p),mt($),Ie[Z].d(),qe=!1,nt(we)}}}function Xl(o,e,t){let l;dl(o,xl,I=>t(4,l=I));let s=[],i=[],p="scripts",f=!0;fl(async()=>{if(!localStorage.getItem("auth_token")){At("/");return}await a()});async function a(){t(3,f=!0);try{if(!localStorage.getItem("auth_token")){At("/");return}const[D,y]=await Promise.all([$e.getScripts("draft"),$e.getVideos()]);t(0,s=D),t(1,i=y)}catch(I){console.error("Error loading data:",I)}finally{t(3,f=!1)}}function g(){localStorage.removeItem("auth_token"),At("/")}return[s,i,p,f,l,a,g,()=>t(2,p="scripts"),()=>t(2,p="videos")]}class rr extends il{constructor(e){super(),cl(this,e,Xl,Wl,ul,{})}}export{rr as component};
