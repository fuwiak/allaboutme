import{S as il,i as cl,s as ul,d,r as nt,w as Ge,x as Oe,b as ye,f as n,G as Ct,E as wt,c as M,e as r,l as z,g as c,h as v,m as B,k as m,j as I,F as at,o as u,t as O,q as x,B as dl,u as fl,D as vl,Q as Yt,J as pl,a as Le,v as mt,y as xt,z as yt,A as kt,K as Kt,n as Fe,H as Zt}from"../chunks/DDZ0vrLm.js";import{e as ht,u as gl,o as hl}from"../chunks/DsHVYrMn.js";import"../chunks/IHki7fMi.js";import{w as bl,g as Lt}from"../chunks/pUEInyZq.js";import{a as $e}from"../chunks/3IMejuKR.js";import{R as _l,L as ml,t as xl}from"../chunks/B5ZPOghe.js";import{P as yl}from"../chunks/DSylvvJI.js";import{V as kl}from"../chunks/D5lhkbtx.js";const Gt={textPosition:"center",voiceId:"pNInz6obpgDQGcFmaJgB",backgroundUrl:null,backgroundTheme:"cosmic"};function Cl(){if(typeof window>"u")return Gt;const o=localStorage.getItem("video_settings");if(o)try{return{...Gt,...JSON.parse(o)}}catch(e){console.error("Failed to load video settings:",e)}return Gt}const Xe=bl(Cl());typeof window<"u"&&Xe.subscribe(o=>{var t;const e={...o,backgroundUrl:(t=o.backgroundUrl)!=null&&t.startsWith("blob:")?null:o.backgroundUrl};localStorage.setItem("video_settings",JSON.stringify(e)),console.log("[VideoSettings] Settings saved:",e)});function $t(o,e,t){const l=o.slice();return l[45]=e[t],l}function wl(o){let e,t=o[0].script+"",l;return{c(){e=u("p"),l=O(t),this.h()},l(s){e=c(s,"P",{class:!0});var i=v(e);l=B(i,t),i.forEach(d),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(s,i){M(s,e,i),r(e,l)},p(s,i){i[0]&1&&t!==(t=s[0].script+"")&&ye(l,t)},d(s){s&&d(e)}}}function El(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0}),v(e).forEach(d),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4")},m(s,i){M(s,e,i),Le(e,o[3]),t||(l=z(e,"input",o[24]),t=!0)},p(s,i){i[0]&8&&Le(e,s[3])},d(s){s&&d(e),t=!1,l()}}}function Il(o){let e,t="Not generated yet";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-10ts8hq"&&(e.textContent=t),this.h()},h(){n(e,"class","text-gray-500 italic")},m(l,s){M(l,e,s)},p:Fe,d(l){l&&d(e)}}}function Tl(o){let e,t;return{c(){e=u("p"),t=O(o[4]),this.h()},l(l){e=c(l,"P",{class:!0});var s=v(e);t=B(s,o[4]),s.forEach(d),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(l,s){M(l,e,s),r(e,t)},p(l,s){s[0]&16&&ye(t,l[4])},d(l){l&&d(e)}}}function Vl(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(e).forEach(d),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4"),n(e,"placeholder","Generate clean text for voiceover...")},m(s,i){M(s,e,i),Le(e,o[4]),t||(l=z(e,"input",o[25]),t=!0)},p(s,i){i[0]&16&&Le(e,s[4])},d(s){s&&d(e),t=!1,l()}}}function Dl(o){let e,t="✏️ Edit",l,s,i="🎬 Create Video",p,f;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-rtjn0e"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),I(s)!=="svelte-1gipdk6"&&(s.textContent=i),this.h()},h(){n(e,"class","px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors"),n(s,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all")},m(a,h){M(a,e,h),M(a,l,h),M(a,s,h),p||(f=[z(e,"click",o[27]),z(s,"click",o[17])],p=!0)},p:Fe,d(a){a&&(d(e),d(l),d(s)),p=!1,nt(f)}}}function Pl(o){let e,t="💾 Save",l,s,i="Cancel",p,f;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-kcz9eg"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),I(s)!=="svelte-13v2dgx"&&(s.textContent=i),this.h()},h(){n(e,"class","flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors"),n(s,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors")},m(a,h){M(a,e,h),M(a,l,h),M(a,s,h),p||(f=[z(e,"click",o[15]),z(s,"click",o[26])],p=!0)},p:Fe,d(a){a&&(d(e),d(l),d(s)),p=!1,nt(f)}}}function el(o){let e,t,l,s="🎬 Video Settings",i,p,f='<p class="text-xs text-purple-200">🌐 <strong>Global Settings</strong> - These settings apply to all videos and are saved automatically</p>',a,h,C,_,T="📐 Text Position",D,y,A,H,L,Y,U,N,ne,Q,j,ve,be,ke,q,S,he="🎤 Voice Selection",ie,F,$,se,de="Click ▶️ to preview voice before generating",Ce,J,K,fe="🖼️ Custom Background (Optional)",pe,W,De="⚠️ If empty, background will be auto-detected from script content. Generate custom to override.",ce,ge,Ie,Ae="✨ Generate AI Background:",Pe,ee,g,w,P="🌌 Cosmic",re,_e="🔮 Astrology",R,te="🔢 Numerology",V,ae="💎 Destiny Matrix",b,E="🎨 Human Design",me,Se="✨ Motivation",Z,xe="🌙 Moon",X,Re="🃏 Tarot",we,qe="⚡ Chakras",Te,Ye,k,oe,Ue,vt="Free AI generation via Pollinations.ai",et,Ne,ue,bt="📁 Or Upload Your Own:",it,ze,ct,Je,_t="JPG, PNG, GIF, WebP (max 10MB)",tt,He,Be,We,lt=(o[12].backgroundUrl||"null")+"",Et,St,Ut,rt,ot,Mt="🎬 Generate Video",Nt,st,Ft="Cancel",Bt,Ht,ut=ht(o[13]),Ee=[];for(let G=0;G<ut.length;G+=1)Ee[G]=tl($t(o,ut,G));function jt(G,Ve){return G[10]?Bl:Nl}let It=jt(o),Ke=It(o);function Rt(G,Ve){return G[12].backgroundUrl?Al:Ol}let Tt=Rt(o),je=Tt(o);return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),p.innerHTML=f,a=x(),h=u("div"),C=u("div"),_=u("label"),_.textContent=T,D=x(),y=u("div"),A=u("button"),H=O("⬆️ Top"),Y=x(),U=u("button"),N=O("⏺️ Center"),Q=x(),j=u("button"),ve=O("⬇️ Bottom"),ke=x(),q=u("div"),S=u("label"),S.textContent=he,ie=x(),F=u("div");for(let G=0;G<Ee.length;G+=1)Ee[G].c();$=x(),se=u("p"),se.textContent=de,Ce=x(),J=u("div"),K=u("label"),K.textContent=fe,pe=x(),W=u("p"),W.textContent=De,ce=x(),ge=u("div"),Ie=u("label"),Ie.textContent=Ae,Pe=x(),ee=u("div"),g=u("select"),w=u("option"),w.textContent=P,re=u("option"),re.textContent=_e,R=u("option"),R.textContent=te,V=u("option"),V.textContent=ae,b=u("option"),b.textContent=E,me=u("option"),me.textContent=Se,Z=u("option"),Z.textContent=xe,X=u("option"),X.textContent=Re,we=u("option"),we.textContent=qe,Ye=x(),k=u("button"),Ke.c(),oe=x(),Ue=u("p"),Ue.textContent=vt,et=x(),Ne=u("div"),ue=u("label"),ue.textContent=bt,it=x(),ze=u("input"),ct=x(),Je=u("p"),Je.textContent=_t,tt=x(),He=u("div"),Be=u("p"),We=O("Debug: backgroundUrl = "),Et=O(lt),St=x(),je.c(),Ut=x(),rt=u("div"),ot=u("button"),ot.textContent=Mt,Nt=x(),st=u("button"),st.textContent=Ft,this.h()},l(G){e=c(G,"DIV",{class:!0});var Ve=v(e);t=c(Ve,"DIV",{class:!0});var le=v(t);l=c(le,"H3",{class:!0,"data-svelte-h":!0}),I(l)!=="svelte-192819n"&&(l.textContent=s),i=m(le),p=c(le,"DIV",{class:!0,"data-svelte-h":!0}),I(p)!=="svelte-1m3nfc4"&&(p.innerHTML=f),a=m(le),h=c(le,"DIV",{class:!0});var Ze=v(h);C=c(Ze,"DIV",{});var Vt=v(C);_=c(Vt,"LABEL",{class:!0,"data-svelte-h":!0}),I(_)!=="svelte-1p0zjbe"&&(_.textContent=T),D=m(Vt),y=c(Vt,"DIV",{class:!0});var dt=v(y);A=c(dt,"BUTTON",{class:!0});var qt=v(A);H=B(qt,"⬆️ Top"),qt.forEach(d),Y=m(dt),U=c(dt,"BUTTON",{class:!0});var zt=v(U);N=B(zt,"⏺️ Center"),zt.forEach(d),Q=m(dt),j=c(dt,"BUTTON",{class:!0});var Jt=v(j);ve=B(Jt,"⬇️ Bottom"),Jt.forEach(d),dt.forEach(d),Vt.forEach(d),ke=m(Ze),q=c(Ze,"DIV",{});var ft=v(q);S=c(ft,"LABEL",{class:!0,"data-svelte-h":!0}),I(S)!=="svelte-1vi0gmv"&&(S.textContent=he),ie=m(ft),F=c(ft,"DIV",{class:!0});var Wt=v(F);for(let At=0;At<Ee.length;At+=1)Ee[At].l(Wt);Wt.forEach(d),$=m(ft),se=c(ft,"P",{class:!0,"data-svelte-h":!0}),I(se)!=="svelte-162ccjb"&&(se.textContent=de),ft.forEach(d),Ce=m(Ze),J=c(Ze,"DIV",{});var Me=v(J);K=c(Me,"LABEL",{class:!0,"data-svelte-h":!0}),I(K)!=="svelte-12zcyql"&&(K.textContent=fe),pe=m(Me),W=c(Me,"P",{class:!0,"data-svelte-h":!0}),I(W)!=="svelte-1p71e8n"&&(W.textContent=De),ce=m(Me),ge=c(Me,"DIV",{class:!0});var pt=v(ge);Ie=c(pt,"LABEL",{class:!0,"data-svelte-h":!0}),I(Ie)!=="svelte-1kittw0"&&(Ie.textContent=Ae),Pe=m(pt),ee=c(pt,"DIV",{class:!0});var Dt=v(ee);g=c(Dt,"SELECT",{class:!0});var Qe=v(g);w=c(Qe,"OPTION",{"data-svelte-h":!0}),I(w)!=="svelte-1dkw48c"&&(w.textContent=P),re=c(Qe,"OPTION",{"data-svelte-h":!0}),I(re)!=="svelte-1oxvz1f"&&(re.textContent=_e),R=c(Qe,"OPTION",{"data-svelte-h":!0}),I(R)!=="svelte-nc889j"&&(R.textContent=te),V=c(Qe,"OPTION",{"data-svelte-h":!0}),I(V)!=="svelte-jymkbt"&&(V.textContent=ae),b=c(Qe,"OPTION",{"data-svelte-h":!0}),I(b)!=="svelte-15rxc6h"&&(b.textContent=E),me=c(Qe,"OPTION",{"data-svelte-h":!0}),I(me)!=="svelte-1u1ghwe"&&(me.textContent=Se),Z=c(Qe,"OPTION",{"data-svelte-h":!0}),I(Z)!=="svelte-du7yyv"&&(Z.textContent=xe),X=c(Qe,"OPTION",{"data-svelte-h":!0}),I(X)!=="svelte-v0gk19"&&(X.textContent=Re),we=c(Qe,"OPTION",{"data-svelte-h":!0}),I(we)!=="svelte-1p72mw9"&&(we.textContent=qe),Qe.forEach(d),Ye=m(Dt),k=c(Dt,"BUTTON",{class:!0});var Qt=v(k);Ke.l(Qt),Qt.forEach(d),Dt.forEach(d),oe=m(pt),Ue=c(pt,"P",{class:!0,"data-svelte-h":!0}),I(Ue)!=="svelte-1bcuxmt"&&(Ue.textContent=vt),pt.forEach(d),et=m(Me),Ne=c(Me,"DIV",{});var gt=v(Ne);ue=c(gt,"LABEL",{class:!0,"data-svelte-h":!0}),I(ue)!=="svelte-19u7y30"&&(ue.textContent=bt),it=m(gt),ze=c(gt,"INPUT",{type:!0,accept:!0,class:!0}),ct=m(gt),Je=c(gt,"P",{class:!0,"data-svelte-h":!0}),I(Je)!=="svelte-18xcy9y"&&(Je.textContent=_t),gt.forEach(d),tt=m(Me),He=c(Me,"DIV",{class:!0});var Xt=v(He);Be=c(Xt,"P",{class:!0});var Ot=v(Be);We=B(Ot,"Debug: backgroundUrl = "),Et=B(Ot,lt),Ot.forEach(d),Xt.forEach(d),St=m(Me),je.l(Me),Me.forEach(d),Ze.forEach(d),Ut=m(le),rt=c(le,"DIV",{class:!0});var Pt=v(rt);ot=c(Pt,"BUTTON",{class:!0,"data-svelte-h":!0}),I(ot)!=="svelte-1r9r3yw"&&(ot.textContent=Mt),Nt=m(Pt),st=c(Pt,"BUTTON",{class:!0,"data-svelte-h":!0}),I(st)!=="svelte-smpvns"&&(st.textContent=Ft),Pt.forEach(d),le.forEach(d),Ve.forEach(d),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(p,"class","bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-lg p-3 mb-4"),n(_,"class","block text-sm font-semibold text-gray-300 mb-2"),n(A,"class",L="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(U,"class",ne="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(j,"class",be="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(y,"class","flex gap-2"),n(S,"class","block text-sm font-semibold text-gray-300 mb-2"),n(F,"class","space-y-2"),n(se,"class","text-xs text-gray-400 mt-2"),n(K,"class","block text-sm font-semibold text-gray-300 mb-2"),n(W,"class","text-xs text-gray-400 mb-3"),n(Ie,"class","block text-xs text-gray-400 mb-2"),w.__value="cosmic",Le(w,w.__value),re.__value="astrology",Le(re,re.__value),R.__value="numerology",Le(R,R.__value),V.__value="matrix",Le(V,V.__value),b.__value="human_design",Le(b,b.__value),me.__value="motivation",Le(me,me.__value),Z.__value="moon",Le(Z,Z.__value),X.__value="tarot",Le(X,X.__value),we.__value="chakras",Le(we,we.__value),n(g,"class","flex-1 px-3 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm"),k.disabled=o[10],n(k,"class","px-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 disabled:from-gray-600 disabled:to-gray-700 text-white font-semibold rounded-lg transition-all text-sm"),n(ee,"class","flex gap-2"),n(Ue,"class","text-xs text-gray-400 mt-1"),n(ge,"class","mb-3"),n(ue,"class","block text-xs text-gray-400 mb-2"),n(ze,"type","file"),n(ze,"accept","image/*"),n(ze,"class","w-full px-4 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700"),n(Je,"class","text-xs text-gray-400 mt-1"),n(Be,"class","text-gray-400"),n(He,"class","mt-2 p-2 bg-gray-900 rounded text-xs"),n(h,"class","space-y-4 mb-6"),n(ot,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all"),n(st,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(rt,"class","flex gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-md mx-4 p-6 my-4"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-start justify-center z-40 pt-20 overflow-y-auto")},m(G,Ve){M(G,e,Ve),r(e,t),r(t,l),r(t,i),r(t,p),r(t,a),r(t,h),r(h,C),r(C,_),r(C,D),r(C,y),r(y,A),r(A,H),r(y,Y),r(y,U),r(U,N),r(y,Q),r(y,j),r(j,ve),r(h,ke),r(h,q),r(q,S),r(q,ie),r(q,F);for(let le=0;le<Ee.length;le+=1)Ee[le]&&Ee[le].m(F,null);r(q,$),r(q,se),r(h,Ce),r(h,J),r(J,K),r(J,pe),r(J,W),r(J,ce),r(J,ge),r(ge,Ie),r(ge,Pe),r(ge,ee),r(ee,g),r(g,w),r(g,re),r(g,R),r(g,V),r(g,b),r(g,me),r(g,Z),r(g,X),r(g,we),Yt(g,o[12].backgroundTheme),r(ee,Ye),r(ee,k),Ke.m(k,null),r(ge,oe),r(ge,Ue),r(J,et),r(J,Ne),r(Ne,ue),r(Ne,it),r(Ne,ze),r(Ne,ct),r(Ne,Je),r(J,tt),r(J,He),r(He,Be),r(Be,We),r(Be,Et),r(J,St),je.m(J,null),r(t,Ut),r(t,rt),r(rt,ot),r(rt,Nt),r(rt,st),Bt||(Ht=[z(A,"click",o[28]),z(U,"click",o[29]),z(j,"click",o[30]),z(g,"change",o[33]),z(k,"click",o[20]),z(ze,"change",o[34]),z(ot,"click",o[18]),z(st,"click",o[38]),z(t,"click",pl(o[23])),z(e,"click",o[39])],Bt=!0)},p(G,Ve){if(Ve[0]&4096&&L!==(L="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(G[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(A,"class",L),Ve[0]&4096&&ne!==(ne="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(G[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(U,"class",ne),Ve[0]&4096&&be!==(be="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(G[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(j,"class",be),Ve[0]&30720){ut=ht(G[13]);let le;for(le=0;le<ut.length;le+=1){const Ze=$t(G,ut,le);Ee[le]?Ee[le].p(Ze,Ve):(Ee[le]=tl(Ze),Ee[le].c(),Ee[le].m(F,null))}for(;le<Ee.length;le+=1)Ee[le].d(1);Ee.length=ut.length}Ve[0]&4096&&Te!==(Te=G[12].backgroundTheme)&&Yt(g,G[12].backgroundTheme),It!==(It=jt(G))&&(Ke.d(1),Ke=It(G),Ke&&(Ke.c(),Ke.m(k,null))),Ve[0]&1024&&(k.disabled=G[10]),Ve[0]&4096&&lt!==(lt=(G[12].backgroundUrl||"null")+"")&&ye(Et,lt),Tt===(Tt=Rt(G))&&je?je.p(G,Ve):(je.d(1),je=Tt(G),je&&(je.c(),je.m(J,null)))},d(G){G&&d(e),vl(Ee,G),Ke.d(),je.d(),Bt=!1,nt(Ht)}}}function Sl(o){let e;return{c(){e=O("▶️")},l(t){e=B(t,"▶️")},m(t,l){M(t,e,l)},d(t){t&&d(e)}}}function Ul(o){let e;return{c(){e=O("⏸️")},l(t){e=B(t,"⏸️")},m(t,l){M(t,e,l)},d(t){t&&d(e)}}}function tl(o){let e,t,l,s,i,p,f,a=o[45].icon+"",h,C,_,T,D=o[45].name+"",y,A,H,L=o[45].description+"",Y,U,N,ne,Q,j,ve;function be(){return o[31](o[45])}function ke(ie,F){return ie[11]?Ul:Sl}let q=ke(o),S=q(o);function he(){return o[32](o[45])}return{c(){e=u("div"),t=u("input"),s=x(),i=u("label"),p=u("div"),f=u("span"),h=O(a),C=x(),_=u("div"),T=u("div"),y=O(D),A=x(),H=u("div"),Y=O(L),U=x(),N=u("button"),S.c(),ne=x(),this.h()},l(ie){e=c(ie,"DIV",{class:!0});var F=v(e);t=c(F,"INPUT",{type:!0,id:!0,name:!0,class:!0}),s=m(F),i=c(F,"LABEL",{for:!0,class:!0});var $=v(i);p=c($,"DIV",{class:!0});var se=v(p);f=c(se,"SPAN",{class:!0});var de=v(f);h=B(de,a),de.forEach(d),C=m(se),_=c(se,"DIV",{class:!0});var Ce=v(_);T=c(Ce,"DIV",{class:!0});var J=v(T);y=B(J,D),J.forEach(d),A=m(Ce),H=c(Ce,"DIV",{class:!0});var K=v(H);Y=B(K,L),K.forEach(d),Ce.forEach(d),se.forEach(d),$.forEach(d),U=m(F),N=c(F,"BUTTON",{class:!0,title:!0});var fe=v(N);S.l(fe),fe.forEach(d),ne=m(F),F.forEach(d),this.h()},h(){n(t,"type","radio"),n(t,"id","voice-"+o[45].id),n(t,"name","voice"),t.value=o[45].id,t.checked=l=o[12].voiceId===o[45].id,n(t,"class","w-4 h-4 text-purple-600"),n(f,"class","text-lg"),n(T,"class","text-sm font-semibold text-white"),n(H,"class","text-xs text-gray-400"),n(_,"class","flex-1"),n(p,"class","flex items-center gap-2"),n(i,"for","voice-"+o[45].id),n(i,"class","flex-1 cursor-pointer"),N.disabled=o[11],n(N,"class","px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white text-xs font-semibold rounded transition-colors"),n(N,"title","Play sample"),n(e,"class",Q="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[45].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))},m(ie,F){M(ie,e,F),r(e,t),r(e,s),r(e,i),r(i,p),r(p,f),r(f,h),r(p,C),r(p,_),r(_,T),r(T,y),r(_,A),r(_,H),r(H,Y),r(e,U),r(e,N),S.m(N,null),r(e,ne),j||(ve=[z(t,"change",be),z(N,"click",he)],j=!0)},p(ie,F){o=ie,F[0]&4096&&l!==(l=o[12].voiceId===o[45].id)&&(t.checked=l),q!==(q=ke(o))&&(S.d(1),S=q(o),S&&(S.c(),S.m(N,null))),F[0]&2048&&(N.disabled=o[11]),F[0]&4096&&Q!==(Q="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[45].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))&&n(e,"class",Q)},d(ie){ie&&d(e),S.d(),j=!1,nt(ve)}}}function Nl(o){let e;return{c(){e=O("🎨 Generate")},l(t){e=B(t,"🎨 Generate")},m(t,l){M(t,e,l)},d(t){t&&d(e)}}}function Bl(o){let e,t=`<div class="animate-spin rounded-full h-3 w-3 border-2 border-white/30 border-t-white"></div>
									Generating...`;return{c(){e=u("span"),e.innerHTML=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-11bmtej"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex items-center gap-2")},m(l,s){M(l,e,s)},d(l){l&&d(e)}}}function Ol(o){let e,t="ℹ️ No background selected. Generate or upload to preview.";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1cmqdhk"&&(e.textContent=t),this.h()},h(){n(e,"class","mt-2 p-2 bg-yellow-900/20 border border-yellow-600 rounded text-xs text-yellow-300")},m(l,s){M(l,e,s)},p:Fe,d(l){l&&d(e)}}}function Al(o){let e,t,l,s,i,p,f="✕",a,h,C="✅ Background ready (global)",_,T;return{c(){e=u("div"),t=u("div"),l=u("img"),i=x(),p=u("button"),p.textContent=f,a=x(),h=u("p"),h.textContent=C,this.h()},l(D){e=c(D,"DIV",{class:!0});var y=v(e);t=c(y,"DIV",{class:!0});var A=v(t);l=c(A,"IMG",{src:!0,alt:!0,class:!0}),i=m(A),p=c(A,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),I(p)!=="svelte-l2cth2"&&(p.textContent=f),A.forEach(d),a=m(y),h=c(y,"P",{class:!0,"data-svelte-h":!0}),I(h)!=="svelte-4l9tbx"&&(h.textContent=C),y.forEach(d),this.h()},h(){Zt(l.src,s=o[12].backgroundUrl)||n(l,"src",s),n(l,"alt","Generated background"),n(l,"class","w-full h-32 object-cover rounded-lg border-2 border-green-500"),n(p,"class","absolute top-2 right-2 px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs font-semibold rounded shadow-lg transition-colors"),n(p,"title","Clear background"),n(t,"class","relative"),n(h,"class","text-xs text-green-400 mt-1"),n(e,"class","mt-3")},m(D,y){M(D,e,y),r(e,t),r(t,l),r(t,i),r(t,p),r(e,a),r(e,h),_||(T=[z(l,"error",o[35]),z(l,"load",o[36]),z(p,"click",o[37])],_=!0)},p(D,y){y[0]&4096&&!Zt(l.src,s=D[12].backgroundUrl)&&n(l,"src",s)},d(D){D&&d(e),_=!1,nt(T)}}}function ll(o){let e,t;return e=new yl({props:{taskId:o[8],title:"Creating Video",onStop:o[19],onClose:o[40]}}),{c(){kt(e.$$.fragment)},l(l){yt(e.$$.fragment,l)},m(l,s){xt(e,l,s),t=!0},p(l,s){const i={};s[0]&256&&(i.taskId=l[8]),s[0]&130&&(i.onClose=l[40]),e.$set(i)},i(l){t||(Oe(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){mt(e,l)}}}function rl(o){let e,t,l,s="✨ Generated Post Text",i,p,f,a,h,C,_,T="Edit",D,y,A="Close",H,L;return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),f=u("p"),a=O(o[4]),h=x(),C=u("div"),_=u("button"),_.textContent=T,D=x(),y=u("button"),y.textContent=A,this.h()},l(Y){e=c(Y,"DIV",{class:!0});var U=v(e);t=c(U,"DIV",{class:!0});var N=v(t);l=c(N,"H3",{class:!0,"data-svelte-h":!0}),I(l)!=="svelte-1lbyrrb"&&(l.textContent=s),i=m(N),p=c(N,"DIV",{class:!0});var ne=v(p);f=c(ne,"P",{class:!0});var Q=v(f);a=B(Q,o[4]),Q.forEach(d),ne.forEach(d),h=m(N),C=c(N,"DIV",{class:!0});var j=v(C);_=c(j,"BUTTON",{class:!0,"data-svelte-h":!0}),I(_)!=="svelte-s50vdr"&&(_.textContent=T),D=m(j),y=c(j,"BUTTON",{class:!0,"data-svelte-h":!0}),I(y)!=="svelte-11cd5q2"&&(y.textContent=A),j.forEach(d),N.forEach(d),U.forEach(d),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(f,"class","text-gray-200 whitespace-pre-wrap"),n(p,"class","bg-gray-900 p-4 rounded-lg mb-4"),n(_,"class","px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors"),n(y,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(C,"class","flex justify-end gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl mx-4 p-6"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-40")},m(Y,U){M(Y,e,U),r(e,t),r(t,l),r(t,i),r(t,p),r(p,f),r(f,a),r(t,h),r(t,C),r(C,_),r(C,D),r(C,y),H||(L=[z(_,"click",o[41]),z(y,"click",o[42]),z(t,"click",pl(o[22])),z(e,"click",o[43])],H=!0)},p(Y,U){U[0]&16&&ye(a,Y[4])},d(Y){Y&&d(e),H=!1,nt(L)}}}function Ll(o){let e,t,l,s,i,p=(o[0].theme||"No theme")+"",f,a,h,C=o[0].status+"",_,T,D,y,A,H=o[0].id+"",L,Y,U,N='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',ne,Q,j,ve="📝 Сценарий / Контекст",be,ke,q,S,he,ie="🎤 Текст для озвучки",F,$,se=o[6]?"Generating...":"✨ Generate",de,Ce,J,K,fe,pe,W,De,ce,ge,Ie;function Ae(b,E){return b[2]?El:wl}let Pe=Ae(o),ee=Pe(o);function g(b,E){return b[2]?Vl:b[4]?Tl:Il}let w=g(o),P=w(o);function re(b,E){return b[2]?Pl:Dl}let _e=re(o),R=_e(o),te=o[9]&&el(o),V=o[7]&&ll(o),ae=o[5]&&rl(o);return{c(){e=u("div"),t=u("div"),l=u("div"),s=u("div"),i=u("span"),f=O(p),a=x(),h=u("span"),_=O(C),D=x(),y=u("p"),A=O("ID: "),L=O(H),Y=x(),U=u("button"),U.innerHTML=N,ne=x(),Q=u("div"),j=u("label"),j.textContent=ve,be=x(),ee.c(),ke=x(),q=u("div"),S=u("div"),he=u("label"),he.textContent=ie,F=x(),$=u("button"),de=O(se),Ce=x(),P.c(),J=x(),K=u("div"),R.c(),fe=x(),te&&te.c(),pe=x(),V&&V.c(),W=x(),ae&&ae.c(),De=at(),this.h()},l(b){e=c(b,"DIV",{class:!0});var E=v(e);t=c(E,"DIV",{class:!0});var me=v(t);l=c(me,"DIV",{class:!0});var Se=v(l);s=c(Se,"DIV",{class:!0});var Z=v(s);i=c(Z,"SPAN",{class:!0});var xe=v(i);f=B(xe,p),xe.forEach(d),a=m(Z),h=c(Z,"SPAN",{class:!0});var X=v(h);_=B(X,C),X.forEach(d),Z.forEach(d),D=m(Se),y=c(Se,"P",{class:!0});var Re=v(y);A=B(Re,"ID: "),L=B(Re,H),Re.forEach(d),Se.forEach(d),Y=m(me),U=c(me,"BUTTON",{class:!0,"data-svelte-h":!0}),I(U)!=="svelte-1pdyl8k"&&(U.innerHTML=N),me.forEach(d),ne=m(E),Q=c(E,"DIV",{class:!0});var we=v(Q);j=c(we,"LABEL",{class:!0,"data-svelte-h":!0}),I(j)!=="svelte-1n7rap0"&&(j.textContent=ve),be=m(we),ee.l(we),we.forEach(d),ke=m(E),q=c(E,"DIV",{class:!0});var qe=v(q);S=c(qe,"DIV",{class:!0});var Te=v(S);he=c(Te,"LABEL",{class:!0,"data-svelte-h":!0}),I(he)!=="svelte-1oeihmp"&&(he.textContent=ie),F=m(Te),$=c(Te,"BUTTON",{class:!0});var Ye=v($);de=B(Ye,se),Ye.forEach(d),Te.forEach(d),Ce=m(qe),P.l(qe),qe.forEach(d),J=m(E),K=c(E,"DIV",{class:!0});var k=v(K);R.l(k),k.forEach(d),E.forEach(d),fe=m(b),te&&te.l(b),pe=m(b),V&&V.l(b),W=m(b),ae&&ae.l(b),De=at(),this.h()},h(){n(i,"class","text-xs px-2 py-1 bg-purple-500/20 text-purple-300 rounded"),n(h,"class",T="text-xs px-2 py-1 rounded "+(o[0].status==="approved"?"bg-green-500/20 text-green-300":o[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")),n(s,"class","flex items-center gap-2 mb-2"),n(y,"class","text-sm text-gray-400"),n(l,"class","flex-1"),n(U,"class","text-red-400 hover:text-red-300 transition-colors"),n(t,"class","flex items-start justify-between mb-4"),n(j,"class","block text-sm font-semibold text-gray-300"),n(Q,"class","space-y-3"),n(he,"class","block text-sm font-semibold text-gray-300"),$.disabled=o[6],n($,"class","text-xs px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded transition-colors"),n(S,"class","flex items-center justify-between"),n(q,"class","mt-4 space-y-3"),n(K,"class","flex gap-3 mt-6"),n(e,"class","bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-700 hover:border-purple-500/50 transition-all")},m(b,E){M(b,e,E),r(e,t),r(t,l),r(l,s),r(s,i),r(i,f),r(s,a),r(s,h),r(h,_),r(l,D),r(l,y),r(y,A),r(y,L),r(t,Y),r(t,U),r(e,ne),r(e,Q),r(Q,j),r(Q,be),ee.m(Q,null),r(e,ke),r(e,q),r(q,S),r(S,he),r(S,F),r(S,$),r($,de),r(q,Ce),P.m(q,null),r(e,J),r(e,K),R.m(K,null),M(b,fe,E),te&&te.m(b,E),M(b,pe,E),V&&V.m(b,E),M(b,W,E),ae&&ae.m(b,E),M(b,De,E),ce=!0,ge||(Ie=[z(U,"click",o[21]),z($,"click",o[16])],ge=!0)},p(b,E){(!ce||E[0]&1)&&p!==(p=(b[0].theme||"No theme")+"")&&ye(f,p),(!ce||E[0]&1)&&C!==(C=b[0].status+"")&&ye(_,C),(!ce||E[0]&1&&T!==(T="text-xs px-2 py-1 rounded "+(b[0].status==="approved"?"bg-green-500/20 text-green-300":b[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")))&&n(h,"class",T),(!ce||E[0]&1)&&H!==(H=b[0].id+"")&&ye(L,H),Pe===(Pe=Ae(b))&&ee?ee.p(b,E):(ee.d(1),ee=Pe(b),ee&&(ee.c(),ee.m(Q,null))),(!ce||E[0]&64)&&se!==(se=b[6]?"Generating...":"✨ Generate")&&ye(de,se),(!ce||E[0]&64)&&($.disabled=b[6]),w===(w=g(b))&&P?P.p(b,E):(P.d(1),P=w(b),P&&(P.c(),P.m(q,null))),_e===(_e=re(b))&&R?R.p(b,E):(R.d(1),R=_e(b),R&&(R.c(),R.m(K,null))),b[9]?te?te.p(b,E):(te=el(b),te.c(),te.m(pe.parentNode,pe)):te&&(te.d(1),te=null),b[7]?V?(V.p(b,E),E[0]&128&&Oe(V,1)):(V=ll(b),V.c(),Oe(V,1),V.m(W.parentNode,W)):V&&(Ct(),Ge(V,1,1,()=>{V=null}),wt()),b[5]?ae?ae.p(b,E):(ae=rl(b),ae.c(),ae.m(De.parentNode,De)):ae&&(ae.d(1),ae=null)},i(b){ce||(Oe(V),ce=!0)},o(b){Ge(V),ce=!1},d(b){b&&(d(e),d(fe),d(pe),d(W),d(De)),ee.d(),P.d(),R.d(),te&&te.d(b),V&&V.d(b),ae&&ae.d(b),ge=!1,nt(Ie)}}}function Gl(o){const e={cosmic:"Deep space cosmos, nebula colors, spiritual universe, infinite energy, celestial beauty, mystical stars, high quality",astrology:"Mystical zodiac wheel with all 12 signs, cosmic background, stars, planets, ethereal glow, spiritual art, high quality",numerology:"Sacred numerology symbols, golden numbers 1-9 in mystical circle, divine geometry, spiritual energy, cosmic background",matrix:"Destiny matrix energy map, sacred geometry, chakra colors, spiritual pathways, mystical symbols, glowing mandala",human_design:"Human Design body graph, energy centers, spiritual diagram, colorful chakras, cosmic consciousness, mystical blueprint",motivation:"Inspiring cosmic energy, spiritual awakening, golden light, universe connection, meditation vibes, peaceful atmosphere",moon:"Mystical moon phases, intuitive wisdom, celestial magic, spiritual feminine energy, night sky, stars, ethereal glow",tarot:"Mystical tarot cards spread, divine symbols, spiritual guidance, cosmic wisdom, ethereal art, magical atmosphere",chakras:"Seven colorful chakras energy centers, spiritual alignment, cosmic healing, rainbow aura, divine light"};return e[o]||e.cosmic}function Ml(o,e,t){let l;dl(o,Xe,g=>t(12,l=g));let{script:s}=e,{onUpdate:i}=e,p=!1,f=s.script,a=s.post_text||"",h=!1,C=!1,_=!1,T="",D=!1,y=!1,A=!1;fl(()=>{console.log("[ScriptCard] Current global settings:",l)});const H=[{id:"pNInz6obpgDQGcFmaJgB",name:"Adam",description:"Deep male - Warm, narrative",sampleFile:"/voice-samples/adam.mp3",icon:"🎙️"},{id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",description:"Female - Soft, friendly",sampleFile:"/voice-samples/bella.mp3",icon:"🎤"},{id:"TxGEqnHWrfWFTfGW9XjX",name:"Josh",description:"Young male - Energetic",sampleFile:"/voice-samples/josh.mp3",icon:"🔊"}];let L=null;async function Y(g){try{L&&(L.pause(),L.currentTime=0,L=null);const w=H.find(P=>P.id===g);if(!w)return;t(11,A=!0),L=new Audio(w.sampleFile),L.volume=.9,L.onended=()=>{t(11,A=!1),L=null},L.onerror=P=>{console.error("Error playing sample:",P),t(11,A=!1),L=null,alert(`Failed to load ${w.name} sample. Try regenerating voice samples.`)},await L.play()}catch(w){console.error("Error playing sample:",w),t(11,A=!1),L=null}}async function U(){try{await $e.updateScript(s.id,{script:f,post_text:a}),t(2,p=!1),i()}catch(g){alert(`Error saving script: ${g}`)}}async function N(){t(6,C=!0);try{const g=await $e.generatePostText(s.id);t(4,a=g.post_text),t(0,s.post_text=g.post_text,s),t(5,h=!0)}catch(g){alert(`Error generating post text: ${g}`)}finally{t(6,C=!1)}}async function ne(){!a&&!window.confirm("Post text is empty. Generate it first or use the scenario text?")||t(9,D=!0)}async function Q(){await U();const g=l;if(console.log("[ScriptCard] 🎬 STARTING VIDEO GENERATION"),console.log("[ScriptCard] Store values:",JSON.stringify(g,null,2)),!g.backgroundUrl){alert(`❌ Background is REQUIRED!

Please generate or upload a background before creating video.`);return}if(!g.voiceId){alert(`❌ Voice is REQUIRED!

Please select a voice before creating video.`);return}console.log("[ScriptCard] ✅ All required settings present"),console.log("[ScriptCard] Will send to API:",{scriptId:s.id,textPosition:g.textPosition,customBackground:g.backgroundUrl,voiceId:g.voiceId});try{const w=await $e.generateVideo(s.id,g.textPosition,g.backgroundUrl,g.voiceId);t(8,T=w.task_id),console.log("[ScriptCard] ✅ API Response:",w),console.log("[ScriptCard] Video generation started with settings:",{textPosition:g.textPosition,backgroundUrl:g.backgroundUrl,voiceId:g.voiceId,taskId:w.task_id}),t(9,D=!1),t(7,_=!0)}catch(w){console.error("[ScriptCard] ❌ Error:",w),alert(`Error creating video: ${w}`),t(9,D=!1)}}async function j(){if(T)try{await $e.cancelTask(T),t(7,_=!1),alert("Video generation stopped")}catch(g){alert(`Error stopping video: ${g}`)}}async function ve(){t(10,y=!0);try{const g=l.backgroundTheme,w=`https://image.pollinations.ai/prompt/${encodeURIComponent(Gl(g))}?width=1920&height=1080&nologo=true`;console.log("[ScriptCard] Generating background:",g);const P=await fetch(w,{method:"GET"});if(!P.ok)throw new Error("Failed to generate image");const re=await P.blob(),_e=new File([re],`${g}_background.png`,{type:"image/png"});console.log("[ScriptCard] Uploading to backend...");const R=await $e.uploadBackground(_e);console.log("[ScriptCard] Background uploaded:",R.filename);const te=`/storage/backgrounds/${R.filename}`;Xe.update(V=>({...V,backgroundUrl:te})),console.log("[ScriptCard] Background URL saved to store:",te),alert(`✅ Background generated and saved globally: ${g}`)}catch(g){console.error("[ScriptCard] Background generation error:",g),alert(`Error generating background: ${g}`)}finally{t(10,y=!1)}}async function be(){if(confirm("Delete this script?"))try{await $e.deleteScript(s.id),i()}catch(g){alert(`Error deleting script: ${g}`)}}function ke(g){Kt.call(this,o,g)}function q(g){Kt.call(this,o,g)}function S(){f=this.value,t(3,f)}function he(){a=this.value,t(4,a)}const ie=()=>{t(2,p=!1),t(3,f=s.script),t(4,a=s.post_text||"")},F=()=>t(2,p=!0),$=()=>Xe.update(g=>({...g,textPosition:"top"})),se=()=>Xe.update(g=>({...g,textPosition:"center"})),de=()=>Xe.update(g=>({...g,textPosition:"bottom"})),Ce=g=>Xe.update(w=>({...w,voiceId:g.id})),J=g=>Y(g.id),K=g=>Xe.update(w=>({...w,backgroundTheme:g.currentTarget.value})),fe=async g=>{var P;const w=(P=g.currentTarget.files)==null?void 0:P[0];if(w){t(10,y=!0);try{console.log("[ScriptCard] Uploading custom background...");const re=await $e.uploadBackground(w);console.log("[ScriptCard] Upload result:",re);const _e=`/storage/backgrounds/${re.filename}`;Xe.update(R=>({...R,backgroundUrl:_e})),console.log("[ScriptCard] Background URL saved to store:",_e),alert(`✅ Background uploaded: ${re.filename}`)}catch(re){console.error("[ScriptCard] Upload error:",re),alert(`Upload error: ${re}`)}finally{t(10,y=!1)}}},pe=g=>{console.error("[ScriptCard] Image load error:",g),console.error("[ScriptCard] Failed URL:",l.backgroundUrl)},W=()=>{console.log("[ScriptCard] Image loaded successfully:",l.backgroundUrl)},De=()=>{var g;console.log("[ScriptCard] Clearing background:",l.backgroundUrl),(g=l.backgroundUrl)!=null&&g.startsWith("blob:")&&URL.revokeObjectURL(l.backgroundUrl),Xe.update(w=>({...w,backgroundUrl:null}))},ce=()=>t(9,D=!1),ge=()=>t(9,D=!1),Ie=()=>{t(7,_=!1),i()},Ae=()=>{t(2,p=!0),t(5,h=!1)},Pe=()=>t(5,h=!1),ee=()=>t(5,h=!1);return o.$$set=g=>{"script"in g&&t(0,s=g.script),"onUpdate"in g&&t(1,i=g.onUpdate)},[s,i,p,f,a,h,C,_,T,D,y,A,l,H,Y,U,N,ne,Q,j,ve,be,ke,q,S,he,ie,F,$,se,de,Ce,J,K,fe,pe,W,De,ce,ge,Ie,Ae,Pe,ee]}class Fl extends il{constructor(e){super(),cl(this,e,Ml,Ll,ul,{script:0,onUpdate:1},null,[-1,-1])}}function ol(o,e,t){const l=o.slice();return l[12]=e[t],l}function sl(o,e,t){const l=o.slice();return l[9]=e[t],l}function Hl(o){let e,t=[],l=new Map,s,i=ht(o[1]);const p=f=>f[12].id;for(let f=0;f<i.length;f+=1){let a=ol(o,i,f),h=p(a);l.set(h,t[f]=al(h,a))}return{c(){e=u("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=c(f,"DIV",{class:!0});var a=v(e);for(let h=0;h<t.length;h+=1)t[h].l(a);a.forEach(d),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(f,a){M(f,e,a);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(f,a){a&34&&(i=ht(f[1]),Ct(),t=gl(t,a,p,1,f,i,l,e,hl,al,null,ol),wt())},i(f){if(!s){for(let a=0;a<i.length;a+=1)Oe(t[a]);s=!0}},o(f){for(let a=0;a<t.length;a+=1)Ge(t[a]);s=!1},d(f){f&&d(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function jl(o){let e,t='<div class="text-6xl mb-4">🎥</div> <p class="text-gray-300 text-lg">No videos yet</p> <p class="text-gray-400 text-sm mt-2">Create videos from your scripts first</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-qv289k"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){M(l,e,s)},p:Fe,i:Fe,o:Fe,d(l){l&&d(e)}}}function Rl(o){let e,t,l,s;const i=[Jl,zl],p=[];function f(a,h){return a[0].length===0?0:1}return e=f(o),t=p[e]=i[e](o),{c(){t.c(),l=at()},l(a){t.l(a),l=at()},m(a,h){p[e].m(a,h),M(a,l,h),s=!0},p(a,h){let C=e;e=f(a),e===C?p[e].p(a,h):(Ct(),Ge(p[C],1,1,()=>{p[C]=null}),wt(),t=p[e],t?t.p(a,h):(t=p[e]=i[e](a),t.c()),Oe(t,1),t.m(l.parentNode,l))},i(a){s||(Oe(t),s=!0)},o(a){Ge(t),s=!1},d(a){a&&d(l),p[e].d(a)}}}function ql(o){let e,t,l,s,i=o[4]("common.loading")+"",p;return{c(){e=u("div"),t=u("div"),l=x(),s=u("p"),p=O(i),this.h()},l(f){e=c(f,"DIV",{class:!0});var a=v(e);t=c(a,"DIV",{class:!0}),v(t).forEach(d),l=m(a),s=c(a,"P",{class:!0});var h=v(s);p=B(h,i),h.forEach(d),a.forEach(d),this.h()},h(){n(t,"class","animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"),n(s,"class","text-gray-300 mt-4"),n(e,"class","text-center py-12")},m(f,a){M(f,e,a),r(e,t),r(e,l),r(e,s),r(s,p)},p(f,a){a&16&&i!==(i=f[4]("common.loading")+"")&&ye(p,i)},i:Fe,o:Fe,d(f){f&&d(e)}}}function al(o,e){let t,l,s;return l=new kl({props:{video:e[12],onUpdate:e[5]}}),{key:o,first:null,c(){t=at(),kt(l.$$.fragment),this.h()},l(i){t=at(),yt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){M(i,t,p),xt(l,i,p),s=!0},p(i,p){e=i;const f={};p&2&&(f.video=e[12]),l.$set(f)},i(i){s||(Oe(l.$$.fragment,i),s=!0)},o(i){Ge(l.$$.fragment,i),s=!1},d(i){i&&d(t),mt(l,i)}}}function zl(o){let e,t=[],l=new Map,s,i=ht(o[0]);const p=f=>f[9].id;for(let f=0;f<i.length;f+=1){let a=sl(o,i,f),h=p(a);l.set(h,t[f]=nl(h,a))}return{c(){e=u("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=c(f,"DIV",{class:!0});var a=v(e);for(let h=0;h<t.length;h+=1)t[h].l(a);a.forEach(d),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(f,a){M(f,e,a);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(f,a){a&33&&(i=ht(f[0]),Ct(),t=gl(t,a,p,1,f,i,l,e,hl,nl,null,sl),wt())},i(f){if(!s){for(let a=0;a<i.length;a+=1)Oe(t[a]);s=!0}},o(f){for(let a=0;a<t.length;a+=1)Ge(t[a]);s=!1},d(f){f&&d(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Jl(o){let e,t='<div class="text-6xl mb-4">📝</div> <p class="text-gray-300 text-lg">No scripts yet</p> <p class="text-gray-400 text-sm mt-2">Go to Dashboard to generate new scripts</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1t1kq1f"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){M(l,e,s)},p:Fe,i:Fe,o:Fe,d(l){l&&d(e)}}}function nl(o,e){let t,l,s;return l=new Fl({props:{script:e[9],onUpdate:e[5]}}),{key:o,first:null,c(){t=at(),kt(l.$$.fragment),this.h()},l(i){t=at(),yt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){M(i,t,p),xt(l,i,p),s=!0},p(i,p){e=i;const f={};p&1&&(f.script=e[9]),l.$set(f)},i(i){s||(Oe(l.$$.fragment,i),s=!0)},o(i){Ge(l.$$.fragment,i),s=!1},d(i){i&&d(t),mt(l,i)}}}function Wl(o){let e,t,l,s,i,p,f,a,h="AllAboutMe",C,_,T,D=o[4]("nav.dashboard")+"",y,A,H,L=o[4]("nav.drafts")+"",Y,U,N,ne=o[4]("nav.publish")+"",Q,j,ve,be=o[4]("nav.automation")+"",ke,q,S,he=o[4]("nav.settings")+"",ie,F,$,se,de,Ce="Logout",J,K,fe,pe,W,De,ce=o[4]("common.loading").includes("...")?"Scripts":"Скрипты",ge,Ie,Ae=o[0].length+"",Pe,ee,g,w,P,re,_e=o[4]("common.loading").includes("...")?"Videos":"Видео",R,te,V=o[1].length+"",ae,b,E,me,Se,Z,xe,X,Re,we;p=new _l({}),$=new ml({});const qe=[ql,Rl,jl,Hl],Te=[];function Ye(k,oe){return k[3]?0:k[2]==="scripts"?1:k[1].length===0?2:3}return Z=Ye(o),xe=Te[Z]=qe[Z](o),{c(){e=u("div"),t=u("header"),l=u("div"),s=u("div"),i=u("div"),kt(p.$$.fragment),f=x(),a=u("h1"),a.textContent=h,C=x(),_=u("nav"),T=u("a"),y=O(D),A=x(),H=u("a"),Y=O(L),U=x(),N=u("a"),Q=O(ne),j=x(),ve=u("a"),ke=O(be),q=x(),S=u("a"),ie=O(he),F=x(),kt($.$$.fragment),se=x(),de=u("button"),de.textContent=Ce,J=x(),K=u("main"),fe=u("div"),pe=u("div"),W=u("button"),De=O("📝 "),ge=O(ce),Ie=O(" ("),Pe=O(Ae),ee=O(")"),w=x(),P=u("button"),re=O("🎥 "),R=O(_e),te=O(" ("),ae=O(V),b=O(")"),me=x(),Se=u("div"),xe.c(),this.h()},l(k){e=c(k,"DIV",{class:!0});var oe=v(e);t=c(oe,"HEADER",{class:!0});var Ue=v(t);l=c(Ue,"DIV",{class:!0});var vt=v(l);s=c(vt,"DIV",{class:!0});var et=v(s);i=c(et,"DIV",{class:!0});var Ne=v(i);yt(p.$$.fragment,Ne),f=m(Ne),a=c(Ne,"H1",{class:!0,"data-svelte-h":!0}),I(a)!=="svelte-16dyx6r"&&(a.textContent=h),Ne.forEach(d),C=m(et),_=c(et,"NAV",{class:!0});var ue=v(_);T=c(ue,"A",{href:!0,class:!0});var bt=v(T);y=B(bt,D),bt.forEach(d),A=m(ue),H=c(ue,"A",{href:!0,class:!0});var it=v(H);Y=B(it,L),it.forEach(d),U=m(ue),N=c(ue,"A",{href:!0,class:!0});var ze=v(N);Q=B(ze,ne),ze.forEach(d),j=m(ue),ve=c(ue,"A",{href:!0,class:!0});var ct=v(ve);ke=B(ct,be),ct.forEach(d),q=m(ue),S=c(ue,"A",{href:!0,class:!0});var Je=v(S);ie=B(Je,he),Je.forEach(d),F=m(ue),yt($.$$.fragment,ue),se=m(ue),de=c(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),I(de)!=="svelte-1mey7yq"&&(de.textContent=Ce),ue.forEach(d),et.forEach(d),vt.forEach(d),Ue.forEach(d),J=m(oe),K=c(oe,"MAIN",{class:!0});var _t=v(K);fe=c(_t,"DIV",{class:!0});var tt=v(fe);pe=c(tt,"DIV",{class:!0});var He=v(pe);W=c(He,"BUTTON",{class:!0});var Be=v(W);De=B(Be,"📝 "),ge=B(Be,ce),Ie=B(Be," ("),Pe=B(Be,Ae),ee=B(Be,")"),Be.forEach(d),w=m(He),P=c(He,"BUTTON",{class:!0});var We=v(P);re=B(We,"🎥 "),R=B(We,_e),te=B(We," ("),ae=B(We,V),b=B(We,")"),We.forEach(d),He.forEach(d),me=m(tt),Se=c(tt,"DIV",{class:!0});var lt=v(Se);xe.l(lt),lt.forEach(d),tt.forEach(d),_t.forEach(d),oe.forEach(d),this.h()},h(){n(a,"class","text-2xl font-bold text-white"),n(i,"class","flex items-center gap-4"),n(T,"href","/dashboard"),n(T,"class","text-gray-300 hover:text-white transition-colors"),n(H,"href","/drafts"),n(H,"class","text-white font-semibold"),n(N,"href","/publish"),n(N,"class","text-gray-300 hover:text-white transition-colors"),n(ve,"href","/automation"),n(ve,"class","text-gray-300 hover:text-white transition-colors"),n(S,"href","/settings"),n(S,"class","text-gray-300 hover:text-white transition-colors"),n(de,"class","text-red-300 hover:text-red-200 transition-colors text-sm"),n(_,"class","flex items-center gap-6"),n(s,"class","flex items-center justify-between"),n(l,"class","container mx-auto px-6 py-4"),n(t,"class","bg-black/30 backdrop-blur-md border-b border-white/10"),n(W,"class",g=(o[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(P,"class",E=(o[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(pe,"class","flex border-b border-white/10"),n(Se,"class","p-6"),n(fe,"class","bg-white/10 backdrop-blur-md rounded-lg border border-white/20 overflow-hidden"),n(K,"class","container mx-auto px-6 py-8"),n(e,"class","min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900")},m(k,oe){M(k,e,oe),r(e,t),r(t,l),r(l,s),r(s,i),xt(p,i,null),r(i,f),r(i,a),r(s,C),r(s,_),r(_,T),r(T,y),r(_,A),r(_,H),r(H,Y),r(_,U),r(_,N),r(N,Q),r(_,j),r(_,ve),r(ve,ke),r(_,q),r(_,S),r(S,ie),r(_,F),xt($,_,null),r(_,se),r(_,de),r(e,J),r(e,K),r(K,fe),r(fe,pe),r(pe,W),r(W,De),r(W,ge),r(W,Ie),r(W,Pe),r(W,ee),r(pe,w),r(pe,P),r(P,re),r(P,R),r(P,te),r(P,ae),r(P,b),r(fe,me),r(fe,Se),Te[Z].m(Se,null),X=!0,Re||(we=[z(de,"click",o[6]),z(W,"click",o[7]),z(P,"click",o[8])],Re=!0)},p(k,[oe]){(!X||oe&16)&&D!==(D=k[4]("nav.dashboard")+"")&&ye(y,D),(!X||oe&16)&&L!==(L=k[4]("nav.drafts")+"")&&ye(Y,L),(!X||oe&16)&&ne!==(ne=k[4]("nav.publish")+"")&&ye(Q,ne),(!X||oe&16)&&be!==(be=k[4]("nav.automation")+"")&&ye(ke,be),(!X||oe&16)&&he!==(he=k[4]("nav.settings")+"")&&ye(ie,he),(!X||oe&16)&&ce!==(ce=k[4]("common.loading").includes("...")?"Scripts":"Скрипты")&&ye(ge,ce),(!X||oe&1)&&Ae!==(Ae=k[0].length+"")&&ye(Pe,Ae),(!X||oe&4&&g!==(g=(k[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(W,"class",g),(!X||oe&16)&&_e!==(_e=k[4]("common.loading").includes("...")?"Videos":"Видео")&&ye(R,_e),(!X||oe&2)&&V!==(V=k[1].length+"")&&ye(ae,V),(!X||oe&4&&E!==(E=(k[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(P,"class",E);let Ue=Z;Z=Ye(k),Z===Ue?Te[Z].p(k,oe):(Ct(),Ge(Te[Ue],1,1,()=>{Te[Ue]=null}),wt(),xe=Te[Z],xe?xe.p(k,oe):(xe=Te[Z]=qe[Z](k),xe.c()),Oe(xe,1),xe.m(Se,null))},i(k){X||(Oe(p.$$.fragment,k),Oe($.$$.fragment,k),Oe(xe),X=!0)},o(k){Ge(p.$$.fragment,k),Ge($.$$.fragment,k),Ge(xe),X=!1},d(k){k&&d(e),mt(p),mt($),Te[Z].d(),Re=!1,nt(we)}}}function Ql(o,e,t){let l;dl(o,xl,T=>t(4,l=T));let s=[],i=[],p="scripts",f=!0;fl(async()=>{if(!localStorage.getItem("auth_token")){Lt("/");return}await a()});async function a(){t(3,f=!0);try{if(!localStorage.getItem("auth_token")){Lt("/");return}const[D,y]=await Promise.all([$e.getScripts("draft"),$e.getVideos()]);t(0,s=D),t(1,i=y)}catch(T){console.error("Error loading data:",T)}finally{t(3,f=!1)}}function h(){localStorage.removeItem("auth_token"),Lt("/")}return[s,i,p,f,l,a,h,()=>t(2,p="scripts"),()=>t(2,p="videos")]}class rr extends il{constructor(e){super(),cl(this,e,Ql,Wl,ul,{})}}export{rr as component};
