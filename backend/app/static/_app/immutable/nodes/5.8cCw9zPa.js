import{S as Yt,i as Kt,s as Zt,d as f,r as ot,w as Me,x as Se,b as Ve,f as n,G as xt,E as yt,c as L,e as r,l as Q,g as c,h as v,m as O,k as m,j as T,F as tt,o as u,t as A,q as x,B as $t,u as el,D as ol,Q as Lt,J as tl,a as Le,v as vt,y as _t,z as bt,A as mt,K as Mt,n as qe,H as Gt}from"../chunks/DDZ0vrLm.js";import{e as pt,u as ll,o as rl}from"../chunks/DsHVYrMn.js";import"../chunks/IHki7fMi.js";import{w as sl,g as Vt}from"../chunks/BO2BssR1.js";import{a as Ze}from"../chunks/Qzne32_b.js";import{R as al,L as nl,t as il}from"../chunks/Dbv1kyuC.js";import{P as cl}from"../chunks/C8dN26Hb.js";import{V as ul}from"../chunks/CEr5bD9u.js";const Dt={textPosition:"center",voiceId:"adam",backgroundUrl:null,backgroundTheme:"cosmic"};function dl(){if(typeof window>"u")return Dt;const o=localStorage.getItem("video_settings");if(o)try{return{...Dt,...JSON.parse(o)}}catch(e){console.error("Failed to load video settings:",e)}return Dt}const Qe=sl(dl());typeof window<"u"&&Qe.subscribe(o=>{localStorage.setItem("video_settings",JSON.stringify(o)),console.log("[VideoSettings] Settings saved:",o)});function jt(o,e,t){const l=o.slice();return l[43]=e[t],l}function fl(o){let e,t=o[0].script+"",l;return{c(){e=u("p"),l=A(t),this.h()},l(s){e=c(s,"P",{class:!0});var i=v(e);l=O(i,t),i.forEach(f),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(s,i){L(s,e,i),r(e,l)},p(s,i){i[0]&1&&t!==(t=s[0].script+"")&&Ve(l,t)},d(s){s&&f(e)}}}function pl(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0}),v(e).forEach(f),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4")},m(s,i){L(s,e,i),Le(e,o[3]),t||(l=Q(e,"input",o[24]),t=!0)},p(s,i){i[0]&8&&Le(e,s[3])},d(s){s&&f(e),t=!1,l()}}}function hl(o){let e,t="Not generated yet";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-10ts8hq"&&(e.textContent=t),this.h()},h(){n(e,"class","text-gray-500 italic")},m(l,s){L(l,e,s)},p:qe,d(l){l&&f(e)}}}function gl(o){let e,t;return{c(){e=u("p"),t=A(o[4]),this.h()},l(l){e=c(l,"P",{class:!0});var s=v(e);t=O(s,o[4]),s.forEach(f),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(l,s){L(l,e,s),r(e,t)},p(l,s){s[0]&16&&Ve(t,l[4])},d(l){l&&f(e)}}}function vl(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(e).forEach(f),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4"),n(e,"placeholder","Generate clean text for voiceover...")},m(s,i){L(s,e,i),Le(e,o[4]),t||(l=Q(e,"input",o[25]),t=!0)},p(s,i){i[0]&16&&Le(e,s[4])},d(s){s&&f(e),t=!1,l()}}}function _l(o){let e,t="✏️ Edit",l,s,i="🎬 Create Video",p,d;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-rtjn0e"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-1gipdk6"&&(s.textContent=i),this.h()},h(){n(e,"class","px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors"),n(s,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all")},m(a,h){L(a,e,h),L(a,l,h),L(a,s,h),p||(d=[Q(e,"click",o[27]),Q(s,"click",o[17])],p=!0)},p:qe,d(a){a&&(f(e),f(l),f(s)),p=!1,ot(d)}}}function bl(o){let e,t="💾 Save",l,s,i="Cancel",p,d;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-kcz9eg"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-13v2dgx"&&(s.textContent=i),this.h()},h(){n(e,"class","flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors"),n(s,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors")},m(a,h){L(a,e,h),L(a,l,h),L(a,s,h),p||(d=[Q(e,"click",o[15]),Q(s,"click",o[26])],p=!0)},p:qe,d(a){a&&(f(e),f(l),f(s)),p=!1,ot(d)}}}function Ft(o){let e,t,l,s="🎬 Video Settings",i,p,d='<p class="text-xs text-purple-200">🌐 <strong>Global Settings</strong> - These settings apply to all videos and are saved automatically</p>',a,h,w,b,E="📐 Text Position",I,y,B,F,S,Y,N,U,ae,W,H,me,xe,we,R,D,ve="🎤 Voice Selection",ne,M,ee,se,ue="Click ▶️ to preview voice before generating",Ce,le,K,de="🖼️ Custom Background (Optional)",fe,G,_e,pe="✨ Generate AI Background:",Ue,Ee,X,g,C="🌌 Cosmic",Z,ye="🔮 Astrology",P,Ge="🔢 Numerology",$,he="💎 Destiny Matrix",j,J="🎨 Human Design",q,_="✨ Motivation",k,je="🌙 Moon",ie,be="🃏 Tarot",re,ge="⚡ Chakras",ze,Fe,ke,Te,Oe,V="Free AI generation via Pollinations.ai",oe,De,Re,lt="📁 Or Upload Your Own:",$e,ce,st,Je,ht="JPG, PNG, GIF, WebP (max 10MB)",at,nt,He,Ae,rt="🎬 Generate Video",We,Ne,gt="Cancel",Tt,Pt,it=pt(o[13]),Ie=[];for(let z=0;z<it.length;z+=1)Ie[z]=Ht(jt(o,it,z));function Nt(z,Be){return z[10]?kl:yl}let kt=Nt(o),Ye=kt(o),Pe=o[12].backgroundUrl&&qt(o);return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),p.innerHTML=d,a=x(),h=u("div"),w=u("div"),b=u("label"),b.textContent=E,I=x(),y=u("div"),B=u("button"),F=A("⬆️ Top"),Y=x(),N=u("button"),U=A("⏺️ Center"),W=x(),H=u("button"),me=A("⬇️ Bottom"),we=x(),R=u("div"),D=u("label"),D.textContent=ve,ne=x(),M=u("div");for(let z=0;z<Ie.length;z+=1)Ie[z].c();ee=x(),se=u("p"),se.textContent=ue,Ce=x(),le=u("div"),K=u("label"),K.textContent=de,fe=x(),G=u("div"),_e=u("label"),_e.textContent=pe,Ue=x(),Ee=u("div"),X=u("select"),g=u("option"),g.textContent=C,Z=u("option"),Z.textContent=ye,P=u("option"),P.textContent=Ge,$=u("option"),$.textContent=he,j=u("option"),j.textContent=J,q=u("option"),q.textContent=_,k=u("option"),k.textContent=je,ie=u("option"),ie.textContent=be,re=u("option"),re.textContent=ge,Fe=x(),ke=u("button"),Ye.c(),Te=x(),Oe=u("p"),Oe.textContent=V,oe=x(),De=u("div"),Re=u("label"),Re.textContent=lt,$e=x(),ce=u("input"),st=x(),Je=u("p"),Je.textContent=ht,at=x(),Pe&&Pe.c(),nt=x(),He=u("div"),Ae=u("button"),Ae.textContent=rt,We=x(),Ne=u("button"),Ne.textContent=gt,this.h()},l(z){e=c(z,"DIV",{class:!0});var Be=v(e);t=c(Be,"DIV",{class:!0});var te=v(t);l=c(te,"H3",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-192819n"&&(l.textContent=s),i=m(te),p=c(te,"DIV",{class:!0,"data-svelte-h":!0}),T(p)!=="svelte-1m3nfc4"&&(p.innerHTML=d),a=m(te),h=c(te,"DIV",{class:!0});var Ke=v(h);w=c(Ke,"DIV",{});var wt=v(w);b=c(wt,"LABEL",{class:!0,"data-svelte-h":!0}),T(b)!=="svelte-1p0zjbe"&&(b.textContent=E),I=m(wt),y=c(wt,"DIV",{class:!0});var ct=v(y);B=c(ct,"BUTTON",{class:!0});var Ut=v(B);F=O(Ut,"⬆️ Top"),Ut.forEach(f),Y=m(ct),N=c(ct,"BUTTON",{class:!0});var Bt=v(N);U=O(Bt,"⏺️ Center"),Bt.forEach(f),W=m(ct),H=c(ct,"BUTTON",{class:!0});var St=v(H);me=O(St,"⬇️ Bottom"),St.forEach(f),ct.forEach(f),wt.forEach(f),we=m(Ke),R=c(Ke,"DIV",{});var ut=v(R);D=c(ut,"LABEL",{class:!0,"data-svelte-h":!0}),T(D)!=="svelte-1vi0gmv"&&(D.textContent=ve),ne=m(ut),M=c(ut,"DIV",{class:!0});var Ot=v(M);for(let It=0;It<Ie.length;It+=1)Ie[It].l(Ot);Ot.forEach(f),ee=m(ut),se=c(ut,"P",{class:!0,"data-svelte-h":!0}),T(se)!=="svelte-162ccjb"&&(se.textContent=ue),ut.forEach(f),Ce=m(Ke),le=c(Ke,"DIV",{});var et=v(le);K=c(et,"LABEL",{class:!0,"data-svelte-h":!0}),T(K)!=="svelte-12zcyql"&&(K.textContent=de),fe=m(et),G=c(et,"DIV",{class:!0});var dt=v(G);_e=c(dt,"LABEL",{class:!0,"data-svelte-h":!0}),T(_e)!=="svelte-1kittw0"&&(_e.textContent=pe),Ue=m(dt),Ee=c(dt,"DIV",{class:!0});var Ct=v(Ee);X=c(Ct,"SELECT",{class:!0});var Xe=v(X);g=c(Xe,"OPTION",{"data-svelte-h":!0}),T(g)!=="svelte-1dkw48c"&&(g.textContent=C),Z=c(Xe,"OPTION",{"data-svelte-h":!0}),T(Z)!=="svelte-1oxvz1f"&&(Z.textContent=ye),P=c(Xe,"OPTION",{"data-svelte-h":!0}),T(P)!=="svelte-nc889j"&&(P.textContent=Ge),$=c(Xe,"OPTION",{"data-svelte-h":!0}),T($)!=="svelte-jymkbt"&&($.textContent=he),j=c(Xe,"OPTION",{"data-svelte-h":!0}),T(j)!=="svelte-15rxc6h"&&(j.textContent=J),q=c(Xe,"OPTION",{"data-svelte-h":!0}),T(q)!=="svelte-1u1ghwe"&&(q.textContent=_),k=c(Xe,"OPTION",{"data-svelte-h":!0}),T(k)!=="svelte-du7yyv"&&(k.textContent=je),ie=c(Xe,"OPTION",{"data-svelte-h":!0}),T(ie)!=="svelte-v0gk19"&&(ie.textContent=be),re=c(Xe,"OPTION",{"data-svelte-h":!0}),T(re)!=="svelte-1p72mw9"&&(re.textContent=ge),Xe.forEach(f),Fe=m(Ct),ke=c(Ct,"BUTTON",{class:!0});var At=v(ke);Ye.l(At),At.forEach(f),Ct.forEach(f),Te=m(dt),Oe=c(dt,"P",{class:!0,"data-svelte-h":!0}),T(Oe)!=="svelte-1bcuxmt"&&(Oe.textContent=V),dt.forEach(f),oe=m(et),De=c(et,"DIV",{});var ft=v(De);Re=c(ft,"LABEL",{class:!0,"data-svelte-h":!0}),T(Re)!=="svelte-19u7y30"&&(Re.textContent=lt),$e=m(ft),ce=c(ft,"INPUT",{type:!0,accept:!0,class:!0}),st=m(ft),Je=c(ft,"P",{class:!0,"data-svelte-h":!0}),T(Je)!=="svelte-18xcy9y"&&(Je.textContent=ht),ft.forEach(f),at=m(et),Pe&&Pe.l(et),et.forEach(f),Ke.forEach(f),nt=m(te),He=c(te,"DIV",{class:!0});var Et=v(He);Ae=c(Et,"BUTTON",{class:!0,"data-svelte-h":!0}),T(Ae)!=="svelte-1r9r3yw"&&(Ae.textContent=rt),We=m(Et),Ne=c(Et,"BUTTON",{class:!0,"data-svelte-h":!0}),T(Ne)!=="svelte-smpvns"&&(Ne.textContent=gt),Et.forEach(f),te.forEach(f),Be.forEach(f),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(p,"class","bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-lg p-3 mb-4"),n(b,"class","block text-sm font-semibold text-gray-300 mb-2"),n(B,"class",S="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(N,"class",ae="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(H,"class",xe="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(y,"class","flex gap-2"),n(D,"class","block text-sm font-semibold text-gray-300 mb-2"),n(M,"class","space-y-2"),n(se,"class","text-xs text-gray-400 mt-2"),n(K,"class","block text-sm font-semibold text-gray-300 mb-2"),n(_e,"class","block text-xs text-gray-400 mb-2"),g.__value="cosmic",Le(g,g.__value),Z.__value="astrology",Le(Z,Z.__value),P.__value="numerology",Le(P,P.__value),$.__value="matrix",Le($,$.__value),j.__value="human_design",Le(j,j.__value),q.__value="motivation",Le(q,q.__value),k.__value="moon",Le(k,k.__value),ie.__value="tarot",Le(ie,ie.__value),re.__value="chakras",Le(re,re.__value),n(X,"class","flex-1 px-3 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm"),ke.disabled=o[10],n(ke,"class","px-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 disabled:from-gray-600 disabled:to-gray-700 text-white font-semibold rounded-lg transition-all text-sm"),n(Ee,"class","flex gap-2"),n(Oe,"class","text-xs text-gray-400 mt-1"),n(G,"class","mb-3"),n(Re,"class","block text-xs text-gray-400 mb-2"),n(ce,"type","file"),n(ce,"accept","image/*"),n(ce,"class","w-full px-4 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700"),n(Je,"class","text-xs text-gray-400 mt-1"),n(h,"class","space-y-4 mb-6"),n(Ae,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all"),n(Ne,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(He,"class","flex gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-md mx-4 p-6 my-4"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-start justify-center z-40 pt-20 overflow-y-auto")},m(z,Be){L(z,e,Be),r(e,t),r(t,l),r(t,i),r(t,p),r(t,a),r(t,h),r(h,w),r(w,b),r(w,I),r(w,y),r(y,B),r(B,F),r(y,Y),r(y,N),r(N,U),r(y,W),r(y,H),r(H,me),r(h,we),r(h,R),r(R,D),r(R,ne),r(R,M);for(let te=0;te<Ie.length;te+=1)Ie[te]&&Ie[te].m(M,null);r(R,ee),r(R,se),r(h,Ce),r(h,le),r(le,K),r(le,fe),r(le,G),r(G,_e),r(G,Ue),r(G,Ee),r(Ee,X),r(X,g),r(X,Z),r(X,P),r(X,$),r(X,j),r(X,q),r(X,k),r(X,ie),r(X,re),Lt(X,o[12].backgroundTheme),r(Ee,Fe),r(Ee,ke),Ye.m(ke,null),r(G,Te),r(G,Oe),r(le,oe),r(le,De),r(De,Re),r(De,$e),r(De,ce),r(De,st),r(De,Je),r(le,at),Pe&&Pe.m(le,null),r(t,nt),r(t,He),r(He,Ae),r(He,We),r(He,Ne),Tt||(Pt=[Q(B,"click",o[28]),Q(N,"click",o[29]),Q(H,"click",o[30]),Q(X,"change",o[33]),Q(ke,"click",o[20]),Q(ce,"change",o[34]),Q(Ae,"click",o[18]),Q(Ne,"click",o[36]),Q(t,"click",tl(o[23])),Q(e,"click",o[37])],Tt=!0)},p(z,Be){if(Be[0]&4096&&S!==(S="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(z[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(B,"class",S),Be[0]&4096&&ae!==(ae="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(z[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(N,"class",ae),Be[0]&4096&&xe!==(xe="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(z[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(H,"class",xe),Be[0]&30720){it=pt(z[13]);let te;for(te=0;te<it.length;te+=1){const Ke=jt(z,it,te);Ie[te]?Ie[te].p(Ke,Be):(Ie[te]=Ht(Ke),Ie[te].c(),Ie[te].m(M,null))}for(;te<Ie.length;te+=1)Ie[te].d(1);Ie.length=it.length}Be[0]&4096&&ze!==(ze=z[12].backgroundTheme)&&Lt(X,z[12].backgroundTheme),kt!==(kt=Nt(z))&&(Ye.d(1),Ye=kt(z),Ye&&(Ye.c(),Ye.m(ke,null))),Be[0]&1024&&(ke.disabled=z[10]),z[12].backgroundUrl?Pe?Pe.p(z,Be):(Pe=qt(z),Pe.c(),Pe.m(le,null)):Pe&&(Pe.d(1),Pe=null)},d(z){z&&f(e),ol(Ie,z),Ye.d(),Pe&&Pe.d(),Tt=!1,ot(Pt)}}}function ml(o){let e;return{c(){e=A("▶️")},l(t){e=O(t,"▶️")},m(t,l){L(t,e,l)},d(t){t&&f(e)}}}function xl(o){let e;return{c(){e=A("⏸️")},l(t){e=O(t,"⏸️")},m(t,l){L(t,e,l)},d(t){t&&f(e)}}}function Ht(o){let e,t,l,s,i,p,d,a=o[43].icon+"",h,w,b,E,I=o[43].name+"",y,B,F,S=o[43].description+"",Y,N,U,ae,W,H,me;function xe(){return o[31](o[43])}function we(ne,M){return ne[11]?xl:ml}let R=we(o),D=R(o);function ve(){return o[32](o[43])}return{c(){e=u("div"),t=u("input"),s=x(),i=u("label"),p=u("div"),d=u("span"),h=A(a),w=x(),b=u("div"),E=u("div"),y=A(I),B=x(),F=u("div"),Y=A(S),N=x(),U=u("button"),D.c(),ae=x(),this.h()},l(ne){e=c(ne,"DIV",{class:!0});var M=v(e);t=c(M,"INPUT",{type:!0,id:!0,name:!0,class:!0}),s=m(M),i=c(M,"LABEL",{for:!0,class:!0});var ee=v(i);p=c(ee,"DIV",{class:!0});var se=v(p);d=c(se,"SPAN",{class:!0});var ue=v(d);h=O(ue,a),ue.forEach(f),w=m(se),b=c(se,"DIV",{class:!0});var Ce=v(b);E=c(Ce,"DIV",{class:!0});var le=v(E);y=O(le,I),le.forEach(f),B=m(Ce),F=c(Ce,"DIV",{class:!0});var K=v(F);Y=O(K,S),K.forEach(f),Ce.forEach(f),se.forEach(f),ee.forEach(f),N=m(M),U=c(M,"BUTTON",{class:!0,title:!0});var de=v(U);D.l(de),de.forEach(f),ae=m(M),M.forEach(f),this.h()},h(){n(t,"type","radio"),n(t,"id","voice-"+o[43].id),n(t,"name","voice"),t.value=o[43].id,t.checked=l=o[12].voiceId===o[43].id,n(t,"class","w-4 h-4 text-purple-600"),n(d,"class","text-lg"),n(E,"class","text-sm font-semibold text-white"),n(F,"class","text-xs text-gray-400"),n(b,"class","flex-1"),n(p,"class","flex items-center gap-2"),n(i,"for","voice-"+o[43].id),n(i,"class","flex-1 cursor-pointer"),U.disabled=o[11],n(U,"class","px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white text-xs font-semibold rounded transition-colors"),n(U,"title","Play sample"),n(e,"class",W="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[43].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))},m(ne,M){L(ne,e,M),r(e,t),r(e,s),r(e,i),r(i,p),r(p,d),r(d,h),r(p,w),r(p,b),r(b,E),r(E,y),r(b,B),r(b,F),r(F,Y),r(e,N),r(e,U),D.m(U,null),r(e,ae),H||(me=[Q(t,"change",xe),Q(U,"click",ve)],H=!0)},p(ne,M){o=ne,M[0]&4096&&l!==(l=o[12].voiceId===o[43].id)&&(t.checked=l),R!==(R=we(o))&&(D.d(1),D=R(o),D&&(D.c(),D.m(U,null))),M[0]&2048&&(U.disabled=o[11]),M[0]&4096&&W!==(W="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[43].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))&&n(e,"class",W)},d(ne){ne&&f(e),D.d(),H=!1,ot(me)}}}function yl(o){let e;return{c(){e=A("🎨 Generate")},l(t){e=O(t,"🎨 Generate")},m(t,l){L(t,e,l)},d(t){t&&f(e)}}}function kl(o){let e,t=`<div class="animate-spin rounded-full h-3 w-3 border-2 border-white/30 border-t-white"></div>
									Generating...`;return{c(){e=u("span"),e.innerHTML=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-11bmtej"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex items-center gap-2")},m(l,s){L(l,e,s)},d(l){l&&f(e)}}}function qt(o){let e,t,l,s,i,p,d="✕",a,h,w="✅ Background ready (global)",b,E;return{c(){e=u("div"),t=u("div"),l=u("img"),i=x(),p=u("button"),p.textContent=d,a=x(),h=u("p"),h.textContent=w,this.h()},l(I){e=c(I,"DIV",{class:!0});var y=v(e);t=c(y,"DIV",{class:!0});var B=v(t);l=c(B,"IMG",{src:!0,alt:!0,class:!0}),i=m(B),p=c(B,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),T(p)!=="svelte-1yft92g"&&(p.textContent=d),B.forEach(f),a=m(y),h=c(y,"P",{class:!0,"data-svelte-h":!0}),T(h)!=="svelte-4l9tbx"&&(h.textContent=w),y.forEach(f),this.h()},h(){Gt(l.src,s=o[12].backgroundUrl)||n(l,"src",s),n(l,"alt","Generated background"),n(l,"class","w-full h-32 object-cover rounded-lg border-2 border-green-500"),n(p,"class","absolute top-2 right-2 px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs font-semibold rounded shadow-lg transition-colors"),n(p,"title","Clear background"),n(t,"class","relative"),n(h,"class","text-xs text-green-400 mt-1"),n(e,"class","mt-3")},m(I,y){L(I,e,y),r(e,t),r(t,l),r(t,i),r(t,p),r(e,a),r(e,h),b||(E=Q(p,"click",o[35]),b=!0)},p(I,y){y[0]&4096&&!Gt(l.src,s=I[12].backgroundUrl)&&n(l,"src",s)},d(I){I&&f(e),b=!1,E()}}}function zt(o){let e,t;return e=new cl({props:{taskId:o[8],title:"Creating Video",onStop:o[19],onClose:o[38]}}),{c(){mt(e.$$.fragment)},l(l){bt(e.$$.fragment,l)},m(l,s){_t(e,l,s),t=!0},p(l,s){const i={};s[0]&256&&(i.taskId=l[8]),s[0]&130&&(i.onClose=l[38]),e.$set(i)},i(l){t||(Se(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){vt(e,l)}}}function Rt(o){let e,t,l,s="✨ Generated Post Text",i,p,d,a,h,w,b,E="Edit",I,y,B="Close",F,S;return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),d=u("p"),a=A(o[4]),h=x(),w=u("div"),b=u("button"),b.textContent=E,I=x(),y=u("button"),y.textContent=B,this.h()},l(Y){e=c(Y,"DIV",{class:!0});var N=v(e);t=c(N,"DIV",{class:!0});var U=v(t);l=c(U,"H3",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-1lbyrrb"&&(l.textContent=s),i=m(U),p=c(U,"DIV",{class:!0});var ae=v(p);d=c(ae,"P",{class:!0});var W=v(d);a=O(W,o[4]),W.forEach(f),ae.forEach(f),h=m(U),w=c(U,"DIV",{class:!0});var H=v(w);b=c(H,"BUTTON",{class:!0,"data-svelte-h":!0}),T(b)!=="svelte-s50vdr"&&(b.textContent=E),I=m(H),y=c(H,"BUTTON",{class:!0,"data-svelte-h":!0}),T(y)!=="svelte-11cd5q2"&&(y.textContent=B),H.forEach(f),U.forEach(f),N.forEach(f),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(d,"class","text-gray-200 whitespace-pre-wrap"),n(p,"class","bg-gray-900 p-4 rounded-lg mb-4"),n(b,"class","px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors"),n(y,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(w,"class","flex justify-end gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl mx-4 p-6"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-40")},m(Y,N){L(Y,e,N),r(e,t),r(t,l),r(t,i),r(t,p),r(p,d),r(d,a),r(t,h),r(t,w),r(w,b),r(w,I),r(w,y),F||(S=[Q(b,"click",o[39]),Q(y,"click",o[40]),Q(t,"click",tl(o[22])),Q(e,"click",o[41])],F=!0)},p(Y,N){N[0]&16&&Ve(a,Y[4])},d(Y){Y&&f(e),F=!1,ot(S)}}}function wl(o){let e,t,l,s,i,p=(o[0].theme||"No theme")+"",d,a,h,w=o[0].status+"",b,E,I,y,B,F=o[0].id+"",S,Y,N,U='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',ae,W,H,me="📝 Сценарий / Контекст",xe,we,R,D,ve,ne="🎤 Текст для озвучки",M,ee,se=o[6]?"Generating...":"✨ Generate",ue,Ce,le,K,de,fe,G,_e,pe,Ue,Ee;function X(_,k){return _[2]?pl:fl}let g=X(o),C=g(o);function Z(_,k){return _[2]?vl:_[4]?gl:hl}let ye=Z(o),P=ye(o);function Ge(_,k){return _[2]?bl:_l}let $=Ge(o),he=$(o),j=o[9]&&Ft(o),J=o[7]&&zt(o),q=o[5]&&Rt(o);return{c(){e=u("div"),t=u("div"),l=u("div"),s=u("div"),i=u("span"),d=A(p),a=x(),h=u("span"),b=A(w),I=x(),y=u("p"),B=A("ID: "),S=A(F),Y=x(),N=u("button"),N.innerHTML=U,ae=x(),W=u("div"),H=u("label"),H.textContent=me,xe=x(),C.c(),we=x(),R=u("div"),D=u("div"),ve=u("label"),ve.textContent=ne,M=x(),ee=u("button"),ue=A(se),Ce=x(),P.c(),le=x(),K=u("div"),he.c(),de=x(),j&&j.c(),fe=x(),J&&J.c(),G=x(),q&&q.c(),_e=tt(),this.h()},l(_){e=c(_,"DIV",{class:!0});var k=v(e);t=c(k,"DIV",{class:!0});var je=v(t);l=c(je,"DIV",{class:!0});var ie=v(l);s=c(ie,"DIV",{class:!0});var be=v(s);i=c(be,"SPAN",{class:!0});var re=v(i);d=O(re,p),re.forEach(f),a=m(be),h=c(be,"SPAN",{class:!0});var ge=v(h);b=O(ge,w),ge.forEach(f),be.forEach(f),I=m(ie),y=c(ie,"P",{class:!0});var ze=v(y);B=O(ze,"ID: "),S=O(ze,F),ze.forEach(f),ie.forEach(f),Y=m(je),N=c(je,"BUTTON",{class:!0,"data-svelte-h":!0}),T(N)!=="svelte-1pdyl8k"&&(N.innerHTML=U),je.forEach(f),ae=m(k),W=c(k,"DIV",{class:!0});var Fe=v(W);H=c(Fe,"LABEL",{class:!0,"data-svelte-h":!0}),T(H)!=="svelte-1n7rap0"&&(H.textContent=me),xe=m(Fe),C.l(Fe),Fe.forEach(f),we=m(k),R=c(k,"DIV",{class:!0});var ke=v(R);D=c(ke,"DIV",{class:!0});var Te=v(D);ve=c(Te,"LABEL",{class:!0,"data-svelte-h":!0}),T(ve)!=="svelte-1oeihmp"&&(ve.textContent=ne),M=m(Te),ee=c(Te,"BUTTON",{class:!0});var Oe=v(ee);ue=O(Oe,se),Oe.forEach(f),Te.forEach(f),Ce=m(ke),P.l(ke),ke.forEach(f),le=m(k),K=c(k,"DIV",{class:!0});var V=v(K);he.l(V),V.forEach(f),k.forEach(f),de=m(_),j&&j.l(_),fe=m(_),J&&J.l(_),G=m(_),q&&q.l(_),_e=tt(),this.h()},h(){n(i,"class","text-xs px-2 py-1 bg-purple-500/20 text-purple-300 rounded"),n(h,"class",E="text-xs px-2 py-1 rounded "+(o[0].status==="approved"?"bg-green-500/20 text-green-300":o[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")),n(s,"class","flex items-center gap-2 mb-2"),n(y,"class","text-sm text-gray-400"),n(l,"class","flex-1"),n(N,"class","text-red-400 hover:text-red-300 transition-colors"),n(t,"class","flex items-start justify-between mb-4"),n(H,"class","block text-sm font-semibold text-gray-300"),n(W,"class","space-y-3"),n(ve,"class","block text-sm font-semibold text-gray-300"),ee.disabled=o[6],n(ee,"class","text-xs px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded transition-colors"),n(D,"class","flex items-center justify-between"),n(R,"class","mt-4 space-y-3"),n(K,"class","flex gap-3 mt-6"),n(e,"class","bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-700 hover:border-purple-500/50 transition-all")},m(_,k){L(_,e,k),r(e,t),r(t,l),r(l,s),r(s,i),r(i,d),r(s,a),r(s,h),r(h,b),r(l,I),r(l,y),r(y,B),r(y,S),r(t,Y),r(t,N),r(e,ae),r(e,W),r(W,H),r(W,xe),C.m(W,null),r(e,we),r(e,R),r(R,D),r(D,ve),r(D,M),r(D,ee),r(ee,ue),r(R,Ce),P.m(R,null),r(e,le),r(e,K),he.m(K,null),L(_,de,k),j&&j.m(_,k),L(_,fe,k),J&&J.m(_,k),L(_,G,k),q&&q.m(_,k),L(_,_e,k),pe=!0,Ue||(Ee=[Q(N,"click",o[21]),Q(ee,"click",o[16])],Ue=!0)},p(_,k){(!pe||k[0]&1)&&p!==(p=(_[0].theme||"No theme")+"")&&Ve(d,p),(!pe||k[0]&1)&&w!==(w=_[0].status+"")&&Ve(b,w),(!pe||k[0]&1&&E!==(E="text-xs px-2 py-1 rounded "+(_[0].status==="approved"?"bg-green-500/20 text-green-300":_[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")))&&n(h,"class",E),(!pe||k[0]&1)&&F!==(F=_[0].id+"")&&Ve(S,F),g===(g=X(_))&&C?C.p(_,k):(C.d(1),C=g(_),C&&(C.c(),C.m(W,null))),(!pe||k[0]&64)&&se!==(se=_[6]?"Generating...":"✨ Generate")&&Ve(ue,se),(!pe||k[0]&64)&&(ee.disabled=_[6]),ye===(ye=Z(_))&&P?P.p(_,k):(P.d(1),P=ye(_),P&&(P.c(),P.m(R,null))),$===($=Ge(_))&&he?he.p(_,k):(he.d(1),he=$(_),he&&(he.c(),he.m(K,null))),_[9]?j?j.p(_,k):(j=Ft(_),j.c(),j.m(fe.parentNode,fe)):j&&(j.d(1),j=null),_[7]?J?(J.p(_,k),k[0]&128&&Se(J,1)):(J=zt(_),J.c(),Se(J,1),J.m(G.parentNode,G)):J&&(xt(),Me(J,1,1,()=>{J=null}),yt()),_[5]?q?q.p(_,k):(q=Rt(_),q.c(),q.m(_e.parentNode,_e)):q&&(q.d(1),q=null)},i(_){pe||(Se(J),pe=!0)},o(_){Me(J),pe=!1},d(_){_&&(f(e),f(de),f(fe),f(G),f(_e)),C.d(),P.d(),he.d(),j&&j.d(_),J&&J.d(_),q&&q.d(_),Ue=!1,ot(Ee)}}}function Cl(o){const e={cosmic:"Deep space cosmos, nebula colors, spiritual universe, infinite energy, celestial beauty, mystical stars, high quality",astrology:"Mystical zodiac wheel with all 12 signs, cosmic background, stars, planets, ethereal glow, spiritual art, high quality",numerology:"Sacred numerology symbols, golden numbers 1-9 in mystical circle, divine geometry, spiritual energy, cosmic background",matrix:"Destiny matrix energy map, sacred geometry, chakra colors, spiritual pathways, mystical symbols, glowing mandala",human_design:"Human Design body graph, energy centers, spiritual diagram, colorful chakras, cosmic consciousness, mystical blueprint",motivation:"Inspiring cosmic energy, spiritual awakening, golden light, universe connection, meditation vibes, peaceful atmosphere",moon:"Mystical moon phases, intuitive wisdom, celestial magic, spiritual feminine energy, night sky, stars, ethereal glow",tarot:"Mystical tarot cards spread, divine symbols, spiritual guidance, cosmic wisdom, ethereal art, magical atmosphere",chakras:"Seven colorful chakras energy centers, spiritual alignment, cosmic healing, rainbow aura, divine light"};return e[o]||e.cosmic}function El(o,e,t){let l;$t(o,Qe,g=>t(12,l=g));let{script:s}=e,{onUpdate:i}=e,p=!1,d=s.script,a=s.post_text||"",h=!1,w=!1,b=!1,E="",I=!1,y=!1,B=!1;el(()=>{console.log("[ScriptCard] Current global settings:",l)});const F=[{id:"pNInz6obpgDQGcFmaJgB",name:"Adam",description:"Deep male - Warm, narrative",sampleFile:"/voice-samples/adam.mp3",icon:"🎙️"},{id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",description:"Female - Soft, friendly",sampleFile:"/voice-samples/bella.mp3",icon:"🎤"},{id:"TxGEqnHWrfWFTfGW9XjX",name:"Josh",description:"Young male - Energetic",sampleFile:"/voice-samples/josh.mp3",icon:"🔊"}];let S=null;async function Y(g){try{S&&(S.pause(),S.currentTime=0,S=null);const C=F.find(Z=>Z.id===g);if(!C)return;t(11,B=!0),S=new Audio(C.sampleFile),S.volume=.9,S.onended=()=>{t(11,B=!1),S=null},S.onerror=Z=>{console.error("Error playing sample:",Z),t(11,B=!1),S=null,alert(`Failed to load ${C.name} sample. Try regenerating voice samples.`)},await S.play()}catch(C){console.error("Error playing sample:",C),t(11,B=!1),S=null}}async function N(){try{await Ze.updateScript(s.id,{script:d,post_text:a}),t(2,p=!1),i()}catch(g){alert(`Error saving script: ${g}`)}}async function U(){t(6,w=!0);try{const g=await Ze.generatePostText(s.id);t(4,a=g.post_text),t(0,s.post_text=g.post_text,s),t(5,h=!0)}catch(g){alert(`Error generating post text: ${g}`)}finally{t(6,w=!1)}}async function ae(){!a&&!window.confirm("Post text is empty. Generate it first or use the scenario text?")||t(9,I=!0)}async function W(){await N();const g=l;try{const C=await Ze.generateVideo(s.id,g.textPosition,g.backgroundUrl||void 0,g.voiceId);t(8,E=C.task_id),console.log("[ScriptCard] Video generation started with GLOBAL settings:",{textPosition:g.textPosition,background:g.backgroundUrl?"custom":"default",voiceId:g.voiceId,taskId:C.task_id}),t(9,I=!1),t(7,b=!0)}catch(C){alert(`Error creating video: ${C}`),t(9,I=!1)}}async function H(){if(E)try{await Ze.cancelTask(E),t(7,b=!1),alert("Video generation stopped")}catch(g){alert(`Error stopping video: ${g}`)}}async function me(){t(10,y=!0);try{const g=l.backgroundTheme,C=`https://image.pollinations.ai/prompt/${encodeURIComponent(Cl(g))}?width=1920&height=1080&nologo=true`;console.log("[ScriptCard] Generating background:",g);const Z=await fetch(C,{method:"GET"});if(!Z.ok)throw new Error("Failed to generate image");const ye=await Z.blob(),P=new File([ye],`${g}_background.png`,{type:"image/png"}),Ge=URL.createObjectURL(ye);Qe.update($=>({...$,backgroundUrl:Ge})),Ze.uploadBackground(P).then($=>{console.log("[ScriptCard] Background uploaded:",$.filename);const he=`/storage/backgrounds/${$.filename}`;Qe.update(j=>({...j,backgroundUrl:he}))}).catch($=>console.error("Upload error:",$)),alert(`✅ Background generated and saved globally: ${g}`)}catch(g){console.error("[ScriptCard] Background generation error:",g),alert(`Error generating background: ${g}`)}finally{t(10,y=!1)}}async function xe(){if(confirm("Delete this script?"))try{await Ze.deleteScript(s.id),i()}catch(g){alert(`Error deleting script: ${g}`)}}function we(g){Mt.call(this,o,g)}function R(g){Mt.call(this,o,g)}function D(){d=this.value,t(3,d)}function ve(){a=this.value,t(4,a)}const ne=()=>{t(2,p=!1),t(3,d=s.script),t(4,a=s.post_text||"")},M=()=>t(2,p=!0),ee=()=>Qe.update(g=>({...g,textPosition:"top"})),se=()=>Qe.update(g=>({...g,textPosition:"center"})),ue=()=>Qe.update(g=>({...g,textPosition:"bottom"})),Ce=g=>Qe.update(C=>({...C,voiceId:g.id})),le=g=>Y(g.id),K=g=>Qe.update(C=>({...C,backgroundTheme:g.currentTarget.value})),de=async g=>{var Z;const C=(Z=g.currentTarget.files)==null?void 0:Z[0];if(C)try{const ye=await Ze.uploadBackground(C);alert(`Background uploaded: ${ye.filename}`)}catch(ye){alert(`Upload error: ${ye}`)}},fe=()=>{var g;(g=l.backgroundUrl)!=null&&g.startsWith("blob:")&&URL.revokeObjectURL(l.backgroundUrl),Qe.update(C=>({...C,backgroundUrl:null}))},G=()=>t(9,I=!1),_e=()=>t(9,I=!1),pe=()=>{t(7,b=!1),i()},Ue=()=>{t(2,p=!0),t(5,h=!1)},Ee=()=>t(5,h=!1),X=()=>t(5,h=!1);return o.$$set=g=>{"script"in g&&t(0,s=g.script),"onUpdate"in g&&t(1,i=g.onUpdate)},[s,i,p,d,a,h,w,b,E,I,y,B,l,F,Y,N,U,ae,W,H,me,xe,we,R,D,ve,ne,M,ee,se,ue,Ce,le,K,de,fe,G,_e,pe,Ue,Ee,X]}class Tl extends Yt{constructor(e){super(),Kt(this,e,El,wl,Zt,{script:0,onUpdate:1},null,[-1,-1])}}function Jt(o,e,t){const l=o.slice();return l[12]=e[t],l}function Wt(o,e,t){const l=o.slice();return l[9]=e[t],l}function Il(o){let e,t=[],l=new Map,s,i=pt(o[1]);const p=d=>d[12].id;for(let d=0;d<i.length;d+=1){let a=Jt(o,i,d),h=p(a);l.set(h,t[d]=Xt(h,a))}return{c(){e=u("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=c(d,"DIV",{class:!0});var a=v(e);for(let h=0;h<t.length;h+=1)t[h].l(a);a.forEach(f),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(d,a){L(d,e,a);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(d,a){a&34&&(i=pt(d[1]),xt(),t=ll(t,a,p,1,d,i,l,e,rl,Xt,null,Jt),yt())},i(d){if(!s){for(let a=0;a<i.length;a+=1)Se(t[a]);s=!0}},o(d){for(let a=0;a<t.length;a+=1)Me(t[a]);s=!1},d(d){d&&f(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Vl(o){let e,t='<div class="text-6xl mb-4">🎥</div> <p class="text-gray-300 text-lg">No videos yet</p> <p class="text-gray-400 text-sm mt-2">Create videos from your scripts first</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-qv289k"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){L(l,e,s)},p:qe,i:qe,o:qe,d(l){l&&f(e)}}}function Dl(o){let e,t,l,s;const i=[Ul,Nl],p=[];function d(a,h){return a[0].length===0?0:1}return e=d(o),t=p[e]=i[e](o),{c(){t.c(),l=tt()},l(a){t.l(a),l=tt()},m(a,h){p[e].m(a,h),L(a,l,h),s=!0},p(a,h){let w=e;e=d(a),e===w?p[e].p(a,h):(xt(),Me(p[w],1,1,()=>{p[w]=null}),yt(),t=p[e],t?t.p(a,h):(t=p[e]=i[e](a),t.c()),Se(t,1),t.m(l.parentNode,l))},i(a){s||(Se(t),s=!0)},o(a){Me(t),s=!1},d(a){a&&f(l),p[e].d(a)}}}function Pl(o){let e,t,l,s,i=o[4]("common.loading")+"",p;return{c(){e=u("div"),t=u("div"),l=x(),s=u("p"),p=A(i),this.h()},l(d){e=c(d,"DIV",{class:!0});var a=v(e);t=c(a,"DIV",{class:!0}),v(t).forEach(f),l=m(a),s=c(a,"P",{class:!0});var h=v(s);p=O(h,i),h.forEach(f),a.forEach(f),this.h()},h(){n(t,"class","animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"),n(s,"class","text-gray-300 mt-4"),n(e,"class","text-center py-12")},m(d,a){L(d,e,a),r(e,t),r(e,l),r(e,s),r(s,p)},p(d,a){a&16&&i!==(i=d[4]("common.loading")+"")&&Ve(p,i)},i:qe,o:qe,d(d){d&&f(e)}}}function Xt(o,e){let t,l,s;return l=new ul({props:{video:e[12],onUpdate:e[5]}}),{key:o,first:null,c(){t=tt(),mt(l.$$.fragment),this.h()},l(i){t=tt(),bt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){L(i,t,p),_t(l,i,p),s=!0},p(i,p){e=i;const d={};p&2&&(d.video=e[12]),l.$set(d)},i(i){s||(Se(l.$$.fragment,i),s=!0)},o(i){Me(l.$$.fragment,i),s=!1},d(i){i&&f(t),vt(l,i)}}}function Nl(o){let e,t=[],l=new Map,s,i=pt(o[0]);const p=d=>d[9].id;for(let d=0;d<i.length;d+=1){let a=Wt(o,i,d),h=p(a);l.set(h,t[d]=Qt(h,a))}return{c(){e=u("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=c(d,"DIV",{class:!0});var a=v(e);for(let h=0;h<t.length;h+=1)t[h].l(a);a.forEach(f),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(d,a){L(d,e,a);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(d,a){a&33&&(i=pt(d[0]),xt(),t=ll(t,a,p,1,d,i,l,e,rl,Qt,null,Wt),yt())},i(d){if(!s){for(let a=0;a<i.length;a+=1)Se(t[a]);s=!0}},o(d){for(let a=0;a<t.length;a+=1)Me(t[a]);s=!1},d(d){d&&f(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Ul(o){let e,t='<div class="text-6xl mb-4">📝</div> <p class="text-gray-300 text-lg">No scripts yet</p> <p class="text-gray-400 text-sm mt-2">Go to Dashboard to generate new scripts</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1t1kq1f"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){L(l,e,s)},p:qe,i:qe,o:qe,d(l){l&&f(e)}}}function Qt(o,e){let t,l,s;return l=new Tl({props:{script:e[9],onUpdate:e[5]}}),{key:o,first:null,c(){t=tt(),mt(l.$$.fragment),this.h()},l(i){t=tt(),bt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){L(i,t,p),_t(l,i,p),s=!0},p(i,p){e=i;const d={};p&1&&(d.script=e[9]),l.$set(d)},i(i){s||(Se(l.$$.fragment,i),s=!0)},o(i){Me(l.$$.fragment,i),s=!1},d(i){i&&f(t),vt(l,i)}}}function Bl(o){let e,t,l,s,i,p,d,a,h="AllAboutMe",w,b,E,I=o[4]("nav.dashboard")+"",y,B,F,S=o[4]("nav.drafts")+"",Y,N,U,ae=o[4]("nav.publish")+"",W,H,me,xe=o[4]("nav.automation")+"",we,R,D,ve=o[4]("nav.settings")+"",ne,M,ee,se,ue,Ce="Logout",le,K,de,fe,G,_e,pe=o[4]("common.loading").includes("...")?"Scripts":"Скрипты",Ue,Ee,X=o[0].length+"",g,C,Z,ye,P,Ge,$=o[4]("common.loading").includes("...")?"Videos":"Видео",he,j,J=o[1].length+"",q,_,k,je,ie,be,re,ge,ze,Fe;p=new al({}),ee=new nl({});const ke=[Pl,Dl,Vl,Il],Te=[];function Oe(V,oe){return V[3]?0:V[2]==="scripts"?1:V[1].length===0?2:3}return be=Oe(o),re=Te[be]=ke[be](o),{c(){e=u("div"),t=u("header"),l=u("div"),s=u("div"),i=u("div"),mt(p.$$.fragment),d=x(),a=u("h1"),a.textContent=h,w=x(),b=u("nav"),E=u("a"),y=A(I),B=x(),F=u("a"),Y=A(S),N=x(),U=u("a"),W=A(ae),H=x(),me=u("a"),we=A(xe),R=x(),D=u("a"),ne=A(ve),M=x(),mt(ee.$$.fragment),se=x(),ue=u("button"),ue.textContent=Ce,le=x(),K=u("main"),de=u("div"),fe=u("div"),G=u("button"),_e=A("📝 "),Ue=A(pe),Ee=A(" ("),g=A(X),C=A(")"),ye=x(),P=u("button"),Ge=A("🎥 "),he=A($),j=A(" ("),q=A(J),_=A(")"),je=x(),ie=u("div"),re.c(),this.h()},l(V){e=c(V,"DIV",{class:!0});var oe=v(e);t=c(oe,"HEADER",{class:!0});var De=v(t);l=c(De,"DIV",{class:!0});var Re=v(l);s=c(Re,"DIV",{class:!0});var lt=v(s);i=c(lt,"DIV",{class:!0});var $e=v(i);bt(p.$$.fragment,$e),d=m($e),a=c($e,"H1",{class:!0,"data-svelte-h":!0}),T(a)!=="svelte-16dyx6r"&&(a.textContent=h),$e.forEach(f),w=m(lt),b=c(lt,"NAV",{class:!0});var ce=v(b);E=c(ce,"A",{href:!0,class:!0});var st=v(E);y=O(st,I),st.forEach(f),B=m(ce),F=c(ce,"A",{href:!0,class:!0});var Je=v(F);Y=O(Je,S),Je.forEach(f),N=m(ce),U=c(ce,"A",{href:!0,class:!0});var ht=v(U);W=O(ht,ae),ht.forEach(f),H=m(ce),me=c(ce,"A",{href:!0,class:!0});var at=v(me);we=O(at,xe),at.forEach(f),R=m(ce),D=c(ce,"A",{href:!0,class:!0});var nt=v(D);ne=O(nt,ve),nt.forEach(f),M=m(ce),bt(ee.$$.fragment,ce),se=m(ce),ue=c(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),T(ue)!=="svelte-1mey7yq"&&(ue.textContent=Ce),ce.forEach(f),lt.forEach(f),Re.forEach(f),De.forEach(f),le=m(oe),K=c(oe,"MAIN",{class:!0});var He=v(K);de=c(He,"DIV",{class:!0});var Ae=v(de);fe=c(Ae,"DIV",{class:!0});var rt=v(fe);G=c(rt,"BUTTON",{class:!0});var We=v(G);_e=O(We,"📝 "),Ue=O(We,pe),Ee=O(We," ("),g=O(We,X),C=O(We,")"),We.forEach(f),ye=m(rt),P=c(rt,"BUTTON",{class:!0});var Ne=v(P);Ge=O(Ne,"🎥 "),he=O(Ne,$),j=O(Ne," ("),q=O(Ne,J),_=O(Ne,")"),Ne.forEach(f),rt.forEach(f),je=m(Ae),ie=c(Ae,"DIV",{class:!0});var gt=v(ie);re.l(gt),gt.forEach(f),Ae.forEach(f),He.forEach(f),oe.forEach(f),this.h()},h(){n(a,"class","text-2xl font-bold text-white"),n(i,"class","flex items-center gap-4"),n(E,"href","/dashboard"),n(E,"class","text-gray-300 hover:text-white transition-colors"),n(F,"href","/drafts"),n(F,"class","text-white font-semibold"),n(U,"href","/publish"),n(U,"class","text-gray-300 hover:text-white transition-colors"),n(me,"href","/automation"),n(me,"class","text-gray-300 hover:text-white transition-colors"),n(D,"href","/settings"),n(D,"class","text-gray-300 hover:text-white transition-colors"),n(ue,"class","text-red-300 hover:text-red-200 transition-colors text-sm"),n(b,"class","flex items-center gap-6"),n(s,"class","flex items-center justify-between"),n(l,"class","container mx-auto px-6 py-4"),n(t,"class","bg-black/30 backdrop-blur-md border-b border-white/10"),n(G,"class",Z=(o[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(P,"class",k=(o[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(fe,"class","flex border-b border-white/10"),n(ie,"class","p-6"),n(de,"class","bg-white/10 backdrop-blur-md rounded-lg border border-white/20 overflow-hidden"),n(K,"class","container mx-auto px-6 py-8"),n(e,"class","min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900")},m(V,oe){L(V,e,oe),r(e,t),r(t,l),r(l,s),r(s,i),_t(p,i,null),r(i,d),r(i,a),r(s,w),r(s,b),r(b,E),r(E,y),r(b,B),r(b,F),r(F,Y),r(b,N),r(b,U),r(U,W),r(b,H),r(b,me),r(me,we),r(b,R),r(b,D),r(D,ne),r(b,M),_t(ee,b,null),r(b,se),r(b,ue),r(e,le),r(e,K),r(K,de),r(de,fe),r(fe,G),r(G,_e),r(G,Ue),r(G,Ee),r(G,g),r(G,C),r(fe,ye),r(fe,P),r(P,Ge),r(P,he),r(P,j),r(P,q),r(P,_),r(de,je),r(de,ie),Te[be].m(ie,null),ge=!0,ze||(Fe=[Q(ue,"click",o[6]),Q(G,"click",o[7]),Q(P,"click",o[8])],ze=!0)},p(V,[oe]){(!ge||oe&16)&&I!==(I=V[4]("nav.dashboard")+"")&&Ve(y,I),(!ge||oe&16)&&S!==(S=V[4]("nav.drafts")+"")&&Ve(Y,S),(!ge||oe&16)&&ae!==(ae=V[4]("nav.publish")+"")&&Ve(W,ae),(!ge||oe&16)&&xe!==(xe=V[4]("nav.automation")+"")&&Ve(we,xe),(!ge||oe&16)&&ve!==(ve=V[4]("nav.settings")+"")&&Ve(ne,ve),(!ge||oe&16)&&pe!==(pe=V[4]("common.loading").includes("...")?"Scripts":"Скрипты")&&Ve(Ue,pe),(!ge||oe&1)&&X!==(X=V[0].length+"")&&Ve(g,X),(!ge||oe&4&&Z!==(Z=(V[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(G,"class",Z),(!ge||oe&16)&&$!==($=V[4]("common.loading").includes("...")?"Videos":"Видео")&&Ve(he,$),(!ge||oe&2)&&J!==(J=V[1].length+"")&&Ve(q,J),(!ge||oe&4&&k!==(k=(V[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(P,"class",k);let De=be;be=Oe(V),be===De?Te[be].p(V,oe):(xt(),Me(Te[De],1,1,()=>{Te[De]=null}),yt(),re=Te[be],re?re.p(V,oe):(re=Te[be]=ke[be](V),re.c()),Se(re,1),re.m(ie,null))},i(V){ge||(Se(p.$$.fragment,V),Se(ee.$$.fragment,V),Se(re),ge=!0)},o(V){Me(p.$$.fragment,V),Me(ee.$$.fragment,V),Me(re),ge=!1},d(V){V&&f(e),vt(p),vt(ee),Te[be].d(),ze=!1,ot(Fe)}}}function Sl(o,e,t){let l;$t(o,il,E=>t(4,l=E));let s=[],i=[],p="scripts",d=!0;el(async()=>{if(!localStorage.getItem("auth_token")){Vt("/");return}await a()});async function a(){t(3,d=!0);try{if(!localStorage.getItem("auth_token")){Vt("/");return}const[I,y]=await Promise.all([Ze.getScripts("draft"),Ze.getVideos()]);t(0,s=I),t(1,i=y)}catch(E){console.error("Error loading data:",E)}finally{t(3,d=!1)}}function h(){localStorage.removeItem("auth_token"),Vt("/")}return[s,i,p,d,l,a,h,()=>t(2,p="scripts"),()=>t(2,p="videos")]}class ql extends Yt{constructor(e){super(),Kt(this,e,Sl,Bl,Zt,{})}}export{ql as component};
