import{S as $t,i as el,s as tl,d as f,r as ot,w as Fe,x as Le,b as Ee,f as n,G as yt,E as kt,c as G,e as r,l as Q,g as c,h as b,m as A,k as m,j as T,F as rt,o as u,t as L,q as x,B as ll,u as rl,D as nl,Q as Ft,J as ol,a as Me,v as bt,y as _t,z as mt,A as xt,K as Ht,n as He,H as jt}from"../chunks/DDZ0vrLm.js";import{e as ft,u as sl,o as al}from"../chunks/DsHVYrMn.js";import"../chunks/IHki7fMi.js";import{w as il,g as Pt}from"../chunks/B31E2jkS.js";import{a as Ze}from"../chunks/Qzne32_b.js";import{R as cl,L as ul,t as dl}from"../chunks/C5z4V49l.js";import{P as fl}from"../chunks/B8Wu0bbi.js";import{V as pl}from"../chunks/CuWJC7uD.js";const Nt={textPosition:"center",voiceId:"pNInz6obpgDQGcFmaJgB",backgroundUrl:null,backgroundTheme:"cosmic"};function hl(){if(typeof window>"u")return Nt;const o=localStorage.getItem("video_settings");if(o)try{return{...Nt,...JSON.parse(o)}}catch(e){console.error("Failed to load video settings:",e)}return Nt}const Ke=il(hl());typeof window<"u"&&Ke.subscribe(o=>{var t;const e={...o,backgroundUrl:(t=o.backgroundUrl)!=null&&t.startsWith("blob:")?null:o.backgroundUrl};localStorage.setItem("video_settings",JSON.stringify(e)),console.log("[VideoSettings] Settings saved:",e)});function qt(o,e,t){const l=o.slice();return l[43]=e[t],l}function gl(o){let e,t=o[0].script+"",l;return{c(){e=u("p"),l=L(t),this.h()},l(s){e=c(s,"P",{class:!0});var i=b(e);l=A(i,t),i.forEach(f),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(s,i){G(s,e,i),r(e,l)},p(s,i){i[0]&1&&t!==(t=s[0].script+"")&&Ee(l,t)},d(s){s&&f(e)}}}function vl(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0}),b(e).forEach(f),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4")},m(s,i){G(s,e,i),Me(e,o[3]),t||(l=Q(e,"input",o[24]),t=!0)},p(s,i){i[0]&8&&Me(e,s[3])},d(s){s&&f(e),t=!1,l()}}}function bl(o){let e,t="Not generated yet";return{c(){e=u("p"),e.textContent=t,this.h()},l(l){e=c(l,"P",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-10ts8hq"&&(e.textContent=t),this.h()},h(){n(e,"class","text-gray-500 italic")},m(l,s){G(l,e,s)},p:He,d(l){l&&f(e)}}}function _l(o){let e,t;return{c(){e=u("p"),t=L(o[4]),this.h()},l(l){e=c(l,"P",{class:!0});var s=b(e);t=A(s,o[4]),s.forEach(f),this.h()},h(){n(e,"class","text-gray-200 whitespace-pre-wrap")},m(l,s){G(l,e,s),r(e,t)},p(l,s){s[0]&16&&Ee(t,l[4])},d(l){l&&f(e)}}}function ml(o){let e,t,l;return{c(){e=u("textarea"),this.h()},l(s){e=c(s,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),b(e).forEach(f),this.h()},h(){n(e,"class","w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"),n(e,"rows","4"),n(e,"placeholder","Generate clean text for voiceover...")},m(s,i){G(s,e,i),Me(e,o[4]),t||(l=Q(e,"input",o[25]),t=!0)},p(s,i){i[0]&16&&Me(e,s[4])},d(s){s&&f(e),t=!1,l()}}}function xl(o){let e,t="✏️ Edit",l,s,i="🎬 Create Video",p,d;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-rtjn0e"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-1gipdk6"&&(s.textContent=i),this.h()},h(){n(e,"class","px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors"),n(s,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all")},m(a,h){G(a,e,h),G(a,l,h),G(a,s,h),p||(d=[Q(e,"click",o[27]),Q(s,"click",o[17])],p=!0)},p:He,d(a){a&&(f(e),f(l),f(s)),p=!1,ot(d)}}}function yl(o){let e,t="💾 Save",l,s,i="Cancel",p,d;return{c(){e=u("button"),e.textContent=t,l=x(),s=u("button"),s.textContent=i,this.h()},l(a){e=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-kcz9eg"&&(e.textContent=t),l=m(a),s=c(a,"BUTTON",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-13v2dgx"&&(s.textContent=i),this.h()},h(){n(e,"class","flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors"),n(s,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors")},m(a,h){G(a,e,h),G(a,l,h),G(a,s,h),p||(d=[Q(e,"click",o[15]),Q(s,"click",o[26])],p=!0)},p:He,d(a){a&&(f(e),f(l),f(s)),p=!1,ot(d)}}}function zt(o){let e,t,l,s="🎬 Video Settings",i,p,d='<p class="text-xs text-purple-200">🌐 <strong>Global Settings</strong> - These settings apply to all videos and are saved automatically</p>',a,h,C,_,I="📐 Text Position",V,y,U,F,O,Y,N,S,ae,J,H,ve,_e,ye,q,D,ge="🎤 Voice Selection",ne,M,ee,re,de="Click ▶️ to preview voice before generating",ke,K,Z,fe="🖼️ Custom Background (Optional)",pe,z,Pe="⚠️ If empty, background will be auto-detected from script content. Generate custom to override.",ce,he,Te,Ge="✨ Generate AI Background:",g,k,B,oe,R="🌌 Cosmic",be,Ie="🔮 Astrology",W,ie="🔢 Numerology",P,se="💎 Destiny Matrix",v,E="🎨 Human Design",me,Ne="✨ Motivation",$,xe="🌙 Moon",X,je="🃏 Tarot",we,qe="⚡ Chakras",Ve,Xe,w,le,Ue,pt="Free AI generation via Pollinations.ai",$e,Oe,ue,ht="📁 Or Upload Your Own:",st,ze,at,Re,gt="JPG, PNG, GIF, WebP (max 10MB)",et,tt,Se,Be,vt="🎬 Generate Video",It,lt,St="Cancel",Vt,Bt,nt=ft(o[13]),Ce=[];for(let j=0;j<nt.length;j+=1)Ce[j]=Rt(qt(o,nt,j));function Ut(j,Ae){return j[10]?El:Cl}let wt=Ut(o),Qe=wt(o),De=o[12].backgroundUrl&&Jt(o);return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),p.innerHTML=d,a=x(),h=u("div"),C=u("div"),_=u("label"),_.textContent=I,V=x(),y=u("div"),U=u("button"),F=L("⬆️ Top"),Y=x(),N=u("button"),S=L("⏺️ Center"),J=x(),H=u("button"),ve=L("⬇️ Bottom"),ye=x(),q=u("div"),D=u("label"),D.textContent=ge,ne=x(),M=u("div");for(let j=0;j<Ce.length;j+=1)Ce[j].c();ee=x(),re=u("p"),re.textContent=de,ke=x(),K=u("div"),Z=u("label"),Z.textContent=fe,pe=x(),z=u("p"),z.textContent=Pe,ce=x(),he=u("div"),Te=u("label"),Te.textContent=Ge,g=x(),k=u("div"),B=u("select"),oe=u("option"),oe.textContent=R,be=u("option"),be.textContent=Ie,W=u("option"),W.textContent=ie,P=u("option"),P.textContent=se,v=u("option"),v.textContent=E,me=u("option"),me.textContent=Ne,$=u("option"),$.textContent=xe,X=u("option"),X.textContent=je,we=u("option"),we.textContent=qe,Xe=x(),w=u("button"),Qe.c(),le=x(),Ue=u("p"),Ue.textContent=pt,$e=x(),Oe=u("div"),ue=u("label"),ue.textContent=ht,st=x(),ze=u("input"),at=x(),Re=u("p"),Re.textContent=gt,et=x(),De&&De.c(),tt=x(),Se=u("div"),Be=u("button"),Be.textContent=vt,It=x(),lt=u("button"),lt.textContent=St,this.h()},l(j){e=c(j,"DIV",{class:!0});var Ae=b(e);t=c(Ae,"DIV",{class:!0});var te=b(t);l=c(te,"H3",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-192819n"&&(l.textContent=s),i=m(te),p=c(te,"DIV",{class:!0,"data-svelte-h":!0}),T(p)!=="svelte-1m3nfc4"&&(p.innerHTML=d),a=m(te),h=c(te,"DIV",{class:!0});var Ye=b(h);C=c(Ye,"DIV",{});var Ct=b(C);_=c(Ct,"LABEL",{class:!0,"data-svelte-h":!0}),T(_)!=="svelte-1p0zjbe"&&(_.textContent=I),V=m(Ct),y=c(Ct,"DIV",{class:!0});var it=b(y);U=c(it,"BUTTON",{class:!0});var Ot=b(U);F=A(Ot,"⬆️ Top"),Ot.forEach(f),Y=m(it),N=c(it,"BUTTON",{class:!0});var At=b(N);S=A(At,"⏺️ Center"),At.forEach(f),J=m(it),H=c(it,"BUTTON",{class:!0});var Lt=b(H);ve=A(Lt,"⬇️ Bottom"),Lt.forEach(f),it.forEach(f),Ct.forEach(f),ye=m(Ye),q=c(Ye,"DIV",{});var ct=b(q);D=c(ct,"LABEL",{class:!0,"data-svelte-h":!0}),T(D)!=="svelte-1vi0gmv"&&(D.textContent=ge),ne=m(ct),M=c(ct,"DIV",{class:!0});var Gt=b(M);for(let Dt=0;Dt<Ce.length;Dt+=1)Ce[Dt].l(Gt);Gt.forEach(f),ee=m(ct),re=c(ct,"P",{class:!0,"data-svelte-h":!0}),T(re)!=="svelte-162ccjb"&&(re.textContent=de),ct.forEach(f),ke=m(Ye),K=c(Ye,"DIV",{});var Je=b(K);Z=c(Je,"LABEL",{class:!0,"data-svelte-h":!0}),T(Z)!=="svelte-12zcyql"&&(Z.textContent=fe),pe=m(Je),z=c(Je,"P",{class:!0,"data-svelte-h":!0}),T(z)!=="svelte-1p71e8n"&&(z.textContent=Pe),ce=m(Je),he=c(Je,"DIV",{class:!0});var ut=b(he);Te=c(ut,"LABEL",{class:!0,"data-svelte-h":!0}),T(Te)!=="svelte-1kittw0"&&(Te.textContent=Ge),g=m(ut),k=c(ut,"DIV",{class:!0});var Et=b(k);B=c(Et,"SELECT",{class:!0});var We=b(B);oe=c(We,"OPTION",{"data-svelte-h":!0}),T(oe)!=="svelte-1dkw48c"&&(oe.textContent=R),be=c(We,"OPTION",{"data-svelte-h":!0}),T(be)!=="svelte-1oxvz1f"&&(be.textContent=Ie),W=c(We,"OPTION",{"data-svelte-h":!0}),T(W)!=="svelte-nc889j"&&(W.textContent=ie),P=c(We,"OPTION",{"data-svelte-h":!0}),T(P)!=="svelte-jymkbt"&&(P.textContent=se),v=c(We,"OPTION",{"data-svelte-h":!0}),T(v)!=="svelte-15rxc6h"&&(v.textContent=E),me=c(We,"OPTION",{"data-svelte-h":!0}),T(me)!=="svelte-1u1ghwe"&&(me.textContent=Ne),$=c(We,"OPTION",{"data-svelte-h":!0}),T($)!=="svelte-du7yyv"&&($.textContent=xe),X=c(We,"OPTION",{"data-svelte-h":!0}),T(X)!=="svelte-v0gk19"&&(X.textContent=je),we=c(We,"OPTION",{"data-svelte-h":!0}),T(we)!=="svelte-1p72mw9"&&(we.textContent=qe),We.forEach(f),Xe=m(Et),w=c(Et,"BUTTON",{class:!0});var Mt=b(w);Qe.l(Mt),Mt.forEach(f),Et.forEach(f),le=m(ut),Ue=c(ut,"P",{class:!0,"data-svelte-h":!0}),T(Ue)!=="svelte-1bcuxmt"&&(Ue.textContent=pt),ut.forEach(f),$e=m(Je),Oe=c(Je,"DIV",{});var dt=b(Oe);ue=c(dt,"LABEL",{class:!0,"data-svelte-h":!0}),T(ue)!=="svelte-19u7y30"&&(ue.textContent=ht),st=m(dt),ze=c(dt,"INPUT",{type:!0,accept:!0,class:!0}),at=m(dt),Re=c(dt,"P",{class:!0,"data-svelte-h":!0}),T(Re)!=="svelte-18xcy9y"&&(Re.textContent=gt),dt.forEach(f),et=m(Je),De&&De.l(Je),Je.forEach(f),Ye.forEach(f),tt=m(te),Se=c(te,"DIV",{class:!0});var Tt=b(Se);Be=c(Tt,"BUTTON",{class:!0,"data-svelte-h":!0}),T(Be)!=="svelte-1r9r3yw"&&(Be.textContent=vt),It=m(Tt),lt=c(Tt,"BUTTON",{class:!0,"data-svelte-h":!0}),T(lt)!=="svelte-smpvns"&&(lt.textContent=St),Tt.forEach(f),te.forEach(f),Ae.forEach(f),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(p,"class","bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-lg p-3 mb-4"),n(_,"class","block text-sm font-semibold text-gray-300 mb-2"),n(U,"class",O="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(N,"class",ae="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(H,"class",_e="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(o[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300")),n(y,"class","flex gap-2"),n(D,"class","block text-sm font-semibold text-gray-300 mb-2"),n(M,"class","space-y-2"),n(re,"class","text-xs text-gray-400 mt-2"),n(Z,"class","block text-sm font-semibold text-gray-300 mb-2"),n(z,"class","text-xs text-gray-400 mb-3"),n(Te,"class","block text-xs text-gray-400 mb-2"),oe.__value="cosmic",Me(oe,oe.__value),be.__value="astrology",Me(be,be.__value),W.__value="numerology",Me(W,W.__value),P.__value="matrix",Me(P,P.__value),v.__value="human_design",Me(v,v.__value),me.__value="motivation",Me(me,me.__value),$.__value="moon",Me($,$.__value),X.__value="tarot",Me(X,X.__value),we.__value="chakras",Me(we,we.__value),n(B,"class","flex-1 px-3 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm"),w.disabled=o[10],n(w,"class","px-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 disabled:from-gray-600 disabled:to-gray-700 text-white font-semibold rounded-lg transition-all text-sm"),n(k,"class","flex gap-2"),n(Ue,"class","text-xs text-gray-400 mt-1"),n(he,"class","mb-3"),n(ue,"class","block text-xs text-gray-400 mb-2"),n(ze,"type","file"),n(ze,"accept","image/*"),n(ze,"class","w-full px-4 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700"),n(Re,"class","text-xs text-gray-400 mt-1"),n(h,"class","space-y-4 mb-6"),n(Be,"class","flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all"),n(lt,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(Se,"class","flex gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-md mx-4 p-6 my-4"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-start justify-center z-40 pt-20 overflow-y-auto")},m(j,Ae){G(j,e,Ae),r(e,t),r(t,l),r(t,i),r(t,p),r(t,a),r(t,h),r(h,C),r(C,_),r(C,V),r(C,y),r(y,U),r(U,F),r(y,Y),r(y,N),r(N,S),r(y,J),r(y,H),r(H,ve),r(h,ye),r(h,q),r(q,D),r(q,ne),r(q,M);for(let te=0;te<Ce.length;te+=1)Ce[te]&&Ce[te].m(M,null);r(q,ee),r(q,re),r(h,ke),r(h,K),r(K,Z),r(K,pe),r(K,z),r(K,ce),r(K,he),r(he,Te),r(he,g),r(he,k),r(k,B),r(B,oe),r(B,be),r(B,W),r(B,P),r(B,v),r(B,me),r(B,$),r(B,X),r(B,we),Ft(B,o[12].backgroundTheme),r(k,Xe),r(k,w),Qe.m(w,null),r(he,le),r(he,Ue),r(K,$e),r(K,Oe),r(Oe,ue),r(Oe,st),r(Oe,ze),r(Oe,at),r(Oe,Re),r(K,et),De&&De.m(K,null),r(t,tt),r(t,Se),r(Se,Be),r(Se,It),r(Se,lt),Vt||(Bt=[Q(U,"click",o[28]),Q(N,"click",o[29]),Q(H,"click",o[30]),Q(B,"change",o[33]),Q(w,"click",o[20]),Q(ze,"change",o[34]),Q(Be,"click",o[18]),Q(lt,"click",o[36]),Q(t,"click",ol(o[23])),Q(e,"click",o[37])],Vt=!0)},p(j,Ae){if(Ae[0]&4096&&O!==(O="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(j[12].textPosition==="top"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(U,"class",O),Ae[0]&4096&&ae!==(ae="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(j[12].textPosition==="center"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(N,"class",ae),Ae[0]&4096&&_e!==(_e="flex-1 px-4 py-3 rounded-lg border-2 transition-all "+(j[12].textPosition==="bottom"?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 bg-gray-900 text-gray-300"))&&n(H,"class",_e),Ae[0]&30720){nt=ft(j[13]);let te;for(te=0;te<nt.length;te+=1){const Ye=qt(j,nt,te);Ce[te]?Ce[te].p(Ye,Ae):(Ce[te]=Rt(Ye),Ce[te].c(),Ce[te].m(M,null))}for(;te<Ce.length;te+=1)Ce[te].d(1);Ce.length=nt.length}Ae[0]&4096&&Ve!==(Ve=j[12].backgroundTheme)&&Ft(B,j[12].backgroundTheme),wt!==(wt=Ut(j))&&(Qe.d(1),Qe=wt(j),Qe&&(Qe.c(),Qe.m(w,null))),Ae[0]&1024&&(w.disabled=j[10]),j[12].backgroundUrl?De?De.p(j,Ae):(De=Jt(j),De.c(),De.m(K,null)):De&&(De.d(1),De=null)},d(j){j&&f(e),nl(Ce,j),Qe.d(),De&&De.d(),Vt=!1,ot(Bt)}}}function kl(o){let e;return{c(){e=L("▶️")},l(t){e=A(t,"▶️")},m(t,l){G(t,e,l)},d(t){t&&f(e)}}}function wl(o){let e;return{c(){e=L("⏸️")},l(t){e=A(t,"⏸️")},m(t,l){G(t,e,l)},d(t){t&&f(e)}}}function Rt(o){let e,t,l,s,i,p,d,a=o[43].icon+"",h,C,_,I,V=o[43].name+"",y,U,F,O=o[43].description+"",Y,N,S,ae,J,H,ve;function _e(){return o[31](o[43])}function ye(ne,M){return ne[11]?wl:kl}let q=ye(o),D=q(o);function ge(){return o[32](o[43])}return{c(){e=u("div"),t=u("input"),s=x(),i=u("label"),p=u("div"),d=u("span"),h=L(a),C=x(),_=u("div"),I=u("div"),y=L(V),U=x(),F=u("div"),Y=L(O),N=x(),S=u("button"),D.c(),ae=x(),this.h()},l(ne){e=c(ne,"DIV",{class:!0});var M=b(e);t=c(M,"INPUT",{type:!0,id:!0,name:!0,class:!0}),s=m(M),i=c(M,"LABEL",{for:!0,class:!0});var ee=b(i);p=c(ee,"DIV",{class:!0});var re=b(p);d=c(re,"SPAN",{class:!0});var de=b(d);h=A(de,a),de.forEach(f),C=m(re),_=c(re,"DIV",{class:!0});var ke=b(_);I=c(ke,"DIV",{class:!0});var K=b(I);y=A(K,V),K.forEach(f),U=m(ke),F=c(ke,"DIV",{class:!0});var Z=b(F);Y=A(Z,O),Z.forEach(f),ke.forEach(f),re.forEach(f),ee.forEach(f),N=m(M),S=c(M,"BUTTON",{class:!0,title:!0});var fe=b(S);D.l(fe),fe.forEach(f),ae=m(M),M.forEach(f),this.h()},h(){n(t,"type","radio"),n(t,"id","voice-"+o[43].id),n(t,"name","voice"),t.value=o[43].id,t.checked=l=o[12].voiceId===o[43].id,n(t,"class","w-4 h-4 text-purple-600"),n(d,"class","text-lg"),n(I,"class","text-sm font-semibold text-white"),n(F,"class","text-xs text-gray-400"),n(_,"class","flex-1"),n(p,"class","flex items-center gap-2"),n(i,"for","voice-"+o[43].id),n(i,"class","flex-1 cursor-pointer"),S.disabled=o[11],n(S,"class","px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white text-xs font-semibold rounded transition-colors"),n(S,"title","Play sample"),n(e,"class",J="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[43].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))},m(ne,M){G(ne,e,M),r(e,t),r(e,s),r(e,i),r(i,p),r(p,d),r(d,h),r(p,C),r(p,_),r(_,I),r(I,y),r(_,U),r(_,F),r(F,Y),r(e,N),r(e,S),D.m(S,null),r(e,ae),H||(ve=[Q(t,"change",_e),Q(S,"click",ge)],H=!0)},p(ne,M){o=ne,M[0]&4096&&l!==(l=o[12].voiceId===o[43].id)&&(t.checked=l),q!==(q=ye(o))&&(D.d(1),D=q(o),D&&(D.c(),D.m(S,null))),M[0]&2048&&(S.disabled=o[11]),M[0]&4096&&J!==(J="flex items-center gap-2 p-3 bg-gray-900 border rounded-lg transition-all "+(o[12].voiceId===o[43].id?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"))&&n(e,"class",J)},d(ne){ne&&f(e),D.d(),H=!1,ot(ve)}}}function Cl(o){let e;return{c(){e=L("🎨 Generate")},l(t){e=A(t,"🎨 Generate")},m(t,l){G(t,e,l)},d(t){t&&f(e)}}}function El(o){let e,t=`<div class="animate-spin rounded-full h-3 w-3 border-2 border-white/30 border-t-white"></div>
									Generating...`;return{c(){e=u("span"),e.innerHTML=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-11bmtej"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex items-center gap-2")},m(l,s){G(l,e,s)},d(l){l&&f(e)}}}function Jt(o){let e,t,l,s,i,p,d="✕",a,h,C="✅ Background ready (global)",_,I;return{c(){e=u("div"),t=u("div"),l=u("img"),i=x(),p=u("button"),p.textContent=d,a=x(),h=u("p"),h.textContent=C,this.h()},l(V){e=c(V,"DIV",{class:!0});var y=b(e);t=c(y,"DIV",{class:!0});var U=b(t);l=c(U,"IMG",{src:!0,alt:!0,class:!0}),i=m(U),p=c(U,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),T(p)!=="svelte-1yft92g"&&(p.textContent=d),U.forEach(f),a=m(y),h=c(y,"P",{class:!0,"data-svelte-h":!0}),T(h)!=="svelte-4l9tbx"&&(h.textContent=C),y.forEach(f),this.h()},h(){jt(l.src,s=o[12].backgroundUrl)||n(l,"src",s),n(l,"alt","Generated background"),n(l,"class","w-full h-32 object-cover rounded-lg border-2 border-green-500"),n(p,"class","absolute top-2 right-2 px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs font-semibold rounded shadow-lg transition-colors"),n(p,"title","Clear background"),n(t,"class","relative"),n(h,"class","text-xs text-green-400 mt-1"),n(e,"class","mt-3")},m(V,y){G(V,e,y),r(e,t),r(t,l),r(t,i),r(t,p),r(e,a),r(e,h),_||(I=Q(p,"click",o[35]),_=!0)},p(V,y){y[0]&4096&&!jt(l.src,s=V[12].backgroundUrl)&&n(l,"src",s)},d(V){V&&f(e),_=!1,I()}}}function Wt(o){let e,t;return e=new fl({props:{taskId:o[8],title:"Creating Video",onStop:o[19],onClose:o[38]}}),{c(){xt(e.$$.fragment)},l(l){mt(e.$$.fragment,l)},m(l,s){_t(e,l,s),t=!0},p(l,s){const i={};s[0]&256&&(i.taskId=l[8]),s[0]&130&&(i.onClose=l[38]),e.$set(i)},i(l){t||(Le(e.$$.fragment,l),t=!0)},o(l){Fe(e.$$.fragment,l),t=!1},d(l){bt(e,l)}}}function Xt(o){let e,t,l,s="✨ Generated Post Text",i,p,d,a,h,C,_,I="Edit",V,y,U="Close",F,O;return{c(){e=u("div"),t=u("div"),l=u("h3"),l.textContent=s,i=x(),p=u("div"),d=u("p"),a=L(o[4]),h=x(),C=u("div"),_=u("button"),_.textContent=I,V=x(),y=u("button"),y.textContent=U,this.h()},l(Y){e=c(Y,"DIV",{class:!0});var N=b(e);t=c(N,"DIV",{class:!0});var S=b(t);l=c(S,"H3",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-1lbyrrb"&&(l.textContent=s),i=m(S),p=c(S,"DIV",{class:!0});var ae=b(p);d=c(ae,"P",{class:!0});var J=b(d);a=A(J,o[4]),J.forEach(f),ae.forEach(f),h=m(S),C=c(S,"DIV",{class:!0});var H=b(C);_=c(H,"BUTTON",{class:!0,"data-svelte-h":!0}),T(_)!=="svelte-s50vdr"&&(_.textContent=I),V=m(H),y=c(H,"BUTTON",{class:!0,"data-svelte-h":!0}),T(y)!=="svelte-11cd5q2"&&(y.textContent=U),H.forEach(f),S.forEach(f),N.forEach(f),this.h()},h(){n(l,"class","text-xl font-bold text-white mb-4"),n(d,"class","text-gray-200 whitespace-pre-wrap"),n(p,"class","bg-gray-900 p-4 rounded-lg mb-4"),n(_,"class","px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors"),n(y,"class","px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"),n(C,"class","flex justify-end gap-3"),n(t,"class","bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl mx-4 p-6"),n(e,"class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-40")},m(Y,N){G(Y,e,N),r(e,t),r(t,l),r(t,i),r(t,p),r(p,d),r(d,a),r(t,h),r(t,C),r(C,_),r(C,V),r(C,y),F||(O=[Q(_,"click",o[39]),Q(y,"click",o[40]),Q(t,"click",ol(o[22])),Q(e,"click",o[41])],F=!0)},p(Y,N){N[0]&16&&Ee(a,Y[4])},d(Y){Y&&f(e),F=!1,ot(O)}}}function Tl(o){let e,t,l,s,i,p=(o[0].theme||"No theme")+"",d,a,h,C=o[0].status+"",_,I,V,y,U,F=o[0].id+"",O,Y,N,S='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',ae,J,H,ve="📝 Сценарий / Контекст",_e,ye,q,D,ge,ne="🎤 Текст для озвучки",M,ee,re=o[6]?"Generating...":"✨ Generate",de,ke,K,Z,fe,pe,z,Pe,ce,he,Te;function Ge(v,E){return v[2]?vl:gl}let g=Ge(o),k=g(o);function B(v,E){return v[2]?ml:v[4]?_l:bl}let oe=B(o),R=oe(o);function be(v,E){return v[2]?yl:xl}let Ie=be(o),W=Ie(o),ie=o[9]&&zt(o),P=o[7]&&Wt(o),se=o[5]&&Xt(o);return{c(){e=u("div"),t=u("div"),l=u("div"),s=u("div"),i=u("span"),d=L(p),a=x(),h=u("span"),_=L(C),V=x(),y=u("p"),U=L("ID: "),O=L(F),Y=x(),N=u("button"),N.innerHTML=S,ae=x(),J=u("div"),H=u("label"),H.textContent=ve,_e=x(),k.c(),ye=x(),q=u("div"),D=u("div"),ge=u("label"),ge.textContent=ne,M=x(),ee=u("button"),de=L(re),ke=x(),R.c(),K=x(),Z=u("div"),W.c(),fe=x(),ie&&ie.c(),pe=x(),P&&P.c(),z=x(),se&&se.c(),Pe=rt(),this.h()},l(v){e=c(v,"DIV",{class:!0});var E=b(e);t=c(E,"DIV",{class:!0});var me=b(t);l=c(me,"DIV",{class:!0});var Ne=b(l);s=c(Ne,"DIV",{class:!0});var $=b(s);i=c($,"SPAN",{class:!0});var xe=b(i);d=A(xe,p),xe.forEach(f),a=m($),h=c($,"SPAN",{class:!0});var X=b(h);_=A(X,C),X.forEach(f),$.forEach(f),V=m(Ne),y=c(Ne,"P",{class:!0});var je=b(y);U=A(je,"ID: "),O=A(je,F),je.forEach(f),Ne.forEach(f),Y=m(me),N=c(me,"BUTTON",{class:!0,"data-svelte-h":!0}),T(N)!=="svelte-1pdyl8k"&&(N.innerHTML=S),me.forEach(f),ae=m(E),J=c(E,"DIV",{class:!0});var we=b(J);H=c(we,"LABEL",{class:!0,"data-svelte-h":!0}),T(H)!=="svelte-1n7rap0"&&(H.textContent=ve),_e=m(we),k.l(we),we.forEach(f),ye=m(E),q=c(E,"DIV",{class:!0});var qe=b(q);D=c(qe,"DIV",{class:!0});var Ve=b(D);ge=c(Ve,"LABEL",{class:!0,"data-svelte-h":!0}),T(ge)!=="svelte-1oeihmp"&&(ge.textContent=ne),M=m(Ve),ee=c(Ve,"BUTTON",{class:!0});var Xe=b(ee);de=A(Xe,re),Xe.forEach(f),Ve.forEach(f),ke=m(qe),R.l(qe),qe.forEach(f),K=m(E),Z=c(E,"DIV",{class:!0});var w=b(Z);W.l(w),w.forEach(f),E.forEach(f),fe=m(v),ie&&ie.l(v),pe=m(v),P&&P.l(v),z=m(v),se&&se.l(v),Pe=rt(),this.h()},h(){n(i,"class","text-xs px-2 py-1 bg-purple-500/20 text-purple-300 rounded"),n(h,"class",I="text-xs px-2 py-1 rounded "+(o[0].status==="approved"?"bg-green-500/20 text-green-300":o[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")),n(s,"class","flex items-center gap-2 mb-2"),n(y,"class","text-sm text-gray-400"),n(l,"class","flex-1"),n(N,"class","text-red-400 hover:text-red-300 transition-colors"),n(t,"class","flex items-start justify-between mb-4"),n(H,"class","block text-sm font-semibold text-gray-300"),n(J,"class","space-y-3"),n(ge,"class","block text-sm font-semibold text-gray-300"),ee.disabled=o[6],n(ee,"class","text-xs px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded transition-colors"),n(D,"class","flex items-center justify-between"),n(q,"class","mt-4 space-y-3"),n(Z,"class","flex gap-3 mt-6"),n(e,"class","bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-700 hover:border-purple-500/50 transition-all")},m(v,E){G(v,e,E),r(e,t),r(t,l),r(l,s),r(s,i),r(i,d),r(s,a),r(s,h),r(h,_),r(l,V),r(l,y),r(y,U),r(y,O),r(t,Y),r(t,N),r(e,ae),r(e,J),r(J,H),r(J,_e),k.m(J,null),r(e,ye),r(e,q),r(q,D),r(D,ge),r(D,M),r(D,ee),r(ee,de),r(q,ke),R.m(q,null),r(e,K),r(e,Z),W.m(Z,null),G(v,fe,E),ie&&ie.m(v,E),G(v,pe,E),P&&P.m(v,E),G(v,z,E),se&&se.m(v,E),G(v,Pe,E),ce=!0,he||(Te=[Q(N,"click",o[21]),Q(ee,"click",o[16])],he=!0)},p(v,E){(!ce||E[0]&1)&&p!==(p=(v[0].theme||"No theme")+"")&&Ee(d,p),(!ce||E[0]&1)&&C!==(C=v[0].status+"")&&Ee(_,C),(!ce||E[0]&1&&I!==(I="text-xs px-2 py-1 rounded "+(v[0].status==="approved"?"bg-green-500/20 text-green-300":v[0].status==="draft"?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300")))&&n(h,"class",I),(!ce||E[0]&1)&&F!==(F=v[0].id+"")&&Ee(O,F),g===(g=Ge(v))&&k?k.p(v,E):(k.d(1),k=g(v),k&&(k.c(),k.m(J,null))),(!ce||E[0]&64)&&re!==(re=v[6]?"Generating...":"✨ Generate")&&Ee(de,re),(!ce||E[0]&64)&&(ee.disabled=v[6]),oe===(oe=B(v))&&R?R.p(v,E):(R.d(1),R=oe(v),R&&(R.c(),R.m(q,null))),Ie===(Ie=be(v))&&W?W.p(v,E):(W.d(1),W=Ie(v),W&&(W.c(),W.m(Z,null))),v[9]?ie?ie.p(v,E):(ie=zt(v),ie.c(),ie.m(pe.parentNode,pe)):ie&&(ie.d(1),ie=null),v[7]?P?(P.p(v,E),E[0]&128&&Le(P,1)):(P=Wt(v),P.c(),Le(P,1),P.m(z.parentNode,z)):P&&(yt(),Fe(P,1,1,()=>{P=null}),kt()),v[5]?se?se.p(v,E):(se=Xt(v),se.c(),se.m(Pe.parentNode,Pe)):se&&(se.d(1),se=null)},i(v){ce||(Le(P),ce=!0)},o(v){Fe(P),ce=!1},d(v){v&&(f(e),f(fe),f(pe),f(z),f(Pe)),k.d(),R.d(),W.d(),ie&&ie.d(v),P&&P.d(v),se&&se.d(v),he=!1,ot(Te)}}}function Il(o){const e={cosmic:"Deep space cosmos, nebula colors, spiritual universe, infinite energy, celestial beauty, mystical stars, high quality",astrology:"Mystical zodiac wheel with all 12 signs, cosmic background, stars, planets, ethereal glow, spiritual art, high quality",numerology:"Sacred numerology symbols, golden numbers 1-9 in mystical circle, divine geometry, spiritual energy, cosmic background",matrix:"Destiny matrix energy map, sacred geometry, chakra colors, spiritual pathways, mystical symbols, glowing mandala",human_design:"Human Design body graph, energy centers, spiritual diagram, colorful chakras, cosmic consciousness, mystical blueprint",motivation:"Inspiring cosmic energy, spiritual awakening, golden light, universe connection, meditation vibes, peaceful atmosphere",moon:"Mystical moon phases, intuitive wisdom, celestial magic, spiritual feminine energy, night sky, stars, ethereal glow",tarot:"Mystical tarot cards spread, divine symbols, spiritual guidance, cosmic wisdom, ethereal art, magical atmosphere",chakras:"Seven colorful chakras energy centers, spiritual alignment, cosmic healing, rainbow aura, divine light"};return e[o]||e.cosmic}function Vl(o,e,t){let l;ll(o,Ke,g=>t(12,l=g));let{script:s}=e,{onUpdate:i}=e,p=!1,d=s.script,a=s.post_text||"",h=!1,C=!1,_=!1,I="",V=!1,y=!1,U=!1;rl(()=>{console.log("[ScriptCard] Current global settings:",l)});const F=[{id:"pNInz6obpgDQGcFmaJgB",name:"Adam",description:"Deep male - Warm, narrative",sampleFile:"/voice-samples/adam.mp3",icon:"🎙️"},{id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",description:"Female - Soft, friendly",sampleFile:"/voice-samples/bella.mp3",icon:"🎤"},{id:"TxGEqnHWrfWFTfGW9XjX",name:"Josh",description:"Young male - Energetic",sampleFile:"/voice-samples/josh.mp3",icon:"🔊"}];let O=null;async function Y(g){try{O&&(O.pause(),O.currentTime=0,O=null);const k=F.find(B=>B.id===g);if(!k)return;t(11,U=!0),O=new Audio(k.sampleFile),O.volume=.9,O.onended=()=>{t(11,U=!1),O=null},O.onerror=B=>{console.error("Error playing sample:",B),t(11,U=!1),O=null,alert(`Failed to load ${k.name} sample. Try regenerating voice samples.`)},await O.play()}catch(k){console.error("Error playing sample:",k),t(11,U=!1),O=null}}async function N(){try{await Ze.updateScript(s.id,{script:d,post_text:a}),t(2,p=!1),i()}catch(g){alert(`Error saving script: ${g}`)}}async function S(){t(6,C=!0);try{const g=await Ze.generatePostText(s.id);t(4,a=g.post_text),t(0,s.post_text=g.post_text,s),t(5,h=!0)}catch(g){alert(`Error generating post text: ${g}`)}finally{t(6,C=!1)}}async function ae(){!a&&!window.confirm("Post text is empty. Generate it first or use the scenario text?")||t(9,V=!0)}async function J(){await N();const g=l;try{const k=await Ze.generateVideo(s.id,g.textPosition,g.backgroundUrl||void 0,g.voiceId);t(8,I=k.task_id),console.log("[ScriptCard] Video generation started with GLOBAL settings:",{textPosition:g.textPosition,background:g.backgroundUrl?"custom":"default",voiceId:g.voiceId,taskId:k.task_id}),t(9,V=!1),t(7,_=!0)}catch(k){alert(`Error creating video: ${k}`),t(9,V=!1)}}async function H(){if(I)try{await Ze.cancelTask(I),t(7,_=!1),alert("Video generation stopped")}catch(g){alert(`Error stopping video: ${g}`)}}async function ve(){t(10,y=!0);try{const g=l.backgroundTheme,k=`https://image.pollinations.ai/prompt/${encodeURIComponent(Il(g))}?width=1920&height=1080&nologo=true`;console.log("[ScriptCard] Generating background:",g);const B=await fetch(k,{method:"GET"});if(!B.ok)throw new Error("Failed to generate image");const oe=await B.blob(),R=new File([oe],`${g}_background.png`,{type:"image/png"});console.log("[ScriptCard] Uploading to backend...");const be=await Ze.uploadBackground(R);console.log("[ScriptCard] Background uploaded:",be.filename);const Ie=`/storage/backgrounds/${be.filename}`;Ke.update(W=>({...W,backgroundUrl:Ie})),console.log("[ScriptCard] Background URL saved to store:",Ie),alert(`✅ Background generated and saved globally: ${g}`)}catch(g){console.error("[ScriptCard] Background generation error:",g),alert(`Error generating background: ${g}`)}finally{t(10,y=!1)}}async function _e(){if(confirm("Delete this script?"))try{await Ze.deleteScript(s.id),i()}catch(g){alert(`Error deleting script: ${g}`)}}function ye(g){Ht.call(this,o,g)}function q(g){Ht.call(this,o,g)}function D(){d=this.value,t(3,d)}function ge(){a=this.value,t(4,a)}const ne=()=>{t(2,p=!1),t(3,d=s.script),t(4,a=s.post_text||"")},M=()=>t(2,p=!0),ee=()=>Ke.update(g=>({...g,textPosition:"top"})),re=()=>Ke.update(g=>({...g,textPosition:"center"})),de=()=>Ke.update(g=>({...g,textPosition:"bottom"})),ke=g=>Ke.update(k=>({...k,voiceId:g.id})),K=g=>Y(g.id),Z=g=>Ke.update(k=>({...k,backgroundTheme:g.currentTarget.value})),fe=async g=>{var B;const k=(B=g.currentTarget.files)==null?void 0:B[0];if(k)try{const oe=await Ze.uploadBackground(k);alert(`Background uploaded: ${oe.filename}`)}catch(oe){alert(`Upload error: ${oe}`)}},pe=()=>{var g;(g=l.backgroundUrl)!=null&&g.startsWith("blob:")&&URL.revokeObjectURL(l.backgroundUrl),Ke.update(k=>({...k,backgroundUrl:null}))},z=()=>t(9,V=!1),Pe=()=>t(9,V=!1),ce=()=>{t(7,_=!1),i()},he=()=>{t(2,p=!0),t(5,h=!1)},Te=()=>t(5,h=!1),Ge=()=>t(5,h=!1);return o.$$set=g=>{"script"in g&&t(0,s=g.script),"onUpdate"in g&&t(1,i=g.onUpdate)},[s,i,p,d,a,h,C,_,I,V,y,U,l,F,Y,N,S,ae,J,H,ve,_e,ye,q,D,ge,ne,M,ee,re,de,ke,K,Z,fe,pe,z,Pe,ce,he,Te,Ge]}class Dl extends $t{constructor(e){super(),el(this,e,Vl,Tl,tl,{script:0,onUpdate:1},null,[-1,-1])}}function Qt(o,e,t){const l=o.slice();return l[12]=e[t],l}function Yt(o,e,t){const l=o.slice();return l[9]=e[t],l}function Pl(o){let e,t=[],l=new Map,s,i=ft(o[1]);const p=d=>d[12].id;for(let d=0;d<i.length;d+=1){let a=Qt(o,i,d),h=p(a);l.set(h,t[d]=Kt(h,a))}return{c(){e=u("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=c(d,"DIV",{class:!0});var a=b(e);for(let h=0;h<t.length;h+=1)t[h].l(a);a.forEach(f),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(d,a){G(d,e,a);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(d,a){a&34&&(i=ft(d[1]),yt(),t=sl(t,a,p,1,d,i,l,e,al,Kt,null,Qt),kt())},i(d){if(!s){for(let a=0;a<i.length;a+=1)Le(t[a]);s=!0}},o(d){for(let a=0;a<t.length;a+=1)Fe(t[a]);s=!1},d(d){d&&f(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Nl(o){let e,t='<div class="text-6xl mb-4">🎥</div> <p class="text-gray-300 text-lg">No videos yet</p> <p class="text-gray-400 text-sm mt-2">Create videos from your scripts first</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-qv289k"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){G(l,e,s)},p:He,i:He,o:He,d(l){l&&f(e)}}}function Sl(o){let e,t,l,s;const i=[Ol,Ul],p=[];function d(a,h){return a[0].length===0?0:1}return e=d(o),t=p[e]=i[e](o),{c(){t.c(),l=rt()},l(a){t.l(a),l=rt()},m(a,h){p[e].m(a,h),G(a,l,h),s=!0},p(a,h){let C=e;e=d(a),e===C?p[e].p(a,h):(yt(),Fe(p[C],1,1,()=>{p[C]=null}),kt(),t=p[e],t?t.p(a,h):(t=p[e]=i[e](a),t.c()),Le(t,1),t.m(l.parentNode,l))},i(a){s||(Le(t),s=!0)},o(a){Fe(t),s=!1},d(a){a&&f(l),p[e].d(a)}}}function Bl(o){let e,t,l,s,i=o[4]("common.loading")+"",p;return{c(){e=u("div"),t=u("div"),l=x(),s=u("p"),p=L(i),this.h()},l(d){e=c(d,"DIV",{class:!0});var a=b(e);t=c(a,"DIV",{class:!0}),b(t).forEach(f),l=m(a),s=c(a,"P",{class:!0});var h=b(s);p=A(h,i),h.forEach(f),a.forEach(f),this.h()},h(){n(t,"class","animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"),n(s,"class","text-gray-300 mt-4"),n(e,"class","text-center py-12")},m(d,a){G(d,e,a),r(e,t),r(e,l),r(e,s),r(s,p)},p(d,a){a&16&&i!==(i=d[4]("common.loading")+"")&&Ee(p,i)},i:He,o:He,d(d){d&&f(e)}}}function Kt(o,e){let t,l,s;return l=new pl({props:{video:e[12],onUpdate:e[5]}}),{key:o,first:null,c(){t=rt(),xt(l.$$.fragment),this.h()},l(i){t=rt(),mt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){G(i,t,p),_t(l,i,p),s=!0},p(i,p){e=i;const d={};p&2&&(d.video=e[12]),l.$set(d)},i(i){s||(Le(l.$$.fragment,i),s=!0)},o(i){Fe(l.$$.fragment,i),s=!1},d(i){i&&f(t),bt(l,i)}}}function Ul(o){let e,t=[],l=new Map,s,i=ft(o[0]);const p=d=>d[9].id;for(let d=0;d<i.length;d+=1){let a=Yt(o,i,d),h=p(a);l.set(h,t[d]=Zt(h,a))}return{c(){e=u("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=c(d,"DIV",{class:!0});var a=b(e);for(let h=0;h<t.length;h+=1)t[h].l(a);a.forEach(f),this.h()},h(){n(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(d,a){G(d,e,a);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(d,a){a&33&&(i=ft(d[0]),yt(),t=sl(t,a,p,1,d,i,l,e,al,Zt,null,Yt),kt())},i(d){if(!s){for(let a=0;a<i.length;a+=1)Le(t[a]);s=!0}},o(d){for(let a=0;a<t.length;a+=1)Fe(t[a]);s=!1},d(d){d&&f(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Ol(o){let e,t='<div class="text-6xl mb-4">📝</div> <p class="text-gray-300 text-lg">No scripts yet</p> <p class="text-gray-400 text-sm mt-2">Go to Dashboard to generate new scripts</p>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1t1kq1f"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-center py-12")},m(l,s){G(l,e,s)},p:He,i:He,o:He,d(l){l&&f(e)}}}function Zt(o,e){let t,l,s;return l=new Dl({props:{script:e[9],onUpdate:e[5]}}),{key:o,first:null,c(){t=rt(),xt(l.$$.fragment),this.h()},l(i){t=rt(),mt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,p){G(i,t,p),_t(l,i,p),s=!0},p(i,p){e=i;const d={};p&1&&(d.script=e[9]),l.$set(d)},i(i){s||(Le(l.$$.fragment,i),s=!0)},o(i){Fe(l.$$.fragment,i),s=!1},d(i){i&&f(t),bt(l,i)}}}function Al(o){let e,t,l,s,i,p,d,a,h="AllAboutMe",C,_,I,V=o[4]("nav.dashboard")+"",y,U,F,O=o[4]("nav.drafts")+"",Y,N,S,ae=o[4]("nav.publish")+"",J,H,ve,_e=o[4]("nav.automation")+"",ye,q,D,ge=o[4]("nav.settings")+"",ne,M,ee,re,de,ke="Logout",K,Z,fe,pe,z,Pe,ce=o[4]("common.loading").includes("...")?"Scripts":"Скрипты",he,Te,Ge=o[0].length+"",g,k,B,oe,R,be,Ie=o[4]("common.loading").includes("...")?"Videos":"Видео",W,ie,P=o[1].length+"",se,v,E,me,Ne,$,xe,X,je,we;p=new cl({}),ee=new ul({});const qe=[Bl,Sl,Nl,Pl],Ve=[];function Xe(w,le){return w[3]?0:w[2]==="scripts"?1:w[1].length===0?2:3}return $=Xe(o),xe=Ve[$]=qe[$](o),{c(){e=u("div"),t=u("header"),l=u("div"),s=u("div"),i=u("div"),xt(p.$$.fragment),d=x(),a=u("h1"),a.textContent=h,C=x(),_=u("nav"),I=u("a"),y=L(V),U=x(),F=u("a"),Y=L(O),N=x(),S=u("a"),J=L(ae),H=x(),ve=u("a"),ye=L(_e),q=x(),D=u("a"),ne=L(ge),M=x(),xt(ee.$$.fragment),re=x(),de=u("button"),de.textContent=ke,K=x(),Z=u("main"),fe=u("div"),pe=u("div"),z=u("button"),Pe=L("📝 "),he=L(ce),Te=L(" ("),g=L(Ge),k=L(")"),oe=x(),R=u("button"),be=L("🎥 "),W=L(Ie),ie=L(" ("),se=L(P),v=L(")"),me=x(),Ne=u("div"),xe.c(),this.h()},l(w){e=c(w,"DIV",{class:!0});var le=b(e);t=c(le,"HEADER",{class:!0});var Ue=b(t);l=c(Ue,"DIV",{class:!0});var pt=b(l);s=c(pt,"DIV",{class:!0});var $e=b(s);i=c($e,"DIV",{class:!0});var Oe=b(i);mt(p.$$.fragment,Oe),d=m(Oe),a=c(Oe,"H1",{class:!0,"data-svelte-h":!0}),T(a)!=="svelte-16dyx6r"&&(a.textContent=h),Oe.forEach(f),C=m($e),_=c($e,"NAV",{class:!0});var ue=b(_);I=c(ue,"A",{href:!0,class:!0});var ht=b(I);y=A(ht,V),ht.forEach(f),U=m(ue),F=c(ue,"A",{href:!0,class:!0});var st=b(F);Y=A(st,O),st.forEach(f),N=m(ue),S=c(ue,"A",{href:!0,class:!0});var ze=b(S);J=A(ze,ae),ze.forEach(f),H=m(ue),ve=c(ue,"A",{href:!0,class:!0});var at=b(ve);ye=A(at,_e),at.forEach(f),q=m(ue),D=c(ue,"A",{href:!0,class:!0});var Re=b(D);ne=A(Re,ge),Re.forEach(f),M=m(ue),mt(ee.$$.fragment,ue),re=m(ue),de=c(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),T(de)!=="svelte-1mey7yq"&&(de.textContent=ke),ue.forEach(f),$e.forEach(f),pt.forEach(f),Ue.forEach(f),K=m(le),Z=c(le,"MAIN",{class:!0});var gt=b(Z);fe=c(gt,"DIV",{class:!0});var et=b(fe);pe=c(et,"DIV",{class:!0});var tt=b(pe);z=c(tt,"BUTTON",{class:!0});var Se=b(z);Pe=A(Se,"📝 "),he=A(Se,ce),Te=A(Se," ("),g=A(Se,Ge),k=A(Se,")"),Se.forEach(f),oe=m(tt),R=c(tt,"BUTTON",{class:!0});var Be=b(R);be=A(Be,"🎥 "),W=A(Be,Ie),ie=A(Be," ("),se=A(Be,P),v=A(Be,")"),Be.forEach(f),tt.forEach(f),me=m(et),Ne=c(et,"DIV",{class:!0});var vt=b(Ne);xe.l(vt),vt.forEach(f),et.forEach(f),gt.forEach(f),le.forEach(f),this.h()},h(){n(a,"class","text-2xl font-bold text-white"),n(i,"class","flex items-center gap-4"),n(I,"href","/dashboard"),n(I,"class","text-gray-300 hover:text-white transition-colors"),n(F,"href","/drafts"),n(F,"class","text-white font-semibold"),n(S,"href","/publish"),n(S,"class","text-gray-300 hover:text-white transition-colors"),n(ve,"href","/automation"),n(ve,"class","text-gray-300 hover:text-white transition-colors"),n(D,"href","/settings"),n(D,"class","text-gray-300 hover:text-white transition-colors"),n(de,"class","text-red-300 hover:text-red-200 transition-colors text-sm"),n(_,"class","flex items-center gap-6"),n(s,"class","flex items-center justify-between"),n(l,"class","container mx-auto px-6 py-4"),n(t,"class","bg-black/30 backdrop-blur-md border-b border-white/10"),n(z,"class",B=(o[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(R,"class",E=(o[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"),n(pe,"class","flex border-b border-white/10"),n(Ne,"class","p-6"),n(fe,"class","bg-white/10 backdrop-blur-md rounded-lg border border-white/20 overflow-hidden"),n(Z,"class","container mx-auto px-6 py-8"),n(e,"class","min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-blue-900")},m(w,le){G(w,e,le),r(e,t),r(t,l),r(l,s),r(s,i),_t(p,i,null),r(i,d),r(i,a),r(s,C),r(s,_),r(_,I),r(I,y),r(_,U),r(_,F),r(F,Y),r(_,N),r(_,S),r(S,J),r(_,H),r(_,ve),r(ve,ye),r(_,q),r(_,D),r(D,ne),r(_,M),_t(ee,_,null),r(_,re),r(_,de),r(e,K),r(e,Z),r(Z,fe),r(fe,pe),r(pe,z),r(z,Pe),r(z,he),r(z,Te),r(z,g),r(z,k),r(pe,oe),r(pe,R),r(R,be),r(R,W),r(R,ie),r(R,se),r(R,v),r(fe,me),r(fe,Ne),Ve[$].m(Ne,null),X=!0,je||(we=[Q(de,"click",o[6]),Q(z,"click",o[7]),Q(R,"click",o[8])],je=!0)},p(w,[le]){(!X||le&16)&&V!==(V=w[4]("nav.dashboard")+"")&&Ee(y,V),(!X||le&16)&&O!==(O=w[4]("nav.drafts")+"")&&Ee(Y,O),(!X||le&16)&&ae!==(ae=w[4]("nav.publish")+"")&&Ee(J,ae),(!X||le&16)&&_e!==(_e=w[4]("nav.automation")+"")&&Ee(ye,_e),(!X||le&16)&&ge!==(ge=w[4]("nav.settings")+"")&&Ee(ne,ge),(!X||le&16)&&ce!==(ce=w[4]("common.loading").includes("...")?"Scripts":"Скрипты")&&Ee(he,ce),(!X||le&1)&&Ge!==(Ge=w[0].length+"")&&Ee(g,Ge),(!X||le&4&&B!==(B=(w[2]==="scripts"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(z,"class",B),(!X||le&16)&&Ie!==(Ie=w[4]("common.loading").includes("...")?"Videos":"Видео")&&Ee(W,Ie),(!X||le&2)&&P!==(P=w[1].length+"")&&Ee(se,P),(!X||le&4&&E!==(E=(w[2]==="videos"?"bg-purple-600 text-white":"text-gray-300 hover:bg-white/5")+" flex-1 px-6 py-4 text-center font-semibold transition-all"))&&n(R,"class",E);let Ue=$;$=Xe(w),$===Ue?Ve[$].p(w,le):(yt(),Fe(Ve[Ue],1,1,()=>{Ve[Ue]=null}),kt(),xe=Ve[$],xe?xe.p(w,le):(xe=Ve[$]=qe[$](w),xe.c()),Le(xe,1),xe.m(Ne,null))},i(w){X||(Le(p.$$.fragment,w),Le(ee.$$.fragment,w),Le(xe),X=!0)},o(w){Fe(p.$$.fragment,w),Fe(ee.$$.fragment,w),Fe(xe),X=!1},d(w){w&&f(e),bt(p),bt(ee),Ve[$].d(),je=!1,ot(we)}}}function Ll(o,e,t){let l;ll(o,dl,I=>t(4,l=I));let s=[],i=[],p="scripts",d=!0;rl(async()=>{if(!localStorage.getItem("auth_token")){Pt("/");return}await a()});async function a(){t(3,d=!0);try{if(!localStorage.getItem("auth_token")){Pt("/");return}const[V,y]=await Promise.all([Ze.getScripts("draft"),Ze.getVideos()]);t(0,s=V),t(1,i=y)}catch(I){console.error("Error loading data:",I)}finally{t(3,d=!1)}}function h(){localStorage.removeItem("auth_token"),Pt("/")}return[s,i,p,d,l,a,h,()=>t(2,p="scripts"),()=>t(2,p="videos")]}class Jl extends $t{constructor(e){super(),el(this,e,Ll,Al,tl,{})}}export{Jl as component};
