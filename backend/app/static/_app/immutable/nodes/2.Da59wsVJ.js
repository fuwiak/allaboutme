import{S as se,i as oe,s as re,n as W,d as _,r as ae,a as j,b as $,c as ee,e as t,l as R,p as ne,f as s,g as d,h as P,j as D,k,m as te,o as c,q as C,t as le,u as ie}from"../chunks/DDZ0vrLm.js";import"../chunks/IHki7fMi.js";import{g as X}from"../chunks/Bd6oWJ6P.js";import{a as ue}from"../chunks/Qzne32_b.js";import{a as de}from"../chunks/Dn83RhUX.js";function Z(i){let o,e;return{c(){o=c("div"),e=le(i[2]),this.h()},l(l){o=d(l,"DIV",{class:!0});var u=P(o);e=te(u,i[2]),u.forEach(_),this.h()},h(){s(o,"class","bg-red-500/20 border border-red-500 text-red-200 px-4 py-3 rounded-lg")},m(l,u){ee(l,o,u),t(o,e)},p(l,u){u&4&&$(e,l[2])},d(l){l&&_(o)}}}function ce(i){let o,e,l,u="AllAboutMe",E,m,T="Video Generation Platform",S,r,f,g,Y="Username",B,p,M,L,x,z="Password",O,h,F,V,v,q=i[3]?"Logging in...":"Login",A,G,I,J="Default: admin / admin123",H,K,a=i[2]&&Z(i);return{c(){o=c("div"),e=c("div"),l=c("h1"),l.textContent=u,E=C(),m=c("p"),m.textContent=T,S=C(),r=c("form"),f=c("div"),g=c("label"),g.textContent=Y,B=C(),p=c("input"),M=C(),L=c("div"),x=c("label"),x.textContent=z,O=C(),h=c("input"),F=C(),a&&a.c(),V=C(),v=c("button"),A=le(q),G=C(),I=c("p"),I.textContent=J,this.h()},l(n){o=d(n,"DIV",{class:!0});var b=P(o);e=d(b,"DIV",{class:!0});var w=P(e);l=d(w,"H1",{class:!0,"data-svelte-h":!0}),D(l)!=="svelte-3l9ee2"&&(l.textContent=u),E=k(w),m=d(w,"P",{class:!0,"data-svelte-h":!0}),D(m)!=="svelte-103b4m7"&&(m.textContent=T),S=k(w),r=d(w,"FORM",{class:!0});var y=P(r);f=d(y,"DIV",{});var N=P(f);g=d(N,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),D(g)!=="svelte-1l5ub1q"&&(g.textContent=Y),B=k(N),p=d(N,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),N.forEach(_),M=k(y),L=d(y,"DIV",{});var U=P(L);x=d(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),D(x)!=="svelte-1ebe76k"&&(x.textContent=z),O=k(U),h=d(U,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),U.forEach(_),F=k(y),a&&a.l(y),V=k(y),v=d(y,"BUTTON",{type:!0,class:!0});var Q=P(v);A=te(Q,q),Q.forEach(_),y.forEach(_),G=k(w),I=d(w,"P",{class:!0,"data-svelte-h":!0}),D(I)!=="svelte-ek1q1j"&&(I.textContent=J),w.forEach(_),b.forEach(_),this.h()},h(){s(l,"class","text-4xl font-bold text-white mb-2 text-center"),s(m,"class","text-gray-300 text-center mb-8"),s(g,"for","username"),s(g,"class","block text-sm font-medium text-gray-200 mb-2"),s(p,"type","text"),s(p,"id","username"),p.required=!0,s(p,"class","w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"),s(p,"placeholder","Enter username"),s(x,"for","password"),s(x,"class","block text-sm font-medium text-gray-200 mb-2"),s(h,"type","password"),s(h,"id","password"),h.required=!0,s(h,"class","w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"),s(h,"placeholder","Enter password"),s(v,"type","submit"),v.disabled=i[3],s(v,"class","w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"),s(r,"class","space-y-6"),s(I,"class","text-gray-400 text-sm text-center mt-6"),s(e,"class","bg-white/10 backdrop-blur-md p-8 rounded-lg shadow-2xl w-full max-w-md"),s(o,"class","min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-black")},m(n,b){ee(n,o,b),t(o,e),t(e,l),t(e,E),t(e,m),t(e,S),t(e,r),t(r,f),t(f,g),t(f,B),t(f,p),j(p,i[0]),t(r,M),t(r,L),t(L,x),t(L,O),t(L,h),j(h,i[1]),t(r,F),a&&a.m(r,null),t(r,V),t(r,v),t(v,A),t(e,G),t(e,I),H||(K=[R(p,"input",i[5]),R(h,"input",i[6]),R(r,"submit",ne(i[4]))],H=!0)},p(n,[b]){b&1&&p.value!==n[0]&&j(p,n[0]),b&2&&h.value!==n[1]&&j(h,n[1]),n[2]?a?a.p(n,b):(a=Z(n),a.c(),a.m(r,V)):a&&(a.d(1),a=null),b&8&&q!==(q=n[3]?"Logging in...":"Login")&&$(A,q),b&8&&(v.disabled=n[3])},i:W,o:W,d(n){n&&_(o),a&&a.d(),H=!1,ae(K)}}}function fe(i,o,e){let l="",u="",E="",m=!1;async function T(){e(2,E=""),e(3,m=!0);try{const f=await ue.login(l,u);console.log("Login successful, token:",f.access_token.substring(0,20)+"...");const g=localStorage.getItem("auth_token");console.log("Token saved in localStorage:",g?"YES":"NO"),de.set({isAuthenticated:!0,username:l}),X("/dashboard")}catch(f){e(2,E=f.message||"Login failed"),console.error("Login error:",f)}finally{e(3,m=!1)}}ie(()=>{localStorage.getItem("auth_token")&&X("/dashboard")});function S(){l=this.value,e(0,l)}function r(){u=this.value,e(1,u)}return[l,u,E,m,T,S,r]}class ve extends se{constructor(o){super(),oe(this,o,fe,ce,re,{})}}export{ve as component};
